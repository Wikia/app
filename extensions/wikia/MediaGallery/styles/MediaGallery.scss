$media-margin: .5em;

.media-gallery-wrapper {
	@include grid-row();
	margin: 0 $media-margin * -1;
	width: auto;

	&.count-2 .media {
		@include grid-column(5);
		&:first-child {
			@include grid-column(5, false, false, 1);
		}
	}

	&.count-3 .media {
		@include grid-column(4);
	}

	&.count-4 .media {
		@include grid-column(3);
	}

	&.count-5 .media {
		@include grid-column(6);

		&:nth-child(n+2) {
			@include grid-column(3);
		}
	}

	&.count-6 .media {
		@include grid-column(4);
	}

	&.count-7 .media {
		@include grid-column(4);

		&:nth-child(n+4) {
			@include grid-column(3);
		}
	}

	&.count-8 .media {
		@include grid-column(3);
	}

	&[class*="count-"] .media:nth-child(n) {
		padding: $media-margin;

		img {
			width: 100%;
		}
	}
}

