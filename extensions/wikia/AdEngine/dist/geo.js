define("ext.wikia.adEngine.geo",[],function(){return function(n){var e={};function t(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=n,t.c=e,t.d=function(n,e,o){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:o})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=162)}({162:function(n,e,t){"use strict";t.r(e);var o=t(98),r=t.n(o);var i={getRandom:function(){return Math.random()}};const s={adUnitId:"",events:{},delayModules:[],listeners:{twitch:[],porvata:[],slot:[]},options:{customAdLoader:{globalMethodName:"loadCustomAd"},maxDelayTimeout:2e3,video:{moatTracking:{enabled:!0,partnerCode:"wikiaimajsint377461931603",sampling:1}},slotRepeater:!1,trackingOptIn:!1},slots:{},src:"gpt",state:{adStack:[],isMobile:!1},targeting:{},vast:{size:[640,480],adUnitId:""}},u={};function c(n,e,t){let o="";e.forEach(e=>{!function(n,e,t){u[n]&&u[n].forEach(n=>{n(e,t)})}(o+=(""===o?"":".")+e,n,t)})}function a(n,e,t=!1){const o=n.split("."),r=o.length;let i=s,u=null;for(let n=0;n<r;n+=1)u=o[n],n<r-1&&(i[u]=i[u]||{},i=i[u]);return t?(delete i[u],null):(void 0!==e&&(i[u]=e,c(n,o,e)),i[u])}const f=new class{constructor(){this.__useDefault=!0}extend(n){Object.assign(s,n)}set(n,e){a(n,e)}get(n){return a(n)}remove(n){a(n,null,!0)}push(n,e){const t=a(n);t&&t.push(e)}onChange(n,e){u[n]=u[n]||[],u[n].push(e)}removeListeners(n){Object.keys(u).forEach(e=>{e!==n&&0!==e.indexOf(`${n}.`)||delete u[e]})}},d="-cached",l=18e5,p="XX",g="non-",m=1e6,h="/",x="tracking_session_id";let C={},v=!1,O=null;function y(n){let[,e]=n.split(h);return e=e.replace(d,""),0|Math.round(parseFloat(e)*m)}function w(n,e,t,o){const[r]=t;C[n]={name:n,group:e?"B":"A",limit:(e?r:100*m-r)/m,result:e,withCookie:o},o&&function(){const n={};Object.keys(C).forEach(e=>{C[e].withCookie&&(n[e]=C[e])}),S(JSON.stringify(n))}()}function S(n){r.a.set(`${f.get("options.session.id")}_basset`,n,{maxAge:l,expires:new Date((new Date).getTime()+l),path:"/",domain:function(){const n=window.location.hostname.split(".");return n.length>1?`.${n[n.length-2]}.${n[n.length-1]}`:void 0}(),overwrite:!0})}function k(n,e,t){const o=n.filter(function(n){return e=>0!==e.indexOf(g)&&e.indexOf(n+h)>-1}(e)),r=function(n){return n.some(n=>-1!==n.indexOf(d))}(n);return 0!==o.length&&function(n,e,t){const o=0|Math.round(i.getRandom()*(100*m)),r=n.some(n=>o<n);return e&&w(e,r,n,t),r}(o.map(y),t,r)}function $(){if(null===O){const n=decodeURIComponent(r.a.get("Geo"));try{O=JSON.parse(n)||{}}catch(n){O={}}}return O}function R(n){O=n}function b(){return $().country}function I(){return $().continent}function j(){return $().region}function _(n=[],e){return!!(n&&n.indexOf&&(n.indexOf(b())>-1||k(n,b(),e)))}function M(n=[],e){const t=`${b()}-${j()}`;return!!(n&&n.indexOf&&(n.indexOf(t)>-1||k(n,t,e)))}function U(n=[],e){return!(!n||!n.indexOf||!function(n,e){return n.indexOf(p)>-1||k(n,p,e)}(n,e)&&!function(n=[],e){const t=`${p}-${I()}`;return n.indexOf(t)>-1||k(n,t,e)}(n,e))}function D(n){const e=C[n];return`${e.name}_${e.group}_${e.limit}`}function E(){C={}}function N(){const n=f.get("options.session.cookieName")||x;P(r.a.get(n)||f.get("options.session.id")||"ae3")}function P(n){f.set("options.session.id",n),v=!1}function A(){return Object.keys(C).map(D)}function J(n=[],e){return v||function(){N();const n=r.a.get(`${f.get("options.session.id")}_basset`);if(n){const e=JSON.parse(n);Object.keys(e).forEach(n=>{C[n]=e[n]}),S(n)}v=!0}(),void 0!==e&&void 0!==C[e]?C[e].result:!(!n||!n.indexOf||function(n=[]){return!!(n.indexOf(`${g}${b()}`)>-1||n.indexOf(`${g}${b()}-${j()}`)>-1||n.indexOf(`${g}${p}-${I()}`)>-1)}(n)||!(U(n,e)||_(n,e)||M(n,e)))}function B(n){if(!n||!n.length)return[];const e=G.getSamplingResults();return n.map(n=>n.split(":")).filter(n=>-1!==e.indexOf(n[0])).map(n=>n[1])}const G={getContinentCode:I,getCountryCode:b,getRegionCode:j,getSamplingResults:A,isProperGeo:J,resetSamplingCache:E,readSessionId:N,setSessionId:P,mapSamplingResults:B};t.d(e,"setGeoData",function(){return R}),t.d(e,"getCountryCode",function(){return b}),t.d(e,"getContinentCode",function(){return I}),t.d(e,"getRegionCode",function(){return j}),t.d(e,"isProperCountry",function(){return _}),t.d(e,"isProperRegion",function(){return M}),t.d(e,"isProperContinent",function(){return U}),t.d(e,"resetSamplingCache",function(){return E}),t.d(e,"readSessionId",function(){return N}),t.d(e,"setSessionId",function(){return P}),t.d(e,"getSamplingResults",function(){return A}),t.d(e,"isProperGeo",function(){return J}),t.d(e,"mapSamplingResults",function(){return B})},98:function(n,e,t){var o,r;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(r="function"==typeof(o=i)?o.call(e,t,e,n):o)||(n.exports=r),!0,n.exports=i(),!!0){var s=window.Cookies,u=window.Cookies=i();u.noConflict=function(){return window.Cookies=s,u}}}(function(){function n(){for(var n=0,e={};n<arguments.length;n++){var t=arguments[n];for(var o in t)e[o]=t[o]}return e}return function e(t){function o(e,r,i){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=n({path:"/"},o.defaults,i)).expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}i.expires=i.expires?i.expires.toUTCString():"";try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(n){}r=t.write?t.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var a in i)i[a]&&(c+="; "+a,!0!==i[a]&&(c+="="+i[a]));return document.cookie=e+"="+r+c}e||(s={});for(var f=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,l=0;l<f.length;l++){var p=f[l].split("="),g=p.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(g=t.read?t.read(g,m):t(g,m)||g.replace(d,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(n){}if(e===m){s=g;break}e||(s[m]=g)}catch(n){}}return s}}return o.set=o,o.get=function(n){return o.call(o,n)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(e,t){o(e,"",n(t,{expires:-1}))},o.withConverter=e,o}(function(){})})}})});