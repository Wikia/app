<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Ad* Tests</title>

		<script>
		/**
		 * AdProviders behaves significantly different based on this variable which it set to true
		 * in test environment, and is not set at all in production environment. It is very wrong
		 * and should be solved ASAP.
		 */
		wgInsideUnitTest = true;
		</script>

		<!-- Load test framework -->
		<link rel="stylesheet" href="../../../../../tests/lib/qunit/qunit.css">
		<script src="../../../../../tests/lib/qunit/qunit.js"></script>

		<!-- Tested objects -->
		<script src="../../../../../resources/wikia/modules/querystring.js"></script>
		<script src="../../../../../resources/wikia/modules/cookies.js"></script>
		<script src="../../../../../resources/wikia/modules/log.js"></script>
		<script src="../../../WikiaTracker/js/WikiaTracker.js"></script>
		<script src="../../ghost/gw-11.6.7/lib/gw.js"></script>
		<script src="../AdProviderEvolve.js"></script>
		<script src="../AdProviderEvolveRS.js"></script>
		<script src="../AdProviderGamePro.js"></script>
		<script src="../AdProviderAdDriver2.js"></script>
		<script src="../AdConfig2.js"></script>
		<script src="../../AdDriverGP.js"></script>
		<script src="../AdEngine2.js"></script>

		<!-- Load test suites -->
		<script src="AdConfig2Test.js"></script>
		<script src="AdEngine2Test.js"></script>
		<script src="AdProviderEvolveTest.js"></script>
		<script src="AdProviderEvolveRSTest.js"></script>
		<script src="AdProviderGameProTest.js"></script>

		<!-- Crazy tests requiring environmental stuff -->
		<script>
		/**
		 * AdConfig.js have a strong dependency on Wikia.geo.getGeoData function which is not
		 * available in test environment so we are mocking it here. It can't be defined in module
		 * setup because it is too late (AdConfig.js calls that function just after it is loaded).
		 * This problem should be solved in a better way.
		 */
		Wikia.geo = { getGeoData: function() { } };
		</script>
		<!-- Tested objects (+ anything before of course) -->
		<script src="../../AdConfig.js"></script>

		<!-- Tests -->
		<script src="AdDriverGPTest.js"></script>
		<script src="AdDriverTest.js"></script>
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture">test markup</div>
	</body>
</html>
