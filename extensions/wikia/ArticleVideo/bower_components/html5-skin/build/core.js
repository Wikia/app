try{!function(){var e={};e.VERSION={core:{releaseVersion:"4.10.6",rev:"<CORE_REV>"}},e.playerParams={core_version:4,vast_proxy_url:"http://player.ooyala.com/adinsertion/vast_proxy"},e.publicApi=e.publicApi||{},e.playerParams=e.playerParams||{};var t,n=!1,i=2e3;e.consoleOutput=[],e.log=function(){if("undefined"!=typeof window.console&&"function"==typeof window.console.log&&e.playerParams.debug&&window.console.log.apply(window.console,arguments),n){var r,a="";for(r=0;r<arguments.length;r++)a+=arguments[r]+" ";e.consoleOutput||(e.consoleOutput=[]);var s;t&&(s=new RegExp(t)),(!s||s.test(a))&&(e.consoleOutput.length>=i&&e.consoleOutput.shift(),e.consoleOutput.push(a))}},e.startRecordingConsoleOutput=function(e){return t=e,n=!0,"CONSOLE RECORDING STARTED"},e.stopRecordingConsoleOutput=function(){return n=!1,"CONSOLE RECORDING STOPPED"},e.clearRecordedConsoleOutput=function(){return e.consoleOutput||(e.consoleOutput=[]),e.consoleOutput.splice(0,e.consoleOutput.length),"CONSOLE RECORDING CLEARED"},e.setMaxConsoleOutputLines=function(t){return e.consoleOutput||(e.consoleOutput=[]),t<e.consoleOutput.length&&e.consoleOutput.splice(0,e.consoleOutput.length-t),i=t,"CONSOLE MAX LINES: "+i},window.JSON||(window.JSON={stringify:function(){return"<object>"},__end_marker:!0}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,i=this.length;for(n=t||0;i>n;n++)if(this[n]===e)return n;return-1});var r=e.playerParams.namespace||"OO";if(window[r]&&window[r].Player)throw e.log("PlayerV3 is loaded already!!!"),window[r].REV!=e.publicApi.REV&&e.log("there is a different VERSION loaded:",window[r].REV,e.publicApi.REV),"PlayerV3 already defined!!";e.publicApi.__static=window[r]&&window[r].__static?window[r].__static:{readyList:[],docReady:!1,apiReady:!1},window[r]=e.publicApi,window[r].__internal=e,e.isReady=function(){return e.publicApi.__static.apiReady&&e.publicApi.__static.docReady},e.tryCallReady=function(){if(e.isReady())for(;e.publicApi.__static.readyList.length>0;){var t=e.publicApi.__static.readyList.pop();if("function"==typeof t)try{t(e.publicApi)}catch(n){e.log("Error executing ready function",n,n.stack)}}},e.publicApi.ready=function(t){e.publicApi.__static.readyList.unshift(t),e.tryCallReady()};var a=e;e.publicApi.plugin=function(t,n){a.isReady()?(e.log("plugin is ready to register",a,t),a.plugin(t,n)):(e.log("plugin",t),e.publicApi.__static.readyList.push(function(e){e.plugin(t,n)}))},function(){function e(t,n,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&v.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&v.isFunction(n.isEqual))return n.isEqual(t);var r=u.call(t);if(r!=u.call(n))return!1;switch(r){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var a=i.length;a--;)if(i[a]==t)return!0;i.push(t);var s=0,o=!0;if("[object Array]"==r){if(s=t.length,o=s==n.length)for(;s--&&(o=s in t==s in n&&e(t[s],n[s],i)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var l in t)if(v.has(t,l)&&(s++,!(o=v.has(n,l)&&e(t[l],n[l],i))))break;if(o){for(l in n)if(v.has(n,l)&&!s--)break;o=!s}}return i.pop(),o}var t=this,n=t._,i={},r=Array.prototype,a=Object.prototype,s=Function.prototype,o=r.slice,l=r.unshift,u=a.toString,c=(a.hasOwnProperty,r.forEach),d=r.map,h=r.reduce,E=r.reduceRight,p=r.filter,f=r.every,m=r.some,g=r.indexOf,A=r.lastIndexOf,b=Array.isArray,_=Object.keys,T=s.bind,v=function(e){return new P(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):t._=v,v.VERSION="1.3.3";var y=v.each=v.forEach=function(e,t,n){if(null!=e)if(c&&e.forEach===c)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(r in e&&t.call(n,e[r],r,e)===i)return}else for(var s in e)if(v.has(e,s)&&t.call(n,e[s],s,e)===i)return};v.map=v.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(y(e,function(e,r,a){i[i.length]=t.call(n,e,r,a)}),e.length===+e.length&&(i.length=e.length),i)},v.reduce=v.foldl=v.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return i&&(t=v.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(y(e,function(e,a,s){r?n=t.call(i,n,e,a,s):(n=e,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},v.reduceRight=v.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),E&&e.reduceRight===E)return i&&(t=v.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=v.toArray(e).reverse();return i&&!r&&(t=v.bind(t,i)),r?v.reduce(a,t,n,i):v.reduce(a,t)},v.find=v.detect=function(e,t,n){var i;return S(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},v.filter=v.select=function(e,t,n){var i=[];return null==e?i:p&&e.filter===p?e.filter(t,n):(y(e,function(e,r,a){t.call(n,e,r,a)&&(i[i.length]=e)}),i)},v.reject=function(e,t,n){var i=[];return null==e?i:(y(e,function(e,r,a){t.call(n,e,r,a)||(i[i.length]=e)}),i)},v.every=v.all=function(e,t,n){var r=!0;return null==e?r:f&&e.every===f?e.every(t,n):(y(e,function(e,a,s){return(r=r&&t.call(n,e,a,s))?void 0:i}),!!r)};var S=v.some=v.any=function(e,t,n){t||(t=v.identity);var r=!1;return null==e?r:m&&e.some===m?e.some(t,n):(y(e,function(e,a,s){return r||(r=t.call(n,e,a,s))?i:void 0}),!!r)};v.include=v.contains=function(e,t){var n=!1;return null==e?n:g&&e.indexOf===g?-1!=e.indexOf(t):n=S(e,function(e){return e===t})},v.invoke=function(e,t){var n=o.call(arguments,2);return v.map(e,function(e){return(v.isFunction(t)?t||e:e[t]).apply(e,n)})},v.pluck=function(e,t){return v.map(e,function(e){return e[t]})},v.max=function(e,t,n){if(!t&&v.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&v.isEmpty(e))return-1/0;var i={computed:-1/0};return y(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s>=i.computed&&(i={value:e,computed:s})}),i.value},v.min=function(e,t,n){if(!t&&v.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&v.isEmpty(e))return 1/0;var i={computed:1/0};return y(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s<i.computed&&(i={value:e,computed:s})}),i.value},v.shuffle=function(e){var t,n=[];return y(e,function(e,i){t=Math.floor(Math.random()*(i+1)),n[i]=n[t],n[t]=e}),n},v.sortBy=function(e,t,n){var i=v.isFunction(t)?t:function(e){return e[t]};return v.pluck(v.map(e,function(e,t,r){return{value:e,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return void 0===n?1:void 0===i?-1:i>n?-1:n>i?1:0}),"value")},v.groupBy=function(e,t){var n={},i=v.isFunction(t)?t:function(e){return e[t]};return y(e,function(e,t){var r=i(e,t);(n[r]||(n[r]=[])).push(e)}),n},v.sortedIndex=function(e,t,n){n||(n=v.identity);for(var i=0,r=e.length;r>i;){var a=i+r>>1;n(e[a])<n(t)?i=a+1:r=a}return i},v.toArray=function(e){return e?v.isArray(e)?o.call(e):v.isArguments(e)?o.call(e):e.toArray&&v.isFunction(e.toArray)?e.toArray():v.values(e):[]},v.size=function(e){return v.isArray(e)?e.length:v.keys(e).length},v.first=v.head=v.take=function(e,t,n){return null==t||n?e[0]:o.call(e,0,t)},v.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},v.last=function(e,t,n){return null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},v.rest=v.tail=function(e,t,n){return o.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,function(e){return!!e})},v.flatten=function(e,t){return v.reduce(e,function(e,n){return v.isArray(n)?e.concat(t?n:v.flatten(n)):(e[e.length]=n,e)},[])},v.without=function(e){return v.difference(e,o.call(arguments,1))},v.uniq=v.unique=function(e,t,n){var i=n?v.map(e,n):e,r=[];return e.length<3&&(t=!0),v.reduce(i,function(n,i,a){return(t?v.last(n)===i&&n.length:v.include(n,i))||(n.push(i),r.push(e[a])),n},[]),r},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.intersection=v.intersect=function(e){var t=o.call(arguments,1);return v.filter(v.uniq(e),function(e){return v.every(t,function(t){return v.indexOf(t,e)>=0})})},v.difference=function(e){var t=v.flatten(o.call(arguments,1),!0);return v.filter(e,function(e){return!v.include(t,e)})},v.zip=function(){for(var e=o.call(arguments),t=v.max(v.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=v.pluck(e,""+i);return n},v.indexOf=function(e,t,n){if(null==e)return-1;var i,r;if(n)return i=v.sortedIndex(e,t),e[i]===t?i:-1;if(g&&e.indexOf===g)return e.indexOf(t);for(i=0,r=e.length;r>i;i++)if(i in e&&e[i]===t)return i;return-1},v.lastIndexOf=function(e,t){if(null==e)return-1;if(A&&e.lastIndexOf===A)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},v.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a};var N=function(){};v.bind=function(e,t){var n,i;if(e.bind===T&&T)return T.apply(e,o.call(arguments,1));if(!v.isFunction(e))throw new TypeError;return i=o.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(o.call(arguments)));N.prototype=e.prototype;var r=new N,a=e.apply(r,i.concat(o.call(arguments)));return Object(a)===a?a:r}},v.bindAll=function(e){var t=o.call(arguments,1);return 0==t.length&&(t=v.functions(e)),y(t,function(t){e[t]=v.bind(e[t],e)}),e},v.memoize=function(e,t){var n={};return t||(t=v.identity),function(){var i=t.apply(this,arguments);return v.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},v.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},v.defer=function(e){return v.delay.apply(v,[e,1].concat(o.call(arguments,1)))},v.throttle=function(e,t){var n,i,r,a,s,o,l=v.debounce(function(){s=a=!1},t);return function(){n=this,i=arguments;var u=function(){r=null,s&&e.apply(n,i),l()};return r||(r=setTimeout(u,t)),a?s=!0:o=e.apply(n,i),l(),a=!0,o}},v.debounce=function(e,t,n){var i;return function(){var r=this,a=arguments,s=function(){i=null,n||e.apply(r,a)};n&&!i&&e.apply(r,a),clearTimeout(i),i=setTimeout(s,t)}},v.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},v.wrap=function(e,t){return function(){var n=[e].concat(o.call(arguments,0));return t.apply(this,n)}},v.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},v.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},v.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)v.has(e,n)&&(t[t.length]=n);return t},v.values=function(e){return v.map(e,v.identity)},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=function(e){return y(o.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},v.pick=function(e){var t={};return y(v.flatten(o.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},v.defaults=function(e){return y(o.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isEqual=function(t,n){return e(t,n,[])},v.isEmpty=function(e){if(null==e)return!0;if(v.isArray(e)||v.isString(e))return 0===e.length;for(var t in e)if(v.has(e,t))return!1;return!0},v.isElement=function(e){return!(!e||1!=e.nodeType)},v.isArray=b||function(e){return"[object Array]"==u.call(e)},v.isObject=function(e){return e===Object(e)},v.isArguments=function(e){return"[object Arguments]"==u.call(e)},v.isArguments(arguments)||(v.isArguments=function(e){return!(!e||!v.has(e,"callee"))}),v.isFunction=function(e){return"[object Function]"==u.call(e)},v.isString=function(e){return"[object String]"==u.call(e)},v.isNumber=function(e){return"[object Number]"==u.call(e)},v.isFinite=function(e){return v.isNumber(e)&&isFinite(e)},v.isNaN=function(e){return e!==e},v.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},v.isDate=function(e){return"[object Date]"==u.call(e)},v.isRegExp=function(e){return"[object RegExp]"==u.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return"function"==typeof e.hasOwnProperty?e.hasOwnProperty(t):!(void 0===typeof e[t])},v.noConflict=function(){return t._=n,this},v.identity=function(e){return e},v.times=function(e,t,n){for(var i=0;e>i;i++)t.call(n,i)},v.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.result=function(e,t){if(null==e)return null;var n=e[t];return v.isFunction(n)?n.call(e):n},v.mixin=function(e){y(v.functions(e),function(t){w(t,v[t]=e[t])})};var I=0;v.uniqueId=function(e){var t=I++;return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/.^/,R={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var O in R)R[R[O]]=O;var C=/\\|'|\r|\n|\t|\u2028|\u2029/g,L=/\\(\\|'|r|n|t|u2028|u2029)/g,V=function(e){return e.replace(L,function(e,t){return R[t]})};v.template=function(e,t,n){n=v.defaults(n||{},v.templateSettings);var i="__p+='"+e.replace(C,function(e){return"\\"+R[e]}).replace(n.escape||D,function(e,t){return"'+\n_.escape("+V(t)+")+\n'"}).replace(n.interpolate||D,function(e,t){return"'+\n("+V(t)+")+\n'"}).replace(n.evaluate||D,function(e,t){return"';\n"+V(t)+"\n;__p+='"})+"';\n";n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var r=new Function(n.variable||"obj","_",i);if(t)return r(t,v);var a=function(e){return r.call(this,e,v)};return a.source="function("+(n.variable||"obj")+"){\n"+i+"}",a},v.chain=function(e){return v(e).chain()};var P=function(e){this._wrapped=e};v.prototype=P.prototype;var M=function(e,t){return t?v(e).chain():e},w=function(e,t){P.prototype[e]=function(){var e=o.call(arguments);return l.call(e,this._wrapped),M(t.apply(v,e),this._chain)}};v.mixin(v),y(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];P.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;return"shift"!=e&&"splice"!=e||0!==i||delete n[0],M(n,this._chain)}}),y(["concat","join","slice"],function(e){var t=r[e];P.prototype[e]=function(){return M(t.apply(this._wrapped,arguments),this._chain)}}),P.prototype.chain=function(){return this._chain=!0,this},P.prototype.value=function(){return this._wrapped}}.call(this),function(e,t){function n(e){var t=pt[e]={};return Z.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(mt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:ft.test(i)?Z.parseJSON(i):i}catch(a){}Z.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(){return!1}function s(){return!0}function o(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function u(e,t,n){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Z.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Z.grep(e,function(e){return 1===e.nodeType});if(kt.test(t))return Z.filter(t,i,!n);t=Z.filter(t,i)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===n})}function c(e){var t=Ut.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function h(e,t){if(1===t.nodeType&&Z.hasData(e)){var n,i,r,a=Z._data(e),s=Z._data(t,a),o=a.events;if(o){delete s.handle,s.events={};for(n in o)for(i=0,r=o[n].length;r>i;i++)Z.event.add(t,n,o[n][i])}s.data&&(s.data=Z.extend({},s.data))}}function E(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Xt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function f(e){Xt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=An.length;r--;)if(t=An[r]+n,t in e)return t;return i}function g(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function A(e,t){for(var n,i,r=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(r[a]=Z._data(n,"olddisplay"),t?(r[a]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&g(n)&&(r[a]=Z._data(n,"olddisplay",v(n.nodeName)))):(i=nn(n,"display"),r[a]||"none"===i||Z._data(n,"olddisplay",i)));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function b(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function _(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=Z.css(e,n+gn[r],!0)),i?("content"===n&&(a-=parseFloat(nn(e,"padding"+gn[r]))||0),"margin"!==n&&(a-=parseFloat(nn(e,"border"+gn[r]+"Width"))||0)):(a+=parseFloat(nn(e,"padding"+gn[r]))||0,"padding"!==n&&(a+=parseFloat(nn(e,"border"+gn[r]+"Width"))||0));return a}function T(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,a=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),hn.test(i))return i;r=a&&(Z.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+_(e,t,n||(a?"border":"content"),r)+"px"}function v(e){if(pn[e])return pn[e];var t=Z("<"+e+">").appendTo(B.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=B.body.appendChild(rn||Z.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),an&&rn.createElement||(an=(rn.contentWindow||rn.contentDocument).document,an.write("<!doctype html><html><body>"),an.close()),t=an.body.appendChild(an.createElement(e)),n=nn(t,"display"),B.body.removeChild(rn)),pn[e]=n,n}function y(e,t,n,i){var r;if(Z.isArray(t))Z.each(t,function(t,r){n||Tn.test(e)?i(e,r):y(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Z.type(t))i(e,t);else for(r in t)y(e+"["+r+"]",t[r],n,i)}function S(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,a,s=t.toLowerCase().split(tt),o=0,l=s.length;if(Z.isFunction(n))for(;l>o;o++)i=s[o],a=/^\+/.test(i),a&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[a?"unshift":"push"](n)}}function N(e,n,i,r,a,s){a=a||n.dataTypes[0],s=s||{},s[a]=!0;for(var o,l=e[a],u=0,c=l?l.length:0,d=e===xn;c>u&&(d||!o);u++)o=l[u](n,i,r),"string"==typeof o&&(!d||s[o]?o=t:(n.dataTypes.unshift(o),o=N(e,n,i,r,o,s)));return!d&&o||s["*"]||(o=N(e,n,i,r,"*",s)),o}function I(e,n){var i,r,a=Z.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((a[i]?e:r||(r={}))[i]=n[i]);r&&Z.extend(!0,e,r)}function D(e,n,i){var r,a,s,o,l=e.contents,u=e.dataTypes,c=e.responseFields;for(a in c)a in i&&(n[c[a]]=i[a]);for(;"*"===u[0];)u.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){u.unshift(a);break}if(u[0]in i)s=u[0];else{for(a in i){if(!u[0]||e.converters[a+" "+u[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==u[0]&&u.unshift(s),i[s]):void 0}function R(e,t){var n,i,r,a,s=e.dataTypes.slice(),o=s[0],l={},u=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;r=s[++u];)if("*"!==r){if("*"!==o&&o!==r){if(n=l[o+" "+r]||l["* "+r],!n)for(i in l)if(a=i.split(" "),a[1]===r&&(n=l[o+" "+a[0]]||l["* "+a[0]])){n===!0?n=l[i]:l[i]!==!0&&(r=a[0],s.splice(u--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+o+" to "+r}}}o=r}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function C(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){zn=t},0),zn=Z.now()}function V(e,t){Z.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),r=0,a=i.length;a>r;r++)if(i[r].call(e,t,n))return})}function P(e,t,n){var i,r=0,a=Jn.length,s=Z.Deferred().always(function(){delete o.elem}),o=function(){for(var t=zn||L(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,r=1-i,a=0,o=l.tweens.length;o>a;a++)l.tweens[a].run(r);return s.notifyWith(e,[l,r,n]),1>r&&o?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:zn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){for(var n=0,i=t?l.tweens.length:0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),u=l.props;for(M(u,l.opts.specialEasing);a>r;r++)if(i=Jn[r].call(l,e,u,l.opts))return i;return V(l,u),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(o,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(e,t){var n,i,r,a,s;for(n in e)if(i=Z.camelCase(n),r=t[i],a=e[n],Z.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),s=Z.cssHooks[i],s&&"expand"in s){a=s.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function w(e,t,n){var i,r,a,s,o,l,u,c,d,h=this,E=e.style,p={},f=[],m=e.nodeType&&g(e);n.queue||(c=Z._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,Z.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[E.overflow,E.overflowX,E.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==v(e.nodeName)?E.zoom=1:E.display="inline-block")),n.overflow&&(E.overflow="hidden",Z.support.shrinkWrapBlocks||h.done(function(){E.overflow=n.overflow[0],E.overflowX=n.overflow[1],E.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],$n.exec(a)){if(delete t[i],l=l||"toggle"===a,a===(m?"hide":"show"))continue;f.push(i)}if(s=f.length){o=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),"hidden"in o&&(m=o.hidden),l&&(o.hidden=!m),m?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in p)Z.style(e,t,p[t])});for(i=0;s>i;i++)r=f[i],u=h.createTween(r,m?o[r]:0),p[r]=o[r]||Z.style(e,r),r in o||(o[r]=u.start,m&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function k(e,t,n,i,r){return new k.prototype.init(e,t,n,i,r)}function x(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=gn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,H,B=e.document,G=e.location,Y=e.navigator,j=e.jQuery,W=e.$,K=Array.prototype.push,q=Array.prototype.slice,z=Array.prototype.indexOf,X=Object.prototype.toString,$=Object.prototype.hasOwnProperty,Q=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,U)},J=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,ot=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},ht=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",ht,!1),Z.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",ht),Z.ready())},Et={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,i){var r,a,s;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Z?n[0]:n,s=n&&n.nodeType?n.ownerDocument||n:B,e=Z.parseHTML(r[1],s,!0),rt.test(r[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);if(a=B.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return i.find(e);this.length=1,this[0]=a}return this.context=B,this.selector=e,this}return Z.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return q.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Z.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(q.apply(this,arguments),"slice",q.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:K,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,i,r,a,s,o=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},l=2),"object"==typeof o||Z.isFunction(o)||(o={}),u===l&&(o=this,--l);u>l;l++)if(null!=(e=arguments[l]))for(n in e)i=o[n],r=e[n],o!==r&&(c&&r&&(Z.isPlainObject(r)||(a=Z.isArray(r)))?(a?(a=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},o[n]=Z.extend(c,s,r)):r!==t&&(o[n]=r));return o},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=W),t&&e.jQuery===Z&&(e.jQuery=j),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!B.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(H.resolveWith(B,[Z]),Z.fn.trigger&&Z(B).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):Et[X.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!$.call(e,"constructor")&&!$.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||$.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||B,(i=rt.exec(e))?[t.createElement(i[1])]:(i=Z.buildFragment([e],t,n?null:[]),Z.merge([],(i.cacheable?Z.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):at.test(t.replace(ot,"@").replace(lt,"]").replace(st,""))?new Function("return "+t)():void Z.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(a){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ut,"ms-").replace(ct,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,a=0,s=e.length,o=s===t||Z.isFunction(e);if(i)if(o){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;s>a&&n.apply(e[a++],i)!==!1;);else if(o){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;s>a&&n.call(e[a],a,e[a++])!==!1;);return e},trim:Q&&!Q.call("﻿ ")?function(e){return null==e?"":Q.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Z.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(e)?K.call(i,e):Z.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(z)return z.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,a=0;if("number"==typeof i)for(;i>a;a++)e[r++]=n[a];else for(;n[a]!==t;)e[r++]=n[a++];return e.length=r,e},grep:function(e,t,n){var i,r=[],a=0,s=e.length;for(n=!!n;s>a;a++)i=!!t(e[a],a),n!==i&&r.push(e[a]);return r},map:function(e,n,i){var r,a,s=[],o=0,l=e.length,u=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(u)for(;l>o;o++)r=n(e[o],o,i),null!=r&&(s[s.length]=r);else for(a in e)r=n(e[a],a,i),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(e,n){var i,r,a;return"string"==typeof n&&(i=e[n],n=e,e=i),Z.isFunction(e)?(r=q.call(arguments,2),a=function(){return e.apply(n,r.concat(q.call(arguments)))},a.guid=e.guid=e.guid||Z.guid++,a):t},access:function(e,n,i,r,a,s,o){var l,u=null==i,c=0,d=e.length;if(i&&"object"==typeof i){for(c in i)Z.access(e,n,c,i[c],1,s,r);a=1}else if(r!==t){if(l=o===t&&Z.isFunction(r),u&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,r),n=null)),n)for(;d>c;c++)n(e[c],i,l?r.call(e[c],c,n(e[c],i)):r,o);a=1}return a?e:u?n.call(e):d?n(e[0],i):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!H)if(H=Z.Deferred(),"complete"===B.readyState)setTimeout(Z.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",ht,!1),e.addEventListener("load",Z.ready,!1);else{B.attachEvent("onreadystatechange",ht),e.attachEvent("onload",Z.ready);var n=!1;try{n=null==e.frameElement&&B.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Z.ready()}}()}return H.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){Et["[object "+t+"]"]=t.toLowerCase()}),U=Z(B);var pt={};Z.Callbacks=function(e){e="string"==typeof e?pt[e]||n(e):Z.extend({},e);var i,r,a,s,o,l,u=[],c=!e.once&&[],d=function(t){for(i=e.memory&&t,r=!0,l=s||0,s=0,o=u.length,a=!0;u&&o>l;l++)if(u[l].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}a=!1,u&&(c?c.length&&d(c.shift()):i?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function n(t){Z.each(t,function(t,i){var r=Z.type(i);"function"===r?e.unique&&h.has(i)||u.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),a?o=u.length:i&&(s=t,d(i))}return this},remove:function(){return u&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,u,n))>-1;)u.splice(n,1),a&&(o>=n&&o--,l>=n&&l--)
}),this},has:function(e){return Z.inArray(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=i=t,this},disabled:function(){return!u},lock:function(){return c=t,i||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||r&&!c||(a?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,i){var a=i[0],s=e[t];r[i[1]](Z.isFunction(s)?function(){var e=s.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n:this,[e])}:n[a])}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,i):i}},r={};return i.pipe=i.then,Z.each(t,function(e,a){var s=a[2],o=a[3];i[a[1]]=s.add,o&&s.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[a[0]]=s.fire,r[a[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=q.call(arguments),s=a.length,o=1!==s||e&&Z.isFunction(e.promise)?s:0,l=1===o?e:Z.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?q.call(arguments):r,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)a[r]&&Z.isFunction(a[r].promise)?a[r].promise().done(u(r,i,a)).fail(l.reject).progress(u(r,n,t)):--o;return o||l.resolveWith(i,a),l.promise()}}),Z.support=function(){var t,n,i,r,a,s,o,l,u,c,d,h=B.createElement("div");if(h.setAttribute("className","t"),h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("*"),i=h.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=B.createElement("select"),a=r.appendChild(B.createElement("option")),s=h.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===h.firstChild.nodeType,tbody:!h.getElementsByTagName("tbody").length,htmlSerialize:!!h.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===s.value,optSelected:a.selected,getSetAttribute:"t"!==h.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!a.disabled;try{delete h.test}catch(E){t.deleteExpando=!1}if(!h.addEventListener&&h.attachEvent&&h.fireEvent&&(h.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),h.cloneNode(!0).fireEvent("onclick"),h.detachEvent("onclick",d)),s=B.createElement("input"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),h.appendChild(s),o=B.createDocumentFragment(),o.appendChild(h.lastChild),t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=s.checked,o.removeChild(s),o.appendChild(h),h.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in h,c||(h.setAttribute(l,"return;"),c="function"==typeof h[l]),t[u+"Bubbles"]=c;return Z(function(){var n,i,r,a,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=B.getElementsByTagName("body")[0];o&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(n,o.firstChild),i=B.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,a=B.createElement("div"),a.style.cssText=i.style.cssText=s,a.style.marginRight=a.style.width="0",i.style.width="1px",i.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),o.removeChild(n),n=i=r=a=null)}),o.removeChild(h),n=i=r=a=s=o=h=null,t}();var ft=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Z.acceptData(e)){var a,s,o=Z.expando,l="string"==typeof n,u=e.nodeType,c=u?Z.cache:e,d=u?e[o]:e[o]&&o;if(d&&c[d]&&(r||c[d].data)||!l||i!==t)return d||(u?e[o]=d=Z.deletedIds.pop()||Z.guid++:d=o),c[d]||(c[d]={},u||(c[d].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=Z.extend(c[d],n):c[d].data=Z.extend(c[d].data,n)),a=c[d],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[Z.camelCase(n)]=i),l?(s=a[n],null==s&&(s=a[Z.camelCase(n)])):s=a,s}},removeData:function(e,t,n){if(Z.acceptData(e)){var i,a,s,o=e.nodeType,l=o?Z.cache:e,u=o?e[Z.expando]:Z.expando;if(l[u]){if(t&&(i=n?l[u]:l[u].data)){Z.isArray(t)||(t in i?t=[t]:(t=Z.camelCase(t),t=t in i?[t]:t.split(" ")));for(a=0,s=t.length;s>a;a++)delete i[t[a]];if(!(n?r:Z.isEmptyObject)(i))return}(n||(delete l[u].data,r(l[u])))&&(o?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var r,a,s,o,l,u=this[0],c=0,d=null;if(e===t){if(this.length&&(d=Z.data(u),1===u.nodeType&&!Z._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>c;c++)o=s[c].name,o.indexOf("data-")||(o=Z.camelCase(o.substring(5)),i(u,o,d[o]));Z._data(u,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",a=r[1]+"!",Z.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+a,[r[0]]),d===t&&u&&(d=Z.data(u,e),d=i(u,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=n,void this.each(function(){var t=Z(this);t.triggerHandler("setData"+a,r),Z.data(this,e,n),t.triggerHandler("changeData"+a,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Z._data(e,t),n&&(!i||Z.isArray(n)?i=Z._data(e,t,Z.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),i=n.length,r=n.shift(),a=Z._queueHooks(e,t),s=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,s,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,a=Z.Deferred(),s=this,o=this.length,l=function(){--r||a.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)i=Z._data(s[o],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),a.promise(n)}});var gt,At,bt,_t=/[\t\r\n]/g,Tt=/\r/g,vt=/^(?:button|input)$/i,yt=/^(?:button|input|object|select|textarea)$/i,St=/^a(?:rea|)$/i,Nt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,It=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,a,s,o;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(a=" "+r.className+" ",s=0,o=t.length;o>s;s++)a.indexOf(" "+t[s]+" ")<0&&(a+=t[s]+" ");r.className=Z.trim(a)}else r.className=e;return this},removeClass:function(e){var n,i,r,a,s,o,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),o=0,l=this.length;l>o;o++)if(r=this[o],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(_t," "),a=0,s=n.length;s>a;a++)for(;i.indexOf(" "+n[a]+" ")>=0;)i=i.replace(" "+n[a]+" "," ");r.className=e?Z.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(Z.isFunction(e)?function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var r,a=0,s=Z(this),o=t,l=e.split(tt);r=l[a++];)o=i?o:!s.hasClass(r),s[o?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(_t," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,a=this[0];{if(arguments.length)return r=Z.isFunction(e),this.each(function(i){var a,s=Z(this);1===this.nodeType&&(a=r?e.call(this,i,s.val()):e,null==a?a="":"number"==typeof a?a+="":Z.isArray(a)&&(a=Z.map(a,function(e){return null==e?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=Z.valHooks[a.type]||Z.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(a,"value"))!==t?i:(i=a.value,"string"==typeof i?i.replace(Tt,""):null==i?"":i)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,s=a?null:[],o=a?r+1:i.length,l=0>r?o:a?r:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(Z.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(t=Z(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var a,s,o,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[n])?Z(e)[n](i):"undefined"==typeof e.getAttribute?Z.prop(e,n,i):(o=1!==l||!Z.isXMLDoc(e),o&&(n=n.toLowerCase(),s=Z.attrHooks[n]||(Nt.test(n)?At:gt)),i!==t?null===i?void Z.removeAttr(e,n):s&&"set"in s&&o&&(a=s.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):s&&"get"in s&&o&&null!==(a=s.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a))},removeAttr:function(e,t){var n,i,r,a,s=0;if(t&&1===e.nodeType)for(i=t.split(tt);s<i.length;s++)r=i[s],r&&(n=Z.propFix[r]||r,a=Nt.test(r),a||Z.attr(e,r,""),e.removeAttribute(It?r:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(vt.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return gt&&Z.nodeName(e,"button")?gt.get(e,t):t in e?e.value:null},set:function(e,t,n){return gt&&Z.nodeName(e,"button")?gt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,a,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(e),s&&(n=Z.propFix[n]||n,a=Z.propHooks[n]),i!==t?a&&"set"in a&&(r=a.set(e,i,n))!==t?r:e[n]=i:a&&"get"in a&&null!==(r=a.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):yt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:t}}}}),At={get:function(e,n){var i,r=Z.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Z.removeAttr(e,n):(i=Z.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},It||(bt={name:!0,id:!0,coords:!0},gt=Z.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(bt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=B.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:gt.get,set:function(e,t,n){""===t&&(t="false"),gt.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Dt=/^(?:textarea|input|select)$/i,Rt=/^([^\.]*|)(?:\.(.+)|)$/,Ot=/(?:^|\s)hover(\.\S+|)\b/,Ct=/^key/,Lt=/^(?:mouse|contextmenu)|click/,Vt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){return Z.event.special.hover?e:e.replace(Ot,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,i,r,a){var s,o,l,u,c,d,h,E,p,f,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(s=Z._data(e))){for(i.handler&&(p=i,i=p.handler,a=p.selector),i.guid||(i.guid=Z.guid++),l=s.events,l||(s.events=l={}),o=s.handle,o||(s.handle=o=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(o.elem,arguments)},o.elem=e),n=Z.trim(Pt(n)).split(" "),u=0;u<n.length;u++)c=Rt.exec(n[u])||[],d=c[1],h=(c[2]||"").split(".").sort(),m=Z.event.special[d]||{},d=(a?m.delegateType:m.bindType)||d,m=Z.event.special[d]||{},E=Z.extend({type:d,origType:c[1],data:r,handler:i,guid:i.guid,selector:a,needsContext:a&&Z.expr.match.needsContext.test(a),namespace:h.join(".")},p),f=l[d],f||(f=l[d]=[],f.delegateCount=0,m.setup&&m.setup.call(e,r,h,o)!==!1||(e.addEventListener?e.addEventListener(d,o,!1):e.attachEvent&&e.attachEvent("on"+d,o))),m.add&&(m.add.call(e,E),E.handler.guid||(E.handler.guid=i.guid)),a?f.splice(f.delegateCount++,0,E):f.push(E),Z.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var a,s,o,l,u,c,d,h,E,p,f,m=Z.hasData(e)&&Z._data(e);if(m&&(h=m.events)){for(t=Z.trim(Pt(t||"")).split(" "),a=0;a<t.length;a++)if(s=Rt.exec(t[a])||[],o=l=s[1],u=s[2],o){for(E=Z.event.special[o]||{},o=(i?E.delegateType:E.bindType)||o,p=h[o]||[],c=p.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<p.length;d++)f=p[d],!r&&l!==f.origType||n&&n.guid!==f.guid||u&&!u.test(f.namespace)||i&&i!==f.selector&&("**"!==i||!f.selector)||(p.splice(d--,1),f.selector&&p.delegateCount--,E.remove&&E.remove.call(e,f));0===p.length&&c!==p.length&&(E.teardown&&E.teardown.call(e,u,m.handle)!==!1||Z.removeEvent(e,o,m.handle),delete h[o])}else for(o in h)Z.event.remove(e,o+t[a],n,i,!0);Z.isEmptyObject(h)&&(delete m.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,a){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,o,l,u,c,d,h,E,p,f,m=n.type||n,g=[];if(!Vt.test(m+Z.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),o=!0),m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),r&&!Z.event.customEvent[m]||Z.event.global[m]))if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(m,n):new Z.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=o,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=m.indexOf(":")<0?"on"+m:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Z.makeArray(i):[],i.unshift(n),h=Z.event.special[m]||{},!h.trigger||h.trigger.apply(r,i)!==!1){if(p=[[r,h.bindType||m]],!a&&!h.noBubble&&!Z.isWindow(r)){for(f=h.delegateType||m,u=Vt.test(f+m)?r:r.parentNode,c=r;u;u=u.parentNode)p.push([u,f]),c=u;c===(r.ownerDocument||B)&&p.push([c.defaultView||c.parentWindow||e,f])}for(l=0;l<p.length&&!n.isPropagationStopped();l++)u=p[l][0],n.type=p[l][1],E=(Z._data(u,"events")||{})[n.type]&&Z._data(u,"handle"),E&&E.apply(u,i),E=d&&u[d],E&&Z.acceptData(u)&&E.apply&&E.apply(u,i)===!1&&n.preventDefault();return n.type=m,a||n.isDefaultPrevented()||h._default&&h._default.apply(r.ownerDocument,i)!==!1||"click"===m&&Z.nodeName(r,"a")||!Z.acceptData(r)||d&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!Z.isWindow(r)&&(c=r[d],c&&(r[d]=null),Z.event.triggered=m,r[m](),Z.event.triggered=t,c&&(r[d]=c)),n.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[m]&&Z.event.trigger(n,i,s[l].handle.elem,!0)}}},dispatch:function(n){n=Z.event.fix(n||e.event);var i,r,a,s,o,l,u,c,d,h=(Z._data(this,"events")||{})[n.type]||[],E=h.delegateCount,p=q.call(arguments),f=!n.exclusive&&!n.namespace,m=Z.event.special[n.type]||{},g=[];if(p[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(E&&(!n.button||"click"!==n.type))for(a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==n.type){for(o={},u=[],i=0;E>i;i++)c=h[i],d=c.selector,o[d]===t&&(o[d]=c.needsContext?Z(d,this).index(a)>=0:Z.find(d,this,null,[a]).length),o[d]&&u.push(c);u.length&&g.push({elem:a,matches:u})}for(h.length>E&&g.push({elem:this,matches:h.slice(E)}),i=0;i<g.length&&!n.isPropagationStopped();i++)for(l=g[i],n.currentTarget=l.elem,r=0;r<l.matches.length&&!n.isImmediatePropagationStopped();r++)c=l.matches[r],(f||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,s=((Z.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,p),s!==t&&(n.result=s,s===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,a,s=n.button,o=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||B,r=i.documentElement,a=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?n.toElement:o),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,i=e,r=Z.event.fixHooks[e.type]||{},a=r.props?this.props.concat(r.props):this.props;for(e=Z.Event(i),t=a.length;t;)n=a[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=B.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?s:a):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,i=this,r=e.relatedTarget,a=e.handleObj;a.selector}return(!r||r!==i&&!Z.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:void Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;i&&!Z._data(i,"_submit_attached")&&(Z.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:void Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Dt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Dt.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Dt.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===n++&&B.addEventListener(e,i,!0)},teardown:function(){0===--n&&B.removeEventListener(e,i,!0)}}}),Z.fn.extend({on:function(e,n,i,r,s){var o,l;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(l in e)this.on(l,n,i,e[l],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=a;else if(!r)return this;return 1===s&&(o=r,r=function(e){return Z().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Z(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=a),this.each(function(){Z.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,i=0,r=function(n){var r=(Z._data(this,"lastToggle"+e.guid)||0)%i;return Z._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Ct.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),Lt.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||L;var r,a,s,o,l=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==l&&9!==l)return[];if(s=T(t),!s&&!i&&(r=nt.exec(e)))if(o=r[1]){if(9===l){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&v(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return k.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((o=r[3])&&ht&&t.getElementsByClassName)return k.apply(n,x.call(t.getElementsByClassName(o),0)),n}return f(e.replace(Q,"$1"),t,n,i,s)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e){return U(function(t){return t=+t,U(function(n,i){for(var r,a=e([],n.length,t),s=a.length;s--;)n[r=a[s]]&&(n[r]=!(i[r]=n[r]))})})}function s(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function o(e,t){var i,r,a,s,o,l,u,c=G[O][e+" "];if(c)return t?0:c.slice(0);for(o=e,l=[],u=b.preFilter;o;){(!i||(r=J.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),i=!1,(r=et.exec(o))&&(a.push(i=new C(r.shift())),o=o.slice(i.length),i.type=r[0].replace(Q," "));for(s in b.filter)!(r=ot[s].exec(o))||u[s]&&!(r=u[s](r))||(a.push(i=new C(r.shift())),o=o.slice(i.length),i.type=s,i.matches=r);if(!i)break}return t?o.length:o?n.error(e):G(e,l).slice(0)}function l(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,a=M++;return t.first?function(t,n,a){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,a)}:function(t,n,s){if(s){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,s))return t}else for(var o,l=P+" "+a+" ",u=l+g;t=t[i];)if(r||1===t.nodeType){if((o=t[O])===u)return t.sizset;if("string"==typeof o&&0===o.indexOf(l)){if(t.sizset)return t}else{if(t[O]=u,e(t,n,s))return t.sizset=!0,t;t.sizset=!1}}}}function u(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function c(e,t,n,i,r){for(var a,s=[],o=0,l=e.length,u=null!=t;l>o;o++)(a=e[o])&&(!n||n(a,i,r))&&(s.push(a),u&&t.push(o));return s}function d(e,t,n,i,r,a){return i&&!i[O]&&(i=d(i)),r&&!r[O]&&(r=d(r,a)),U(function(a,s,o,l){var u,d,h,E=[],f=[],m=s.length,g=a||p(t||"*",o.nodeType?[o]:o,[]),A=!e||!a&&t?g:c(g,E,e,o,l),b=n?r||(a?e:m||i)?[]:s:A;if(n&&n(A,b,o,l),i)for(u=c(b,f),i(u,[],o,l),d=u.length;d--;)(h=u[d])&&(b[f[d]]=!(A[f[d]]=h));if(a){if(r||e){if(r){for(u=[],d=b.length;d--;)(h=b[d])&&u.push(A[d]=h);r(null,b=[],u,l)}for(d=b.length;d--;)(h=b[d])&&(u=r?F.call(a,h):E[d])>-1&&(a[u]=!(s[u]=h))}}else b=c(b===s?b.splice(m,b.length):b),r?r(null,s,b,l):k.apply(s,b)})}function h(e){for(var t,n,i,r=e.length,a=b.relative[e[0].type],s=a||b.relative[" "],o=a?1:0,c=l(function(e){return e===t},s,!0),E=l(function(e){return F.call(t,e)>-1},s,!0),p=[function(e,n,i){return!a&&(i||n!==I)||((t=n).nodeType?c(e,n,i):E(e,n,i))}];r>o;o++)if(n=b.relative[e[o].type])p=[l(u(p),n)];else{if(n=b.filter[e[o].type].apply(null,e[o].matches),n[O]){for(i=++o;r>i&&!b.relative[e[i].type];i++);return d(o>1&&u(p),o>1&&e.slice(0,o-1).join("").replace(Q,"$1"),n,i>o&&h(e.slice(o,i)),r>i&&h(e=e.slice(i)),r>i&&e.join(""))}p.push(n)}return u(p)}function E(e,t){var i=t.length>0,r=e.length>0,a=function(s,o,l,u,d){var h,E,p,f=[],m=0,A="0",_=s&&[],T=null!=d,v=I,y=s||r&&b.find.TAG("*",d&&o.parentNode||o),S=P+=null==v?1:Math.E;for(T&&(I=o!==L&&o,g=a.el);null!=(h=y[A]);A++){if(r&&h){for(E=0;p=e[E];E++)if(p(h,o,l)){u.push(h);break}T&&(P=S,g=++a.el)}i&&((h=!p&&h)&&m--,s&&_.push(h))}if(m+=A,i&&A!==m){for(E=0;p=t[E];E++)p(_,f,o,l);if(s){if(m>0)for(;A--;)_[A]||f[A]||(f[A]=w.call(u));f=c(f)}k.apply(u,f),T&&!s&&f.length>0&&m+t.length>1&&n.uniqueSort(u)}return T&&(P=S,I=v),_};return a.el=0,i?U(a):a}function p(e,t,i){for(var r=0,a=t.length;a>r;r++)n(e,t[r],i);return i}function f(e,t,n,i,r){{var a,s,l,u,c,d=o(e);d.length}if(!i&&1===d.length){if(s=d[0]=d[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===t.nodeType&&!r&&b.relative[s[1].type]){if(t=b.find.ID(l.matches[0].replace(st,""),t,r)[0],!t)return n;e=e.slice(s.shift().length)}for(a=ot.POS.test(e)?-1:s.length-1;a>=0&&(l=s[a],!b.relative[u=l.type]);a--)if((c=b.find[u])&&(i=c(l.matches[0].replace(st,""),it.test(s[0].type)&&t.parentNode||t,r))){if(s.splice(a,1),e=i.length&&s.join(""),!e)return k.apply(n,x.call(i,0)),n;
break}}return y(e,d)(i,t,r,n,it.test(e)),n}function m(){}var g,A,b,_,T,v,y,S,N,I,D=!0,R="undefined",O=("sizcache"+Math.random()).replace(".",""),C=String,L=e.document,V=L.documentElement,P=0,M=0,w=[].pop,k=[].push,x=[].slice,F=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},U=function(e,t){return e[O]=null==t||t,e},H=function(){var e={},t=[];return U(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},B=H(),G=H(),Y=H(),j="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",K=W.replace("w","w#"),q="([*^$|!~]?=)",z="\\["+j+"*("+W+")"+j+"*(?:"+q+j+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+K+")|)|)"+j+"*\\]",X=":("+W+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+z+")|[^:]|\\\\.)*|.*))\\)|)",$=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),J=new RegExp("^"+j+"*,"+j+"*"),et=new RegExp("^"+j+"*([\\x20\\t\\r\\n\\f>+~])"+j+"*"),tt=new RegExp(X),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,at=/input|select|textarea|button/i,st=/\\(?!\\)/g,ot={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),NAME:new RegExp("^\\[name=['\"]?("+W+")['\"]?\\]"),TAG:new RegExp("^("+W.replace("w","w*")+")"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+X),POS:new RegExp($,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),needsContext:new RegExp("^"+j+"*[>+~]|"+$,"i")},lt=function(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},ut=lt(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),ct=lt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==R&&"#"===e.firstChild.getAttribute("href")}),dt=lt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ht=lt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),Et=lt(function(e){e.id=O+0,e.innerHTML="<a name='"+O+"'></a><div name='"+O+"'></div>",V.insertBefore(e,V.firstChild);var t=L.getElementsByName&&L.getElementsByName(O).length===2+L.getElementsByName(O+0).length;return A=!L.getElementById(O),V.removeChild(e),t});try{x.call(V.childNodes,0)[0].nodeType}catch(pt){x=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},_=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=_(t);return n},T=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},v=n.contains=V.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:V.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=T(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:U,match:ot,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:A?function(e,t,n){if(typeof t.getElementById!==R&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==R&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==R&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:ut?function(e,t){return typeof t.getElementsByTagName!==R?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],a=0;i=n[a];a++)1===i.nodeType&&r.push(i);return r}return n},NAME:Et&&function(e,t){return typeof t.getElementsByName!==R?t.getElementsByName(name):void 0},CLASS:ht&&function(e,t,n){return typeof t.getElementsByClassName===R||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(st,""),e[3]=(e[4]||e[5]||"").replace(st,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return ot.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=o(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:A?function(e){return e=e.replace(st,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(st,""),function(t){var n=typeof t.getAttributeNode!==R&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(st,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[O][e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&B(e,function(e){return t.test(e.className||typeof e.getAttribute!==R&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var a=n.attr(r,e);return null==a?"!="===t:t?(a+="","="===t?a===i:"!="===t?a!==i:"^="===t?i&&0===a.indexOf(i):"*="===t?i&&a.indexOf(i)>-1:"$="===t?i&&a.substr(a.length-i.length)===i:"~="===t?(" "+a+" ").indexOf(i)>-1:"|="===t?a===i||a.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,a=e.parentNode;if(1===n&&0===i)return!0;if(a)for(r=0,t=a.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[O]?r(t):r.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?U(function(e,n){for(var i,a=r(e,t),s=a.length;s--;)i=F.call(e,a[s]),e[i]=!(n[i]=a[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:U(function(e){var t=[],n=[],i=y(e.replace(Q,"$1"));return i[O]?U(function(e,t,n,r){for(var a,s=i(e,null,r,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),!n.pop()}}),has:U(function(e){return function(t){return n(e,t).length>0}}),contains:U(function(e){return function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return at.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[0>n?n+t:n]}),even:a(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:a(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},S=V.compareDocumentPosition?function(e,t){return e===t?(N=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return N=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],a=[],o=e.parentNode,l=t.parentNode,u=o;if(o===l)return s(e,t);if(!o)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)a.unshift(u),u=u.parentNode;n=r.length,i=a.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==a[c])return s(r[c],a[c]);return c===n?s(e,a[c],-1):s(r[c],t,1)},[0,0].sort(S),D=!N,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(N=D,e.sort(S),N){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},y=n.compile=function(e,t){var n,i=[],r=[],a=Y[O][e+" "];if(!a){for(t||(t=o(e)),n=t.length;n--;)a=h(t[n]),a[O]?i.push(a):r.push(a);a=Y(e,E(r,i))}return a},L.querySelectorAll&&!function(){var e,t=f,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[":focus"],s=[":active"],l=V.matchesSelector||V.mozMatchesSelector||V.webkitMatchesSelector||V.oMatchesSelector||V.msMatchesSelector;lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||a.push("\\["+j+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||a.push(":checked")}),lt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&a.push("[*^$]="+j+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=new RegExp(a.join("|")),f=function(e,n,r,s,l){if(!s&&!l&&!a.test(e)){var u,c,d=!0,h=O,E=n,p=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(u=o(e),(d=n.getAttribute("id"))?h=d.replace(i,"\\$&"):n.setAttribute("id",h),h="[id='"+h+"'] ",c=u.length;c--;)u[c]=h+u[c].join("");E=it.test(e)&&n.parentNode||n,p=u.join(",")}if(p)try{return k.apply(r,x.call(E.querySelectorAll(p),0)),r}catch(f){}finally{d||n.removeAttribute("id")}}return t(e,n,r,s,l)},l&&(lt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push("!=",X)}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!T(t)&&!s.test(i)&&!a.test(i))try{var o=l.call(t,i);if(o||e||t.document&&11!==t.document.nodeType)return o}catch(u){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var Mt=/Until$/,wt=/^(?:parents|prev(?:Until|All))/,kt=/^.[^:#\[\.,]*$/,xt=Z.expr.match.needsContext,Ft={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,i,r,a,s,o=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,n=o.length;n>t;t++)if(Z.contains(o[t],this))return!0});for(s=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=s.length,Z.find(e,this[t],s),t>0)for(r=i;r<s.length;r++)for(a=0;i>a;a++)if(s[a]===s[r]){s.splice(r--,1);break}return s},has:function(e){var t,n=Z(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(u(this,e,!1),"not",e)},filter:function(e){return this.pushStack(u(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?xt.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,a=[],s=xt.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(s?s.index(n)>-1:Z.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return a=a.length>1?Z.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),i=Z.merge(this.get(),n);return this.pushStack(o(n[0])||o(i[0])?i:Z.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,i){var r=Z.map(this,t,n);return Mt.test(e)||(i=n),i&&"string"==typeof i&&(r=Z.filter(i,r)),r=this.length>1&&!Ft[e]?Z.unique(r):r,this.length>1&&wt.test(e)&&(r=r.reverse()),this.pushStack(r,e,q.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,n,i){for(var r=[],a=e[n];a&&9!==a.nodeType&&(i===t||1!==a.nodeType||!Z(a).is(i));)1===a.nodeType&&r.push(a),a=a[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ht=/ jQuery\d+="(?:null|\d+)"/g,Bt=/^\s+/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yt=/<([\w:]+)/,jt=/<tbody/i,Wt=/<|&#?\w+;/,Kt=/<(?:script|style|link)/i,qt=/<(?:script|object|embed|option|style)/i,zt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Xt=/^(?:checkbox|radio)$/,$t=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(B),tn=en.appendChild(B.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,Z.support.htmlSerialize||(Jt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Z.filter(e,[n]).length)&&(t||1!==n.nodeType||(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Ht,""):t;if(!("string"!=typeof e||Kt.test(e)||!Z.support.htmlSerialize&&zt.test(e)||!Z.support.leadingWhitespace&&Bt.test(e)||Jt[(Yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Gt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return o(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,a,s,o,l=0,u=e[0],c=[],h=this.length;if(!Z.support.checkClone&&h>1&&"string"==typeof u&&$t.test(u))return this.each(function(){Z(this).domManip(e,n,i)});if(Z.isFunction(u))return this.each(function(r){var a=Z(this);e[0]=u.call(this,r,n?a.html():t),a.domManip(e,n,i)});if(this[0]){if(r=Z.buildFragment(e,this,c),s=r.fragment,a=s.firstChild,1===s.childNodes.length&&(s=a),a)for(n=n&&Z.nodeName(a,"tr"),o=r.cacheable||h-1;h>l;l++)i.call(n&&Z.nodeName(this[l],"table")?d(this[l],"tbody"):this[l],l===o?s:Z.clone(s,!0,!0));s=a=null,c.length&&Z.each(c,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,i){var r,a,s,o=e[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof o&&o.length<512&&n===B&&"<"===o.charAt(0))||qt.test(o)||!Z.support.checkClone&&$t.test(o)||!Z.support.html5Clone&&zt.test(o)||(a=!0,r=Z.fragments[o],s=r!==t),r||(r=n.createDocumentFragment(),Z.clean(e,n,r,i),a&&(Z.fragments[o]=s&&r)),{fragment:r,cacheable:a}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var i,r=0,a=[],s=Z(n),o=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===o)return s[t](this[0]),this;for(;o>r;r++)i=(r>0?this.clone(!0):this).get(),Z(s[r])[t](i),a=a.concat(i);return this.pushStack(a,e,s.selector)}}),Z.extend({clone:function(e,t,n){var i,r,a,s;if(Z.support.html5Clone||Z.isXMLDoc(e)||!zt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(s=tn.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(E(e,s),i=p(e),r=p(s),a=0;i[a];++a)r[a]&&E(i[a],r[a]);if(t&&(h(e,s),n))for(i=p(e),r=p(s),a=0;i[a];++a)h(i[a],r[a]);return i=r=null,s},clean:function(e,t,n,i){var r,a,s,o,l,u,d,h,E,p,m,g=t===B&&en,A=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=B),r=0;null!=(s=e[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Wt.test(s)){for(g=g||c(t),d=t.createElement("div"),g.appendChild(d),s=s.replace(Gt,"<$1></$2>"),o=(Yt.exec(s)||["",""])[1].toLowerCase(),l=Jt[o]||Jt._default,u=l[0],d.innerHTML=l[1]+s+l[2];u--;)d=d.lastChild;if(!Z.support.tbody)for(h=jt.test(s),E="table"!==o||h?"<table>"!==l[1]||h?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,a=E.length-1;a>=0;--a)Z.nodeName(E[a],"tbody")&&!E[a].childNodes.length&&E[a].parentNode.removeChild(E[a]);!Z.support.leadingWhitespace&&Bt.test(s)&&d.insertBefore(t.createTextNode(Bt.exec(s)[0]),d.firstChild),s=d.childNodes,d.parentNode.removeChild(d)}else s=t.createTextNode(s);s.nodeType?A.push(s):Z.merge(A,s)}if(d&&(s=d=g=null),!Z.support.appendChecked)for(r=0;null!=(s=A[r]);r++)Z.nodeName(s,"input")?f(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),f);if(n)for(p=function(e){return!e.type||Qt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(s=A[r]);r++)Z.nodeName(s,"script")&&p(s)||(n.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(m=Z.grep(Z.merge([],s.getElementsByTagName("script")),p),A.splice.apply(A,[r+1,0].concat(m)),r+=m.length));return A},cleanData:function(e,t){for(var n,i,r,a,s=0,o=Z.expando,l=Z.cache,u=Z.support.deleteExpando,c=Z.event.special;null!=(r=e[s]);s++)if((t||Z.acceptData(r))&&(i=r[o],n=i&&l[i])){if(n.events)for(a in n.events)c[a]?Z.event.remove(r,a):Z.removeEvent(r,a,n.handle);l[i]&&(delete l[i],u?delete r[o]:r.removeAttribute?r.removeAttribute(o):r[o]=null,Z.deletedIds.push(i))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch(Y.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Z&&!(i instanceof e)&&(i=e(i)),Z.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(B);return e}}();var nn,rn,an,sn=/alpha\([^)]*\)/i,on=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,un=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,dn=new RegExp("^("+J+")(.*)$","i"),hn=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),En=new RegExp("^([-+])=("+J+")","i"),pn={BODY:"block"},fn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},gn=["Top","Right","Bottom","Left"],An=["Webkit","O","Moz","ms"],bn=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,i){return i!==t?Z.style(e,n,i):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(e,t){var n="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:g(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,o,l=Z.camelCase(n),u=e.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=m(u,l)),o=Z.cssHooks[n]||Z.cssHooks[l],i===t)return o&&"get"in o&&(a=o.get(e,!1,r))!==t?a:u[n];if(s=typeof i,"string"===s&&(a=En.exec(i))&&(i=(a[1]+1)*a[2]+parseFloat(Z.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||Z.cssNumber[l]||(i+="px"),o&&"set"in o&&(i=o.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var a,s,o,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=m(e.style,l)),o=Z.cssHooks[n]||Z.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,r)),a===t&&(a=nn(e,n)),"normal"===a&&n in mn&&(a=mn[n]),i||r!==t?(s=parseFloat(a),i||Z.isNumeric(s)?s||0:a):a},swap:function(e,t,n){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=a[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,a,s,o=e.getComputedStyle(t,null),l=t.style;return o&&(i=o.getPropertyValue(n)||o[n],""!==i||Z.contains(t.ownerDocument,t)||(i=Z.style(t,n)),hn.test(i)&&cn.test(n)&&(r=l.width,a=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=i,i=o.width,l.width=r,l.minWidth=a,l.maxWidth=s)),i}:B.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],a=e.style;return null==r&&a&&a[t]&&(r=a[t]),hn.test(r)&&!ln.test(t)&&(n=a.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":r,r=a.pixelLeft+"px",a.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&un.test(nn(e,"display"))?Z.swap(e,fn,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?_(e,t,i,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return on.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Z.trim(a.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=sn.test(a)?a.replace(sn,r):a+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return hn.test(i)?Z(e).position()[t]+"px":i}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],a={};for(i=0;4>i;i++)a[e+gn[i]+t]=r[i]||r[i-2]||r[0];return a}},cn.test(e)||(Z.cssHooks[e+t].set=b)});var _n=/%20/g,Tn=/\[\]$/,vn=/\r?\n/g,yn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Sn=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Sn.test(this.nodeName)||yn.test(this.type))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(vn,"\r\n")}}):{name:t.name,value:n.replace(vn,"\r\n")}}).get()}}),Z.param=function(e,n){var i,r=[],a=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){a(this.name,this.value)});else for(i in e)y(i,e[i],n,a);return r.join("&").replace(_n,"+")};var Nn,In,Dn=/#.*$/,Rn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,Ln=/^\/\//,Vn=/\?/,Pn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Mn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=Z.fn.load,xn={},Fn={},Un=["*/"]+["*"];try{In=G.href}catch(Hn){In=B.createElement("a"),In.href="",In=In.href}Nn=wn.exec(In.toLowerCase())||[],Z.fn.load=function(e,n,i){if("string"!=typeof e&&kn)return kn.apply(this,arguments);if(!this.length)return this;var r,a,s,o=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),Z.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t){i&&o.each(i,s||[e.responseText,t,e])}}).done(function(e){s=arguments,o.html(r?Z("<div>").append(e.replace(Pn,"")).find(r):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,i,r,a){return Z.isFunction(i)&&(a=a||r,r=i,i=t),Z.ajax({type:n,url:e,data:i,success:r,dataType:a})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?I(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),I(e,t),e},ajaxSettings:{url:In,isLocal:On.test(Nn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Un},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:S(xn),ajaxTransport:S(Fn),ajax:function(e,n){function i(e,n,i,s){var u,d,A,b,T,y=n;2!==_&&(_=2,l&&clearTimeout(l),o=t,a=s||"",v.readyState=e>0?4:0,i&&(b=D(h,v,i)),e>=200&&300>e||304===e?(h.ifModified&&(T=v.getResponseHeader("Last-Modified"),T&&(Z.lastModified[r]=T),T=v.getResponseHeader("Etag"),T&&(Z.etag[r]=T)),304===e?(y="notmodified",u=!0):(u=R(h,b),y=u.state,d=u.data,A=u.error,u=!A)):(A=y,(!y||e)&&(y="error",0>e&&(e=0))),v.status=e,v.statusText=(n||y)+"",u?f.resolveWith(E,[d,y,v]):f.rejectWith(E,[v,y,A]),v.statusCode(g),g=t,c&&p.trigger("ajax"+(u?"Success":"Error"),[v,h,u?d:A]),m.fireWith(E,[v,y]),c&&(p.trigger("ajaxComplete",[v,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,a,s,o,l,u,c,d,h=Z.ajaxSetup({},n),E=h.context||h,p=E!==h&&(E.nodeType||E instanceof Z)?Z(E):Z.event,f=Z.Deferred(),m=Z.Callbacks("once memory"),g=h.statusCode||{},A={},b={},_=0,T="canceled",v={readyState:0,setRequestHeader:function(e,t){if(!_){var n=e.toLowerCase();e=b[n]=b[n]||e,A[e]=t}return this},getAllResponseHeaders:function(){return 2===_?a:null},getResponseHeader:function(e){var n;if(2===_){if(!s)for(s={};n=Rn.exec(a);)s[n[1].toLowerCase()]=n[2];n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return _||(h.mimeType=e),this},abort:function(e){return e=e||T,o&&o.abort(e),i(0,e),this}};if(f.promise(v),v.success=v.done,v.error=v.fail,v.complete=m.add,v.statusCode=function(e){if(e){var t;
if(2>_)for(t in e)g[t]=[g[t],e[t]];else t=e[v.status],v.always(t)}return this},h.url=((e||h.url)+"").replace(Dn,"").replace(Ln,Nn[1]+"//"),h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().split(tt),null==h.crossDomain&&(u=wn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===Nn[1]&&u[2]===Nn[2]&&(u[3]||("http:"===u[1]?80:443))==(Nn[3]||("http:"===Nn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),N(xn,h,n,v),2===_)return v;if(c=h.global,h.type=h.type.toUpperCase(),h.hasContent=!Cn.test(h.type),c&&0===Z.active++&&Z.event.trigger("ajaxStart"),!h.hasContent&&(h.data&&(h.url+=(Vn.test(h.url)?"&":"?")+h.data,delete h.data),r=h.url,h.cache===!1)){var y=Z.now(),S=h.url.replace(Mn,"$1_="+y);h.url=S+(S===h.url?(Vn.test(h.url)?"&":"?")+"_="+y:"")}(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&v.setRequestHeader("Content-Type",h.contentType),h.ifModified&&(r=r||h.url,Z.lastModified[r]&&v.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&v.setRequestHeader("If-None-Match",Z.etag[r])),v.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Un+"; q=0.01":""):h.accepts["*"]);for(d in h.headers)v.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(h.beforeSend.call(E,v,h)===!1||2===_))return v.abort();T="abort";for(d in{success:1,error:1,complete:1})v[d](h[d]);if(o=N(Fn,h,n,v)){v.readyState=1,c&&p.trigger("ajaxSend",[v,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){v.abort("timeout")},h.timeout));try{_=1,o.send(A,i)}catch(I){if(!(2>_))throw I;i(-1,I)}}else i(-1,"No Transport");return v},active:0,lastModified:{},etag:{}});var Bn=[],Gn=/\?/,Yn=/(=)\?(?=&|$)|\?\?/,jn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bn.pop()||Z.expando+"_"+jn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,i,r){var a,s,o,l=n.data,u=n.url,c=n.jsonp!==!1,d=c&&Yn.test(u),h=c&&!d&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yn.test(l);return"jsonp"===n.dataTypes[0]||d||h?(a=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,s=e[a],d?n.url=u.replace(Yn,"$1"+a):h?n.data=l.replace(Yn,"$1"+a):c&&(n.url+=(Gn.test(u)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return o||Z.error(a+" was not called"),o[0]},n.dataTypes[0]="json",e[a]=function(){o=arguments},r.always(function(){e[a]=s,n[a]&&(n.jsonpCallback=i.jsonpCallback,Bn.push(a)),o&&Z.isFunction(s)&&s(o[0]),o=s=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(r,a){n=B.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||a(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Wn,Kn=e.ActiveXObject?function(){for(var e in Wn)Wn[e](0,1)}:!1,qn=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||C()}:O,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var i;return{send:function(r,a){var s,o,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(o in n.xhrFields)l[o]=n.xhrFields[o];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)l.setRequestHeader(o,r[o])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var o,u,c,d,h;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=Z.noop,Kn&&delete Wn[s]),r)4!==l.readyState&&l.abort();else{o=l.status,c=l.getAllResponseHeaders(),d={},h=l.responseXML,h&&h.documentElement&&(d.xml=h);try{d.text=l.responseText}catch(E){}try{u=l.statusText}catch(E){u=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=d.text?200:404}}catch(p){r||a(-1,p)}d&&a(o,u,d,c)},n.async?4===l.readyState?setTimeout(i,0):(s=++qn,Kn&&(Wn||(Wn={},Z(e).unload(Kn)),Wn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var zn,Xn,$n=/^(?:toggle|show|hide)$/,Qn=new RegExp("^(?:([-+])=|)("+J+")([a-z%]*)$","i"),Zn=/queueHooks$/,Jn=[w],ei={"*":[function(e,t){var n,i,r=this.createTween(e,t),a=Qn.exec(t),s=r.cur(),o=+s||0,l=1,u=20;if(a){if(n=+a[2],i=a[3]||(Z.cssNumber[e]?"":"px"),"px"!==i&&o){o=Z.css(r.elem,e,!0)||n||1;do l=l||".5",o/=l,Z.style(r.elem,e,o+i);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=i,r.start=o,r.end=a[1]?o+(a[1]+1)*n:n}return r}]};Z.Animation=Z.extend(P,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Jn.unshift(e):Jn.push(e)}}),Z.Tween=k,k.prototype={constructor:k,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(Z.cssNumber[n]?"":"px")},cur:function(){var e=k.propHooks[this.prop];return e&&e.get?e.get(this):k.propHooks._default.get(this)},run:function(e){var t,n=k.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(i,r,a){return null==i||"boolean"==typeof i||!e&&Z.isFunction(i)&&Z.isFunction(r)?n.apply(this,arguments):this.animate(x(t,!0),i,r,a)}}),Z.fn.extend({fadeTo:function(e,t,n,i){return this.filter(g).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Z.isEmptyObject(e),a=Z.speed(t,n,i),s=function(){var t=P(this,Z.extend({},e),a);r&&t.stop(!0)};return r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=Z.timers,s=Z._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&Zn.test(n)&&r(s[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(i),t=!1,a.splice(n,1));(t||!i)&&Z.dequeue(this,e)})}}),Z.each({slideDown:x("show"),slideUp:x("hide"),slideToggle:x("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Z.speed=function(e,t,n){var i=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return i.duration=Z.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Z.fx.speeds?Z.fx.speeds[i.duration]:Z.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Z.isFunction(i.old)&&i.old.call(this),i.queue&&Z.dequeue(this,i.queue)},i},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=k.prototype.init,Z.fx.tick=function(){var e,n=Z.timers,i=0;for(zn=Z.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||Z.fx.stop(),zn=t},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Xn&&(Xn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Xn),Xn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,i,r,a,s,o,l,u={top:0,left:0},c=this[0],d=c&&c.ownerDocument;if(d)return(i=d.body)===c?Z.offset.bodyOffset(c):(n=d.documentElement,Z.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=F(d),a=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,o=r.pageYOffset||n.scrollTop,l=r.pageXOffset||n.scrollLeft,{top:u.top+o-a,left:u.left+l-s}):u)},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Z.css(e,"position");"static"===i&&(e.style.position="relative");var r,a,s=Z(e),o=s.offset(),l=Z.css(e,"top"),u=Z.css(e,"left"),c=("absolute"===i||"fixed"===i)&&Z.inArray("auto",[l,u])>-1,d={},h={};c?(h=s.position(),r=h.top,a=h.left):(r=parseFloat(l)||0,a=parseFloat(u)||0),Z.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+r),null!=t.left&&(d.left=t.left-o.left+a),"using"in t?t.using.call(e,d):s.css(d)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,i.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!ti.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||B.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Z.fn[e]=function(r){return Z.access(this,function(e,r,a){var s=F(e);return a===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:void(s?s.scrollTo(i?Z(s).scrollLeft():a,i?a:Z(s).scrollTop()):e[r]=a)},e,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Z.fn[r]=function(r,a){var s=arguments.length&&(i||"boolean"!=typeof r),o=i||(r===!0||a===!0?"margin":"border");return Z.access(this,function(n,i,r){var a;return Z.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):r===t?Z.css(n,i,r,o):Z.style(n,i,r,o)},n,s?r:t,s,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window);var s=function(e,t){var n=function(t){if(this.config=t||{},!e.isObject(this.config))throw new Error("Hazmat is not initialized properly");this.fail=e.isFunction(this.config.fail)?this.config.fail:n.fail,this.warn=e.isFunction(this.config.warn)?this.config.warn:n.warn,this.log=e.isFunction(this.config.log)?this.config.log:n.log};return e.extend(n,{ID_REGEX:/^[\_\-A-Za-z0-9]+$/,create:function(e){return new n(e)},noConflict:function(){return t.Hazmat=n.original,n},log:function(){window.console&&e.isFunction(window.console.log)&&window.console.log.apply(window.console,arguments)},fail:function(e,t){var i=e||"",r=t||{};throw n.log("Hazmat Failure::",i,r),new Error("Hazmat Failure "+i.toString())},warn:function(e,t){var i=e||"",r=t||{};n.log("Hazmat Warning::",i,r)},fixDomId:function(t){return e.isString(t)&&t.length>0?t.replace(/[^A-Za-z0-9\_]/g,""):null},isDomId:function(t){return e.isString(t)&&t.match(n.ID_REGEX)},__placeholder:!0}),e.extend(n.prototype,{_safeValue:function(t,n,i,r){var a=i;return e.isFunction(i)&&(i=e.once(function(){try{return a.apply(this,arguments)}catch(e){}})),r.checker(n)?n:r.evalFallback&&e.isFunction(i)&&r.checker(i(n))?(this.warn("Expected valid "+r.name+" for "+t+" but was able to sanitize it:",[n,i(n)]),i(n)):r.checker(a)?(this.warn("Expected valid "+r.name+" for "+t+" but was able to fallback to default value:",[n,a]),a):void this.fail("Expected valid "+r.name+" for "+t+" but received:",n)},safeString:function(t,n,i){return this._safeValue(t,n,i,{name:"String",checker:e.isString,evalFallback:!0})},safeStringOrNull:function(t,n,i){return null==n?n:this._safeValue(t,n,i,{name:"String",checker:e.isString,evalFallback:!0})},safeDomId:function(e,t,i){return this._safeValue(e,t,i,{name:"DOM ID",checker:n.isDomId,evalFallback:!0})},safeFunction:function(t,n,i){return this._safeValue(t,n,i,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeFunctionOrNull:function(t,n,i){return null==n?n:this._safeValue(t,n,i,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeObject:function(t,n,i){return this._safeValue(t,n,i,{name:"Object",checker:e.isObject,evalFallback:!1})},safeObjectOrNull:function(t,n,i){return null==n?n:this._safeValue(t,n,i,{name:"Object",checker:e.isObject,evalFallback:!1})},safeArray:function(t,n,i){return this._safeValue(t,n,i,{name:"Array",checker:e.isArray,evalFallback:!1})},safeArrayOfElements:function(t,n,i,r){var a=this._safeValue(t,n,r,{name:"Array",checker:e.isArray,evalFallback:!1});return e.map(a,i)},__placeholder:!0}),n};if("undefined"!=typeof window&&"undefined"!=typeof window._){var o=s(window._,window);o.original=window.Hazmat,window.Hazmat=o}else{var l=require("underscore"),o=s(l);l.extend(exports,o)}!function(){var e=8,t="",n=0,i=function(t){var n,i=[],r=(1<<e)-1,a=t.length*e;for(n=0;a>n;n+=e)i[n>>5]|=(t.charCodeAt(n/e)&r)<<32-e-n%32;return i},r=function(e){var t,n,i=[],r=e.length;for(t=0;r>t;t+=2){if(n=parseInt(e.substr(t,2),16),isNaN(n))return"INVALID HEX STRING";i[t>>3]|=n<<24-4*(t%8)}return i},a=function(e){var t,i,r=n?"0123456789ABCDEF":"0123456789abcdef",a="",s=4*e.length;for(t=0;s>t;t+=1)i=e[t>>2]>>8*(3-t%4),a+=r.charAt(i>>4&15)+r.charAt(15&i);return a},s=function(e){var n,i,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="",o=4*e.length;for(n=0;o>n;n+=3)for(r=(e[n>>2]>>8*(3-n%4)&255)<<16|(e[n+1>>2]>>8*(3-(n+1)%4)&255)<<8|e[n+2>>2]>>8*(3-(n+2)%4)&255,i=0;4>i;i+=1)s+=8*n+6*i<=32*e.length?a.charAt(r>>6*(3-i)&63):t;return s},o=function(e,t){return e>>>t|e<<32-t},l=function(e,t){return e>>>t},u=function(e,t,n){return e&t^~e&n},c=function(e,t,n){return e&t^e&n^t&n},d=function(e){return o(e,2)^o(e,13)^o(e,22)},h=function(e){return o(e,6)^o(e,11)^o(e,25)},E=function(e){return o(e,7)^o(e,18)^l(e,3)},p=function(e){return o(e,17)^o(e,19)^l(e,10)},f=function(e,t){var n=(65535&e)+(65535&t),i=(e>>>16)+(t>>>16)+(n>>>16);return(65535&i)<<16|65535&n},m=function(e,t,n,i){var r=(65535&e)+(65535&t)+(65535&n)+(65535&i),a=(e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16);return(65535&a)<<16|65535&r},g=function(e,t,n,i,r){var a=(65535&e)+(65535&t)+(65535&n)+(65535&i)+(65535&r),s=(e>>>16)+(t>>>16)+(n>>>16)+(i>>>16)+(r>>>16)+(a>>>16);return(65535&s)<<16|65535&a},A=function(e,t,n){var i,r,a,s,o,l,A,b,_,T,v,y,S,N,I,D,R=[];for(("SHA-224"===n||"SHA-256"===n)&&(y=(t+65>>9<<4)+15,I=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v="SHA-224"===n?[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e[t>>5]|=128<<24-t%32,e[y]=t,D=e.length,S=0;D>S;S+=16){for(i=v[0],r=v[1],a=v[2],s=v[3],o=v[4],l=v[5],A=v[6],b=v[7],N=0;64>N;N+=1)R[N]=16>N?e[N+S]:m(p(R[N-2]),R[N-7],E(R[N-15]),R[N-16]),_=g(b,h(o),u(o,l,A),I[N],R[N]),T=f(d(i),c(i,r,a)),b=A,A=l,l=o,o=f(s,_),s=a,a=r,r=i,i=f(_,T);v[0]=f(i,v[0]),v[1]=f(r,v[1]),v[2]=f(a,v[2]),v[3]=f(s,v[3]),v[4]=f(o,v[4]),v[5]=f(l,v[5]),v[6]=f(A,v[6]),v[7]=f(b,v[7])}switch(n){case"SHA-224":return[v[0],v[1],v[2],v[3],v[4],v[5],v[6]];case"SHA-256":return v;default:return[]}},b=function(t,n){if(this.sha224=null,this.sha256=null,this.strBinLen=null,this.strToHash=null,"HEX"===n){if(0!==t.length%2)return"TEXT MUST BE IN BYTE INCREMENTS";this.strBinLen=4*t.length,this.strToHash=r(t)}else{if("ASCII"!==n&&"undefined"!=typeof n)return"UNKNOWN TEXT INPUT TYPE";this.strBinLen=t.length*e,this.strToHash=i(t)}};b.prototype={getHash:function(e,t){var n=null,i=this.strToHash.slice();switch(t){case"HEX":n=a;break;case"B64":n=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(e){case"SHA-224":return null===this.sha224&&(this.sha224=A(i,this.strBinLen,e)),n(this.sha224);case"SHA-256":return null===this.sha256&&(this.sha256=A(i,this.strBinLen,e)),n(this.sha256);default:return"HASH NOT RECOGNIZED"}},getHMAC:function(t,n,o,l){var u,c,d,h,E,p,f=[],m=[];switch(l){case"HEX":u=a;break;case"B64":u=s;break;default:return"FORMAT NOT RECOGNIZED"}switch(o){case"SHA-224":p=224;break;case"SHA-256":p=256;break;default:return"HASH NOT RECOGNIZED"}if("HEX"===n){if(0!==t.length%2)return"KEY MUST BE IN BYTE INCREMENTS";c=r(t),E=4*t.length}else{if("ASCII"!==n)return"UNKNOWN KEY INPUT TYPE";c=i(t),E=t.length*e}for(E/8>64?(c=A(c,E,o),c[15]&=4294967040):64>E/8&&(c[15]&=4294967040),d=0;15>=d;d+=1)f[d]=909522486^c[d],m[d]=1549556828^c[d];return h=A(f.concat(this.strToHash),512+this.strBinLen,o),h=A(m.concat(h),512+p,o),u(h)}},window.jsSHA=b}(),window.LZW={encode:function(e){for(var t,n={},i=(e+"").split(""),r=[],a=i[0],s=256,o=1;o<i.length;o++)t=i[o],null!=n[a+t]?a+=t:(r.push(a.length>1?n[a]:a.charCodeAt(0)),n[a+t]=s,s++,a=t);r.push(a.length>1?n[a]:a.charCodeAt(0));for(var o=0;o<r.length;o++)r[o]=String.fromCharCode(r[o]);return r.join("")},decode:function(e){for(var t,n={},i=(e+"").split(""),r=i[0],a=r,s=[r],o=256,l=1;l<i.length;l++){var u=i[l].charCodeAt(0);t=256>u?i[l]:n[u]?n[u]:a+r,s.push(t),r=t.charAt(0),n[o]=a+r,o++,a=t}return s.join("")}},function(){var e={};e.PADCHAR="=",e.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(e){var t=new Error("DOM Exception 5");return t.code=t.number=5,t.name=t.description="INVALID_CHARACTER_ERR",t.toString=function(){return"Error: "+t.name+": "+t.message},t}},e.getbyte64=function(t,n){var i=e.ALPHA.indexOf(t.charAt(n));if(-1===i)throw e.makeDOMException();return i},e.decode=function(t){t=""+t;var n,i,r,a=e.getbyte64,s=t.length;if(0===s)return t;if(s%4!==0)throw e.makeDOMException();n=0,t.charAt(s-1)===e.PADCHAR&&(n=1,t.charAt(s-2)===e.PADCHAR&&(n=2),s-=4);var o=[];for(i=0;s>i;i+=4)r=a(t,i)<<18|a(t,i+1)<<12|a(t,i+2)<<6|a(t,i+3),o.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(n){case 1:r=a(t,i)<<18|a(t,i+1)<<12|a(t,i+2)<<6,o.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=a(t,i)<<18|a(t,i+1)<<12,o.push(String.fromCharCode(r>>16))}return o.join("")},e.getbyte=function(t,n){var i=t.charCodeAt(n);if(i>255)throw e.makeDOMException();return i},e.encode=function(t){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var n,i,r=e.PADCHAR,a=e.ALPHA,s=e.getbyte,o=[];t=""+t;var l=t.length-t.length%3;if(0===t.length)return t;for(n=0;l>n;n+=3)i=s(t,n)<<16|s(t,n+1)<<8|s(t,n+2),o.push(a.charAt(i>>18)),o.push(a.charAt(i>>12&63)),o.push(a.charAt(i>>6&63)),o.push(a.charAt(63&i));switch(t.length-l){case 1:i=s(t,n)<<16,o.push(a.charAt(i>>18)+a.charAt(i>>12&63)+r+r);break;case 2:i=s(t,n)<<16|s(t,n+1)<<8,o.push(a.charAt(i>>18)+a.charAt(i>>12&63)+a.charAt(i>>6&63)+r)}return o.join("")},window.base64=e}(),function(e){e._=window._.noConflict(),e.$=window.$.noConflict(!0);var t={};window.debugHazmat||(t={warn:function(){}}),e.HM=window.Hazmat.noConflict().create(t),e.jsSHA=window.jsSHA,e.LZW=window.LZW,window.console&&window.console.log||(window.console=window.console||{},window.console.log=function(){})}(e),function(e,t,n){e.playerParams=n.safeObject("environment.playerParams",e.playerParams,{}),e.configurePublisher=function(t){e.playerParams.pcode=t.pcode||e.playerParams.pcode||"",e.playerParams.playerBrandingId=t.playerBrandingId||e.playerParams.playerBrandingId||"",e.playerParams.debug=t.debug||e.playerParams.debug||""},e.isPublisherConfigured=function(){return!(!e.playerParams.pcode||!e.playerParams.playerBrandingId)},e.setServerHost=function(t){e.playerParams.api_ssl_server=t.api_ssl_server||e.playerParams.api_ssl_server||null,e.playerParams.api_server=t.api_server||e.playerParams.api_server||null,e.playerParams.auth_ssl_server=t.auth_ssl_server||e.playerParams.auth_ssl_server||null,e.playerParams.auth_server=t.auth_server||e.playerParams.auth_server||null,e.playerParams.analytics_ssl_server=t.analytics_ssl_server||e.playerParams.analytics_ssl_server||null,e.playerParams.analytics_server=t.analytics_server||e.playerParams.analytics_server||null,i()};var i=function(){e.SERVER={API:e.isSSL?e.playerParams.api_ssl_server||"https://player.ooyala.com":e.playerParams.api_server||"http://player.ooyala.com",AUTH:e.isSSL?e.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":e.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:e.isSSL?e.playerParams.analytics_ssl_server||"https://player.ooyala.com":e.playerParams.analytics_server||"http://player.ooyala.com"}};e.playerParams.tweaks=e.playerParams.tweaks||"",e.playerParams.tweaks=n.safeString("environment.playerParams.tweaks",e.playerParams.tweaks,""),e.playerParams.tweaks=e.playerParams.tweaks.split(","),e.tweaks={},e.tweaks["android-enable-hls"]=t.contains(e.playerParams.tweaks,"android-enable-hls"),e.tweaks["html5-force-mp4"]=t.contains(e.playerParams.tweaks,"html5-force-mp4"),e.playerParams.maxAdsTimeout=e.playerParams.maxAdsTimeout||5,e.playerParams.maxVastWrapperDepth=e.playerParams.maxVastWrapperDepth||3,e.playerParams.minLiveSeekWindow=e.playerParams.minLiveSeekWindow||10,e.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}),e.playerCount=0,e.isProd=!(!e.playerParams.environment||!e.playerParams.environment.match(/^prod/i)),e.platform=window.navigator.platform,e.os=window.navigator.appVersion,e.supportsVideo=!!document.createElement("video").canPlayType,e.browserSupportsCors=function(){try{return t.has(new XMLHttpRequest,"withCredentials")||t.has(XMLHttpRequest.prototype,"withCredentials")}catch(e){return!1}}(),e.isWindows=function(){return!!e.platform.match(/Win/)}(),e.isIos=function(){return!!e.platform.match(/iPhone|iPad|iPod/)}(),e.isIphone=function(){return!!e.platform.match(/iPhone|iPod/)}(),e.isIpad=function(){return!!e.platform.match(/iPad/)}(),e.iosMajorVersion=function(){try{return e.isIos?parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10):null}catch(t){return null}}(),e.isAndroid=function(){return!(!e.os.match(/Android/)||e.os.match(/Windows Phone/))}(),e.isAndroid4Plus=function(){var t=e.os.match(/Android [\d\.]*;/);return t&&t.length>0&&(t=parseInt(t[0].substring(t[0].indexOf(" ")+1,t[0].search("[.;]")))),e.isAndroid&&t>=4}(),e.isRimDevice=function(){return!(!e.os.match(/BlackBerry/)&&!e.os.match(/PlayBook/))}(),e.isFirefox=function(){return!!window.navigator.userAgent.match(/Firefox/)}(),e.isChrome=function(){return!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/)}(),e.isSafari=function(){return!!window.navigator.userAgent.match(/AppleWebKit/)&&!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/like iPhone/)}(),e.chromeMajorVersion=function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(e){return null}}(),e.isIE=function(){return!!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/)}(),e.isEdge=function(){return!!window.navigator.userAgent.match(/Edge/)}(),e.isIE11Plus=function(){if(!window.navigator.userAgent.match(/Trident/))return!1;var e=window.navigator.userAgent.match(/rv:(\d*)/),t=e&&e[1];return t>=11}(),e.isWinPhone=function(){return!!e.os.match(/Windows Phone/)||!!e.os.match(/ZuneWP/)||!!e.os.match(/XBLWP/)}(),e.isSmartTV=function(){return!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/)}(),e.isMacOs=function(){return!e.isIos&&!!e.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/)}(),e.isMacOsLionOrLater=function(){var t=e.os.match(/Mac OS X ([0-9]+)_([0-9]+)/);return null==t||t.length<3?!1:parseInt(t[1],10)>=10&&parseInt(t[2],10)>=7}(),e.macOsSafariVersion=function(){try{return e.isMacOs&&e.isSafari?parseInt(window.navigator.userAgent.match(/Version\/(\d+)/)[1],10):null}catch(t){return null}}(),e.isKindleHD=function(){return!!e.os.match(/Silk\/2/)}(),e.supportAds=function(){return!e.isWinPhone&&!e.os.match(/Android [23]/)}(),e.allowGesture=function(){return e.isIos}(),e.allowAutoPlay=function(){return!e.isIos&&!e.isAndroid}(),e.supportTouch=function(){return document.documentElement.hasOwnProperty&&document.documentElement.hasOwnProperty("ontouchstart")?!0:!1}(),e.docDomain=function(){var t=null;try{t=document.domain}catch(n){}return e._.isEmpty(t)?e.isSmartTV?"SmartTV":"unknown":t}(),e.uiParadigm=function(){var t="tablet";return e.isAndroid4Plus&&e.tweaks["android-enable-hls"]?t="tablet":e.isIphone?t="mobile-native":e.os.match(/BlackBerry/)?t="mobile-native":e.os.match(/iPad/)?t="tablet":e.isKindleHD?t="mobile-native":e.os.match(/Silk/)?t="mobile":e.os.match(/Android 2/)?window.orientation%180==0&&window.outerWidth/window.devicePixelRatio<=480?t="mobile":window.outerWidth/window.devicePixelRatio<=560&&(t="mobile"):e.os.match(/Android/)?t="tablet":e.isWinPhone?t="mobile":(e.platform.match(/Mac/)||e.platform.match(/Win/)||e.platform.match(/Linux/))&&(t="desktop"),t}(),e.requiresSingleVideoElement=function(){var t=e.isIos,n=e.isAndroid&&(!e.isAndroid4Plus||e.chromeMajorVersion<40);return t||n}(),e.supportedVideoProfiles=function(){return e.isIos||e.isAndroid?"baseline":null}(),e.device=function(){var t="html5";return e.isIphone?t="iphone-html5":e.isIpad?t="ipad-html5":e.isAndroid?t="android-html5":e.isRimDevice?t="rim-html5":e.isWinPhone?t="winphone-html5":e.isSmartTV&&(t="smarttv-html5"),t}(),e.environmentRequiredFeatures=function(){var n=[];return e.os.match(/Android 2/)?n.push("html5-playback"):(n.push("html5-playback"),e.supportAds&&n.push("ads")),t.reduce(n,function(e,t){return e+t+" "},"")}(),e.supportMidRollAds=function(){return"desktop"===e.uiParadigm&&!e.isIos&&!e.isRimDevice}(),e.supportCookies=function(){document.cookie="ooyala_cookie_test=true";var e=document.cookie.indexOf("ooyala_cookie_test=true")>=0;return document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT",e}(),e.isSSL="https:"==document.location.protocol,i(),e.requiredInEnvironment=e.featureEnabled=function(t){return!!e.environmentRequiredFeatures.match(new RegExp(t))},e.chromeExtensionEnabled=document.getElementById("ooyala-extension-installed")?!0:!1,e.locale="",e.setLocale=function(t){e.locale=t.toUpperCase()},e.getLocale=function(){return(e.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(e,e._,e.HM),function(e,t,n){window.XDomainRequest&&e.$.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var n;return{send:function(i,r){function a(t,i,a,s){n.onload=n.onerror=n.ontimeout=e.$.noop,n=void 0,r(t,i,a,s)}n=new XDomainRequest,n.open(t.type,t.url),n.onload=function(){a(200,"OK",{text:n.responseText},"Content-Type: "+n.contentType)},n.onerror=function(){a(404,"Not Found")},n.onprogress=function(){},t.xdrTimeout&&(n.ontimeout=function(){a(0,"timeout")},n.timeout=t.xdrTimeout),n.send(t.hasContent&&t.data||null)},abort:function(){n&&(n.onerror=e.$.noop(),n.abort())}}}}),t.getScriptRetry=function(e,i,r){r=r||{};var a=r.error,s=["error","dataType","success"];n.each(s,function(e){delete r[e]});var o={url:e,type:"get",dataType:"script",success:i,cache:!0,timeout:5e3,tryCount:0,retryLimit:1,warning:!1,warningMessage:"Can not load URL",error:function(){this.tryCount<this.retryLimit?(this.tryCount++,t.ajax(this)):(this.warning&&alert(this.warningMessage),a&&a.apply(null,arguments))}};n.extend(o,r),t.ajax(o)}}(e,e.$,e._),function(e,t){e.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:!0},e.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",EMBED_CODE_CHANGED:"embedCodeChanged",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",SAVE_PLAYER_SETTINGS:"savePlayerSettings",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",CAN_PLAY:"canPlay",WILL_PLAY:"willPlay",REPLAY:"replay",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",SEND_QUALITY_CHANGE:"receiveVideoQualityChangeEvent",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",LIVE_BUTTON_CLICKED:"liveButtonClicked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",SHOULD_DISPLAY_CUE_POINTS:"shouldDisplayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_UPDATE_ELEMENT_STREAM:"videoControllerUpdateElementStream",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",VC_CAN_PLAY:"videoCanPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_MARQUEE:"showAdMarquee",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",PLAYLISTS_READY:"playlistReady",UI_READY:"uiReady",__end_marker:!0},e.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"}},e.URLS={VAST_PROXY:t.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:t.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:t.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:t.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:t.template("<%=server%>/player_api/v2/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:t.template("<%=server%>/reporter.js"),THUMBNAILS:t.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:!0},e.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",PULSE:"pulse",MP4:"mp4",YOUTUBE:"youtube",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",AKAMAI_HD2_HDS:"akamai_hd2_hds",AKAMAI_HD2_HLS:"akamai_hd2_hls",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}},e.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:1e4,SUPER_Z_INDEX:2e4,ALICE_SKIN_Z_INDEX:11e3,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:!0},e.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:!0},e.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},OOYALA_PLAYER_SETTINGS_KEY:"ooyala_player_settings",__end_marker:!0}
}(e,e._),function(e){e.TEXT={ADS_COUNTDOWN:"adsCountdown",ADS_COUNTDOWN_SECONDS:"adsCountdownSeconds",LIVE:"LIVE",__end_marker:!0}}(e),function(e){e.MESSAGES={EN:{},ES:{},FR:{},JA:{}};var t=e.MESSAGES.EN,n=e.MESSAGES.ES,i=e.MESSAGES.FR,r=e.MESSAGES.JA;t[e.ERROR.API.NETWORK]="Cannot Contact Server",t[e.ERROR.API.SAS.GENERIC]="Invalid Authorization Response",t[e.ERROR.API.SAS.GEO]="This video is not authorized in your location",t[e.ERROR.API.SAS.DOMAIN]="This video is not authorized for your domain",t[e.ERROR.API.SAS.FUTURE]="This video will be available soon",t[e.ERROR.API.SAS.PAST]="This video is no longer available",t[e.ERROR.API.SAS.DEVICE]="This video is not authorized for playback on this device",t[e.ERROR.API.SAS.PROXY]="An anonymous proxy was detected. Please disable the proxy and retry.",t[e.ERROR.API.SAS.CONCURRENT_STREAMS]="You have exceeded the maximum number of concurrent streams",t[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Invalid heartbeat response",t[e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="User Entitlement Terminated - Stream No Longer Active for the User",t[e.ERROR.API.CONTENT_TREE]="Invalid Content",t[e.ERROR.API.METADATA]="Invalid Metadata",t[e.ERROR.PLAYBACK.GENERIC]="Could not play the content",t[e.ERROR.PLAYBACK.STREAM]="This video isn't encoded for your device",t[e.ERROR.PLAYBACK.LIVESTREAM]="Live stream is off air",t[e.ERROR.PLAYBACK.NETWORK]="Network connection temporarily lost",t[e.ERROR.UNPLAYABLE_CONTENT]="This video is not playable on this player",t[e.ERROR.INVALID_EXTERNAL_ID]="Invalid External ID",t[e.ERROR.EMPTY_CHANNEL]="This channel is empty",t[e.ERROR.EMPTY_CHANNEL_SET]="This channel set is empty",t[e.ERROR.CHANNEL_CONTENT]="This channel is not playable at this time",t[e.ERROR.VC_PLAY_FAILED]="This video is not encoded for your device",t[e.TEXT.ADS_COUNTDOWN]="Advertisement: Your Video will resume shortly",t[e.TEXT.ADS_COUNTDOWN_SECONDS]="Advertisement: Your Video will resume in <%= time %> <%= seconds %>",t[e.TEXT.LIVE]="LIVE",n[e.ERROR.API.NETWORK]="No se puede contactar al servidor",n[e.ERROR.API.SAS.GENERIC]="Respuesta de autorizaciÃ³n no vÃ¡lida",n[e.ERROR.API.SAS.GEO]="El vÃ­deo no estÃ¡ autorizado en su ubicaciÃ³n",n[e.ERROR.API.SAS.DOMAIN]="El vÃ­deo no estÃ¡ autorizado para su dominio",n[e.ERROR.API.SAS.FUTURE]="El vÃ­deo estarÃ¡ disponible pronto",n[e.ERROR.API.SAS.PAST]="El vÃ­deo ya no estÃ¡ disponible",n[e.ERROR.API.SAS.DEVICE]="El vÃ­deo no estÃ¡ autorizado para reproducirse en este dispositivo",n[e.ERROR.API.SAS.PROXY]="Se detectÃ³ un proxy anÃ³nimo. Deshabilite el proxy e intente nuevamente.",n[e.ERROR.API.SAS.CONCURRENT_STREAMS]="Ha superado la cantidad mÃ¡xima de transmisiones concurrentes",n[e.ERROR.API.SAS.INVALID_HEARTBEAT]="Respuesta de pulso no vÃ¡lida",n[e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS]="La suscripciÃ³n del usuario a terminado - El video ya no estÃ¡ disponible para el usuario",n[e.ERROR.API.CONTENT_TREE]="Contenido no vÃ¡lido",n[e.ERROR.API.METADATA]="Metadatos no vÃ¡lidos",n[e.ERROR.PLAYBACK.GENERIC]="No se pudo reproducir el contenido",n[e.ERROR.PLAYBACK.STREAM]="El vÃ­deo no estÃ¡ codificado para su dispositivo",n[e.ERROR.PLAYBACK.LIVESTREAM]="La transmisiÃ³n en vivo estÃ¡ fuera del aire",n[e.ERROR.PLAYBACK.NETWORK]="La conexiÃ³n de red se halla temporalmente perdida",n[e.ERROR.UNPLAYABLE_CONTENT]="El vÃ­deo no se puede reproducir en este reproductor",n[e.ERROR.INVALID_EXTERNAL_ID]="ID externo no vÃ¡lido",n[e.ERROR.EMPTY_CHANNEL]="El canal estÃ¡ vacÃ­o",n[e.ERROR.EMPTY_CHANNEL_SET]="El conjunto de canales estÃ¡ vacÃ­o",n[e.ERROR.CHANNEL_CONTENT]="El canal no se puede reproducir en este momento",n[e.ERROR.VC_PLAY_FAILED]="El vÃ­deo no estÃ¡ codificado para su dispositivo",n[e.TEXT.ADS_COUNTDOWN]="Anuncio: el vÃ­deo se reanudarÃ¡ en breve",n[e.TEXT.LIVE]="EN VIVO",i[e.ERROR.API.NETWORK]="Impossible de contacter le serveur",i[e.ERROR.API.SAS.GENERIC]="RÃ©ponse d'autorisation non valide",i[e.ERROR.API.SAS.GEO]="Cette vidÃ©o n'est pas autorisÃ©e dans votre pays",i[e.ERROR.API.SAS.DOMAIN]="Cette vidÃ©o n'est pas autorisÃ©e pour votre domaine",i[e.ERROR.API.SAS.FUTURE]="Cette vidÃ©o sera bientÃ´t disponible",i[e.ERROR.API.SAS.PAST]="Cette vidÃ©o n'est plus disponible",i[e.ERROR.API.SAS.DEVICE]="La lecture de cette vidÃ©o n'est pas autorisÃ©e sur cet appareil",i[e.ERROR.API.SAS.PROXY]="Un proxy anonyme a Ã©tÃ© dÃ©tectÃ©. DÃ©sactivez le proxy, puis rÃ©essayez.",i[e.ERROR.API.SAS.CONCURRENT_STREAMS]="Vous avez dÃ©passÃ© le nombre maximum de flux simultanÃ©s.",i[e.ERROR.API.SAS.INVALID_HEARTBEAT]="RÃ©ponse du signal de pulsation ('heartbeat') non valide",i[e.ERROR.API.CONTENT_TREE]="Contenu non valide",i[e.ERROR.API.METADATA]="MÃ©tadonnÃ©es non valides",i[e.ERROR.PLAYBACK.GENERIC]="Impossible de lire le contenu",i[e.ERROR.PLAYBACK.STREAM]="Cette vidÃ©o n'est pas encodÃ©e pour votre appareil",i[e.ERROR.PLAYBACK.LIVESTREAM]="Le flux direct a Ã©tÃ© interrompu",i[e.ERROR.PLAYBACK.NETWORK]="Connexion au rÃ©seau temporairement interrompue",i[e.ERROR.UNPLAYABLE_CONTENT]="Vous ne pouvez pas lire cette vidÃ©o sur ce lecteur",i[e.ERROR.INVALID_EXTERNAL_ID]="Identifiant externe non valide",i[e.ERROR.EMPTY_CHANNEL]="Cette chaÃ®ne est vide",i[e.ERROR.EMPTY_CHANNEL_SET]="Ce groupe de chaÃ®nes est vide",i[e.ERROR.CHANNEL_CONTENT]="Vous ne pouvez pas lire cette chaÃ®ne pour le moment",i[e.ERROR.VC_PLAY_FAILED]="Cette vidÃ©o n'est pas encodÃ©e pour votre appareil",i[e.TEXT.ADS_COUNTDOWN]="PublicitÃ© : votre vidÃ©o reprendra bientÃ´t",i[e.TEXT.LIVE]="EN DIRECT",r[e.ERROR.API.NETWORK]="å¾Œã§ã”ç¢ºèªãã ã•ã„ã€‚",r[e.ERROR.API.SAS.GENERIC]="ãƒ“ãƒ‡ã‚ªã‚’èªè¨¼ã§ãã¾ã›ã‚“ã€‚",r[e.ERROR.API.SAS.GEO]="ã“ã®åœ°åŸŸã§ã¯ã“ã®ãƒ“ãƒ‡ã‚ªã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",r[e.ERROR.API.SAS.DOMAIN]="ãŠä½¿ã„ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã§ã¯ã“ã®ãƒ“ãƒ‡ã‚ªã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",r[e.ERROR.API.SAS.FUTURE]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã—ã°ã‚‰ãã™ã‚‹ã¨å†ç”Ÿå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚",r[e.ERROR.API.SAS.PAST]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€æ—¢ã«å¾¡åˆ©ç”¨ã„ãŸã ã‘ã¾ã›ã‚“ã€‚",r[e.ERROR.API.SAS.DEVICE]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ã“ã®ãƒ‡ãƒã‚¤ã‚¹ã§ã®å†ç”Ÿã¯è¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",r[e.ERROR.API.SAS.CONCURRENT_STREAMS]="æœ€å¤§åŒæ™‚æŽ¥ç¶šæ•°ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚",r[e.ERROR.API.SAS.INVALID_HEARTBEAT]="åŒæ™‚å†ç”Ÿã‚¹ãƒˆãƒªãƒ¼ãƒ ã®æœ€å¤§æ•°ã«é”ã—ã¾ã—ãŸã€‚",r[e.ERROR.API.CONTENT_TREE]="ä¸æ­£ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã§ã™ã€‚",r[e.ERROR.API.METADATA]="ä¸æ­£ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã§ã™ã€‚",r[e.ERROR.PLAYBACK.GENERIC]="ã“ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å†ç”Ÿã§ãã¾ã›ã‚“ã§ã—ãŸã€‚",r[e.ERROR.PLAYBACK.STREAM]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",r[e.ERROR.PLAYBACK.LIVESTREAM]="ãƒ©ã‚¤ãƒ–é…ä¿¡ã¯ã•ã‚Œã¦ãŠã‚Šã¾ã›ã‚“ã€‚",r[e.ERROR.PLAYBACK.NETWORK]="ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ä¸€æ™‚çš„ã«æŽ¥ç¶šã§ãã¾ã›ã‚“ã€‚",r[e.ERROR.UNPLAYABLE_CONTENT]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ã“ã®ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã§ã¯å†ç”Ÿã§ãã¾ã›ã‚“ã€‚",r[e.ERROR.INVALID_EXTERNAL_ID]="External IDãŒä¸æ­£ã§ã™ã€‚",r[e.ERROR.EMPTY_CHANNEL]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¯ç©ºã§ã™ã€‚",r[e.ERROR.EMPTY_CHANNEL_SET]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã‚»ãƒƒãƒˆã¯ç©ºã§ã™ã€‚",r[e.ERROR.CHANNEL_CONTENT]="ã“ã®ãƒãƒ£ãƒ³ãƒãƒ«ã¯ã€ç¾åœ¨å†ç”Ÿã§ãã¾ã›ã‚“ã€‚",r[e.ERROR.VC_PLAY_FAILED]="ã“ã®ãƒ“ãƒ‡ã‚ªã¯ã€ãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹å‘ã‘ã«ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚",r[e.TEXT.ADS_COUNTDOWN]="åºƒå‘Šï¼š",r[e.TEXT.ADS_COUNTDOWN_SECONDS]="åºƒå‘Š: <%= time %>æ•°ç§’å¾Œã«ãƒ“ãƒ‡ã‚ªã®å†ç”ŸãŒé–‹å§‹ã—ã¾ã™",r[e.TEXT.LIVE]="ãƒ©ã‚¤ãƒ–",e.getLocalizedMessage=function(t){var n=e.getLocale();return(e.MESSAGES[n]?e.MESSAGES[n][t]:void 0)||e.MESSAGES.EN[t]||""}}(e),function(e){e.stylus_css={"root.styl":"#<%= elementId %>>div{width:0;height:0;position:relative;z-index:10000;overflow:hidden}#<%= elementId %> .innerWrapper{background:#000;text-align:left}#<%= elementId %> .innerWrapper:-webkit-full-screen{width:100%;height:100%}#<%= elementId %> .innerWrapper:-webkit-full-screen video{width:100%}#<%= elementId %> .innerWrapper.fullscreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#fff}#<%= elementId %> .oo_playhead{-ms-touch-action:none}",__end_marker:1}}(e),e.VERSION.core.rev="c0c0e113f6cd938280e0e45b69f56cfdee9629df",function(e){e.get_css=function(t){return e.stylus_css&&t?e.stylus_css[t+".styl"]:null}}(e),function(e,t,n){e.getRandomString=function(){return Math.random().toString(36).substring(7)},e.safeClone=function(i){if(t.isNumber(i)||t.isString(i)||t.isBoolean(i)||t.isFunction(i)||t.isNull(i)||t.isUndefined(i))return i;var r=i instanceof Array?[]:{};try{n.extend(!0,r,i)}catch(a){e.log("deep clone error",a)}return r},e.d=function(){e.isDebug&&e.log.apply(e,arguments),e.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(e.safeClone(arguments))+"<br>")},e.inherit=function(t,n){if("function"!=typeof t)return e.log("invalid inherit, ParentClass need to be a class",t),null;var i=function(){t.apply(this,arguments),"function"==typeof n&&n.apply(this,arguments)},r=new t;return e._.extend(i.prototype,r),i.prototype.parentClass=r,i};var i={};e.attachStyle=function(e,t){var r=n('<style type="text/css">'+e+"</style>").appendTo("head");i[t]=i[t]||[],i[t].push(r)},e.removeStyles=function(t){e._.each(i[t],function(e){e.remove()})},e.getInnerProperty=function(e,n){for(var i=e,r=n;r.length>0;){var a=r.shift();if(t.isNull(i)||!t.isObject(i)||t.isFunction(i)||t.isArray(i))return null;i=i[a]}return i},e.formatSeconds=function(e){var t=parseInt(e,10)%60,n=parseInt(e/3600,10),i=parseInt((e-3600*n)/60,10);return 10>n&&(n="0"+n),10>i&&(i="0"+i),10>t&&(t="0"+t),parseInt(n,10)>0?n+":"+i+":"+t:i+":"+t},e.timeStringToSeconds=function(e){var n=(e||"").split(":");return t.reduce(n,function(e,t){return 60*e+parseInt(t,10)},0)},e.leftPadding=function(e,t){for(var n="0",i=e?e.toString():"";i.length<t;)i=n+i;return i},e.getColorString=function(t){return"#"+e.leftPadding(t.toString(16),6).toUpperCase()},e.hexToRgb=function(e){var t=(16711680&e)>>16,n=(65280&e)>>8,i=255&e;return[t,n,i]},e.changeColor=function(t,n,i){var r=i?Math.max:Math.min,a=i?0:255,s=Math.round(255*n)*(i?-1:1),o=e.hexToRgb(t);return[e.leftPadding(r(o[0]+s,a).toString(16),2),e.leftPadding(r(o[1]+s,a).toString(16),2),e.leftPadding(r(o[2]+s,a).toString(16),2)].join("")},e.decode64=function(e){e=e.replace(/\n/g,"");var t,n="",i=0,r=[],a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(window.atob)return atob(e);do{for(t=0;4>t;t++)r[t]=a.indexOf(e.charAt(i++));n+=String.fromCharCode(r[0]<<2|r[1]>>4,64==r[2]?0:(15&r[1])<<4|r[2]>>2,64==r[3]?0:(3&r[2])<<6|r[3])}while(i<e.length);return n.replace(/\0/g,"")},e.pixelPing=function(t){var n=new Image;n.onerror=n.onabort=function(){e.d("onerror:",t)},n.src=e.getNormalizedTagUrl(t)},e.pixelPings=function(n){t.isEmpty(n)||t.each(n,function(t){e.pixelPing(t)},this)},e.stringToBoolean=function(e){return"string"==typeof e?e.toLowerCase().indexOf("true")>-1||e.toLowerCase().indexOf("yes")>-1:!!e},e.regexEscape=function(e){var t=/[<>()\[\]{}]/g;return e.replace(t,"\\$&")},e.getNormalizedTagUrl=function(n,i){var r=(new Date).getTime(),a=escape(document.URL),s=function(i,r){t.each(i,function(t){var i=new RegExp("("+e.regexEscape(t)+")","gi");n=n.replace(i,r)},this)};return s(e.TEMPLATES.RANDOM_PLACE_HOLDER,r),s(e.TEMPLATES.REFERAK_PLACE_HOLDER,a),i&&s(e.TEMPLATES.EMBED_CODE_PLACE_HOLDER,i),n},e.safeSeekRange=function(e){return{start:e.length>0?e.start(0):0,end:e.length>0?e.end(0):0}},e.loadedJS=e.loadedJS||{},e.jsOnSuccessList=e.jsOnSuccessList||{},e.safeFuncCall=function(t){if("function"==typeof t)try{t.apply()}catch(n){e.log("Can not invoke function!",n)}},e.loadScriptOnce=function(t,i,r,a){return e.jsOnSuccessList[t]=e.jsOnSuccessList[t]||[],e.loadedJS[t]?("loaded"===e.loadedJS[t]?e.safeFuncCall(i):"loading"===e.loadedJS[t]&&e.jsOnSuccessList[t].unshift(i),!1):(e.loadedJS[t]="loading",n.ajax({url:t,type:"GET",cache:!0,dataType:"script",timeout:a||15e3,success:function(){e.loadedJS[t]="loaded",e.jsOnSuccessList[t].unshift(i),e._.each(e.jsOnSuccessList[t],function(t){e.safeFuncCall(t)},this),e.jsOnSuccessList[t]=[]},error:function(){e.safeFuncCall(r)}}),!0)};try{e.localStorage=window.localStorage}catch(r){e.log(r)}e.localStorage||(e.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},e.localStorage.length=(document.cookie.match(/\=/g)||e.localStorage).length),e.setItem=function(t,n){try{e.localStorage.setItem(t,n)}catch(i){e.log(i)}},e.JSON=window.JSON}(e,e._,e.$),function(e,t){e.Emitter=function(e){this.mb=e,this._subscribers={}},t.extend(e.Emitter.prototype,{on:function(e,t,n){this._subscribers[e]=this._subscribers[e]||[],this._subscribers[e].push({callback:n,subscriber:t})},off:function(e,n,i){this._subscribers[e]=t.reject(this._subscribers[e]||[],function(e){return(e.callback==i||void 0===i)&&e.subscriber===n})},trigger:function(e){t.each(this._subscribers[e]||[],t.bind(this._triggerSubscriber,this,e,arguments)),t.each(this._subscribers["*"]||[],t.bind(this._triggerSubscriber,this,e,arguments))},_triggerSubscriber:function(t,n,i){try{i.callback.apply(this,n)}catch(r){var a=r.stack||"unavailable";e.log("Uncaught exception",r,"Stack",a,"triggering subscriber",i,"with event",t,"Parameters: ",n)}},__placeholder:!0})}(e,e._),function(e,t){e.MessageBus=function(){this._emitter=new e.Emitter(this),this._dependentEmitter=new e.Emitter(this),this._interceptEmitter=new e.Emitter(this),this._interceptArgs={},this._dependentList={},this._blockList={},this._readyEventList={},this._dispatching=!1,this._publishingQueue=[],this.blockedEvent={},this.blockedParams={},this._messageHistory=[],this._tracer=t.bind(this._internalTracer,this),this.MbId=e.getRandomString(),this.debug=!1},t.extend(e.MessageBus.prototype,{addTracer:function(e){e&&t.isFunction(e)&&(this._tracer=this._tracer?t.wrap(this._tracer,function(){e.apply(this,t.rest(arguments))}):e)},_internalTracer:function(){this._messageHistory.push(t.toArray(arguments))},messageTraceSnapshot:function(){return t.toArray(this._messageHistory)},addDependent:function(n,i,r,a){if(!n||""==n||!i||""==i)return void console.error("MB: addDependent called on message bus from subscriber "+r+" with no event name given.");this.debug&&e.log("MB DEBUG: '"+n+"' depends on '"+i+"'. Added by '"+r+"'"),this._dependentList[n]=this._dependentList[n]||[],this._dependentList[n].push(i),this._blockList[i]=this._blockList[i]||[],this._blockList[i].push(n),this.blockedParams[n]=[];var s=e._.bind(function(r){if(1==this.blockedEvent[r]){var s=e.safeClone(t.flatten(arguments)),o=e.safeClone(this.blockedParams[n]);s.shift(),o.shift();var l=a&&a.apply(this,[n,i,o,s])||o;l=[r].concat(l),delete this.blockedEvent[r],this.blockedParams[r]=[],this.debug&&e.log("MB DEBUG: unblocking '"+r+"' because of '"+i+"' with args ",l),this._publish.apply(this,l)}},this);this._dependentEmitter.on(n,r,s)},removeDependent:function(t,n){return t&&""!=t&&n&&""!=n?(this.debug&&e.log("MB DEBUG: '"+t+"' no longer depends on '"+n+"'"),void this._clearDependent(t,n)):void console.warn("MB: removeDependent called on message bus with no event name given.")},publish:function(){if(!arguments||!arguments[0]||""==arguments[0])return void console.error("MB: publish called on message bus with no event name given.");var n=e.safeClone(t.flatten(arguments));if(this._publishingQueue.push(n),this.debug&&e.log("MB DEBUG: queueing '"+arguments[0]+"' w/ args",n),!this._dispatching){this._dispatching=!0;for(var i=this._publishingQueue.shift();i;)this._publish.apply(this,i),i=this._publishingQueue.shift();this._dispatching=!1}},_publish:function(n){this._readyEventList[n]=1;var i=e.safeClone(t.flatten(arguments));if(this._interceptEmitter.trigger.apply(this._interceptEmitter,i),this._interceptArgs[n]===!1)return void(this._interceptArgs[n]=!0);if(this._interceptArgs[n]&&(i=t.flatten([n,this._interceptArgs[n]])),this._tracer&&t.isFunction(this._tracer)){var r=t.flatten(["publish"].concat(i));this._tracer.apply(this._tracer,r)}this._noDependency(n)?(this.debug&&e.log("MB DEBUG: publishing '"+n+"' w/ args ",i),this._emitter.trigger.apply(this._emitter,i),t.each(this._blockList[n],function(e){this._clearDependent(e,n),i[0]=e,this._dependentEmitter.trigger.apply(this._dependentEmitter,i)},this),delete this._blockList[n]):(this.debug&&e.log("MB DEBUG: blocking '"+n+"' because of '"+this._dependentList?this._dependentList[n]:"[null]'"),this.blockedEvent[n]=1,this.blockedParams[n]=i)},intercept:function(n,i,r){this._interceptEmitter.on(n,i,t.bind(function(){if(!n||""==n)return void console.error("MB: intercept called on message bus from subscriber "+i+" with no event name given.");var a=e.safeClone(t.flatten(arguments));0!=this._interceptArgs[n]&&(this._interceptArgs[n]=r.apply(this,a))},this)),this._interceptArgs[n]=[n]},subscribe:function(e,t,n){return e&&""!=e?void this._emitter.on(e,t,n):void console.error("MB: subscribe called on message bus from subscriber "+t+" with no event name given.")},unsubscribe:function(e,t,n){return e&&""!=e?void this._emitter.off(e,t,n):void console.error("MB: unsubscribe called on message bus from subscriber "+t+" with no event name given.")},_noDependency:function(e){return this._dependentList[e]?0===this._dependentList[e].length:!0},_clearDependent:function(t,n){var i=this._dependentList[t];this._dependentList[t]=e._.filter(i,function(e){return e!==n},this)},startDebug:function(){return this.debug=!0,"MB DEBUGGING STARTED"},stopDebug:function(){return this.debug=!1,"MB DEBUGGING STOPPED"},listDependencies:function(){var e,t="------------------------------------\n[blocked] Message --> Dependency\n------------------------------------\n";if(this._dependentList)for(var n in this._dependentList)if(this._dependentList[n])for(e=0;e<this._dependentList[n].length;e++)1==this.blockedEvent[n]&&(t+="[blocked]"),t+=n+" --> "+this._dependentList[n]+"\n";return t+="------------------------------------"}})}(e,e._),function(e,t){e.StateMachine={create:function(n){var i,r=e.HM.safeObject("statemachine.create.cfg",n),a=e.HM.safeDomId("statemachine.create.cfg.initial",r.initial),s=e.HM.safeObject("statemachine.create.cfg.target",r.target,{}),o=e.HM.safeArrayOfElements("statemachine.create.cfg.events",r.events,function(t){return e.HM.safeObject("statemachine.create.cfg.events[]",t)},[]),l=e.HM.safeString("statemachine.create.cfg.moduleName",r.moduleName,""),u=e.HM.safeObject("statemachine.create.cfg.messageBus",r.messageBus),c={};s.debugTransitions=!1;var d="";e.StateMachine.addToActiveList(r.moduleName,s);var h=function(t){var n=null,i=t.replace(/[^\/]*\//,"").match(/^(.)(.*)/),r="on"+i[1].toUpperCase()+i[2];if(s[r])n=s[r];else{var a=t.replace(/\/.*/,"").match(/^(.)(.*)/),o="on"+a[1].toUpperCase()+a[2]+i[1].toUpperCase()+i[2];s[o]&&(n=s[o])}if(n)try{var l=n.apply(s,arguments);return l!==!1?"ok":"fail"}catch(u){if(e.log(u),e.TEST_TEST_TEST)throw u;return"fail"}return"not_found"},E=function(e){var t,n=e.from instanceof Array?e.from:e.from?[e.from]:["*"];for(c[e.name]=c[e.name]||{},t=0;t<n.length;t++)c[e.name][n[t]]=e.to||n[t]};s.removeEvent=function(e){c[e]&&(c[e]=null)},s.destroyFsm=function(){e.StateMachine.removeFromActiveList(this.moduleName,this);for(i in c)u.unsubscribe(i.toString(),l,s.receive);r=null,a=null,s=null,o=null,l=null,u=null,c={}};var p=function(t,n){t&&"*"!==n&&(t.debugTransitions&&e.log("Transition "+(l?l:"")+"\n  OldState: "+(t.currentState?t.currentState:"")+"\n  NewState: "+(n?n:"")+"\n  CausedBy: "+(d?d:"")),t.currentState=n)};for(s.canReceive=function(e){return c[e]&&(c[e].hasOwnProperty(s.currentState)||c[e].hasOwnProperty("*"))},s.receive=function(n){if(s){if(!s.canReceive(n))return void e.log("dropped event '"+arguments[0]+"' for '"+l+"' while in state '"+s.currentState+"' with map:",c);d=arguments[0];var i=s.currentState,r=c[n][i]||c[n]["*"]||i;if(i===r)return void h.apply(s,arguments);p(s,r);var a="not_found";switch("*"!==r&&(a=h.apply(s,t.union([r],t.rest(arguments)))),"not_found"===a&&(a=h.apply(s,arguments)),a){case"not_found":e.log("Module '"+l+"' does not handle state '"+r+"' or event '"+arguments[0]+"'"),p(s,i);break;case"fail":p(s,i);break;case"ok":}}},i=0;i<o.length;i++)"object"==typeof o[i]&&E(o[i]);if(p(s,a),void 0!==u)for(i in c)u.subscribe(i.toString(),l,s.receive);return s},activeStateMachines:{},addToActiveList:function(e,t){this.activeStateMachines[e]||(this.activeStateMachines[e]=[]),this.activeStateMachines[e].push(t)},removeFromActiveList:function(e,t){var n=this.activeStateMachines[e];if(n)for(var i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}},startDebugTransitionsFor:function(e){var t,n=this.debugTransitionsHelper(e,!0);return t=n?"STATEMACHINE '"+e+"' DEBUGGING STARTED":"Couldn't find '"+e+"'"},stopDebugTransitionsFor:function(e){var t,n=this.debugTransitionsHelper(e,!1);return t=n?"STATEMACHINE '"+e+"' DEBUGGING STOPPED":"Couldn't find '"+e+"'"},debugTransitionsHelper:function(e,t){var n=this.activeStateMachines[e];if(!n)return!1;for(var i=0;i<n.length;i++)n[i].debugTransitions=t;return!0},getActiveList:function(){var e={};for(var t in this.activeStateMachines)e[t]=this.activeStateMachines[t].length;return e},__end_marker:!0}}(e,e._),function(e){e.modules=[],e.registerModule=function(t,n){var i=e.HM.safeDomId("moduleName",t,e.HM.fixDomId),r=e.HM.safeFunction("moduleFactoryMethod",n);e.modules.push({name:i,factory:r})},e.plugin=function(t,n){e.log("Registered optional plugin: ",t),e.registerModule(t,function(t,i){var r=n.apply({},[e,e._,e.$,window]),a=new r(t,i);return a})},e.exposeStaticApi=function(t,n){var i=e.HM.safeDomId("apiModule",t),r=e.HM.safeObject("apiObject",n);e.publicApi[i]=e.publicApi[i]||{},e._.extend(e.publicApi[i],r)}}(e,e._,e.$),function(e,t,n){e.players={},e.Player=function(i,r,a){a=a||{};var s=e.HM.safeDomId("Player.create.elementId",i),o=e.HM.safeObject("Player.create.parameters",a,{}),l={closedCaptionOptions:{}};o.onCreate=e.HM.safeFunctionOrNull("Player.create.parameters.onCreate",o.onCreate);var u=new e.MessageBus;n("#"+s).html("");var c=e._.map(e.modules,function(t){var n=t.name+"-"+e.getRandomString(),i={name:t.name,moduleId:n,instance:t.factory(u,n,o)};return e.log("Loaded plugin",i.moduleId,i),i}),d=e.localStorage.getItem(e.CONSTANTS.OOYALA_PLAYER_SETTINGS_KEY);d&&(l=JSON.parse(d));var h=new e.PlayerApi(u,i,c,o,l);return u.subscribe(e.EVENTS.DESTROY,"player",t.bind(function(){n("#"+s).empty(),delete e.players[s],e.removeStyles(s),h.triggerDestroyCallback()},this)),t.isFunction(o.onCreate)&&o.onCreate(h),u.publish(e.EVENTS.PLAYER_CREATED,s,o,l),"object"==typeof r?(r=e.HM.safeObject("assetObject",r),h.setAsset(r,o)):"string"==typeof r&&(r=e.HM.safeStringOrNull("assetString",r),h.setEmbedCode(r,o)),h},e.exposeStaticApi("Player",{create:function(t,n,i){return i=i||{},!e.playerParams.core_version||"4"!==e.playerParams.core_version&&4!==e.playerParams.core_version?(console.error("Error: A v4 player has been specified using a mismatch route. v4 players can only be used with a v4 route."),null):(e.configurePublisher(i),e.isPublisherConfigured()?(e.setServerHost(i),e.players[t]||(e.playerCount++,e.players[t]=e.Player(t,n,i)),e.DEBUG!==!1&&e.DEBUG!==!0&&(e.DEBUG=i.debug===!0,e.DEBUG===!0&&(this.exposeDebugApi(t,e.players[t]),this.enableDebugTools(t,i.enableDebugTools))),e.players[t]):(console.error("Error: pcode and playerBrandingId must be provided"),null))},isolate:function(n){var i="http://debug.ooyala.com/?",r=e.playerParams.playerBrandingId;r&&(i+="pbid="+r+"&");var a;if(n)a=e.players[n];else{if(e.playerCount>1)return console.log("More than one player to choose.  Please specify the target div of the intended player as a parameter"),console.log("Available players are: ",t.keys(e.players)),t.keys(e.players);if(e.playerCount<1)return console.log("There are no players on the page to isolate"),"";a=t.values(e.players)[0]}var s=JSON.stringify(a.parameters),o=a.embedCode;s&&(i+="options="+encodeURIComponent(s)+"&"),o&&(i+="ec="+o+"&"),"local-dev"!==e.playerParams.environment&&"default"!==e.playerParams.v3_version_source&&(i+="version="+e.playerParams.v3_version+"&");var l=e.environmentRequiredFeatures;return l.indexOf("html5-playback")>-1&&(i+="useHtml5=true&"),console.log("If you are copying this link, do not highlight. right click and press 'copy link address'"),i},exposeDebugApi:function(t,i){e.publicApi&&(e.publicApi.DEBUG||(e.publicApi.DEBUG={}),e.publicApi.DEBUG.consoleOutput=e.consoleOutput,e.publicApi.DEBUG.startRecordingConsoleOutput=e.startRecordingConsoleOutput,e.publicApi.DEBUG.stopRecordingConsoleOutput=e.stopRecordingConsoleOutput,e.publicApi.DEBUG.clearRecordedConsoleOutput=e.clearRecordedConsoleOutput,e.publicApi.DEBUG.setMaxConsoleOutputLines=e.setMaxConsoleOutputLines,e.publicApi.DEBUG.listStateMachines=e._.bind(e.StateMachine.getActiveList,e.StateMachine),e.publicApi.DEBUG.startDebugStateMachine=e._.bind(e.StateMachine.startDebugTransitionsFor,e.StateMachine),e.publicApi.DEBUG.stopDebugStateMachine=e._.bind(e.StateMachine.stopDebugTransitionsFor,e.StateMachine),e.publicApi.DEBUG[t]=e.publicApi.DEBUG[t]||{},e.publicApi.DEBUG[t].startDebugMB=e._.bind(i.mb.startDebug,i.mb),e.publicApi.DEBUG[t].stopDebugMB=e._.bind(i.mb.stopDebug,i.mb),e.publicApi.DEBUG[t].listMBDependencies=e._.bind(i.mb.listDependencies,i.mb),n.extend(e.publicApi.DEBUG[t],e.debug_tools[t]))},enableDebugTools:function(t,n){if(e.publicApi&&e.publicApi.DEBUG&&n&&t){if(n.hasOwnProperty("startRecordingConsoleOutput")){var i=n.startRecordingConsoleOutput;e.publicApi.DEBUG.startRecordingConsoleOutput(i)}if(e._.isFinite(n.setMaxConsoleOutputLines)&&e.publicApi.DEBUG.setMaxConsoleOutputLines(n.setMaxConsoleOutputLines),n.hasOwnProperty("startDebugStateMachine")&&e._.isString(n.startDebugStateMachine)){var r=[];if("all"===n.startDebugStateMachine){r=e.publicApi.DEBUG.listStateMachines();for(var a in r)r.hasOwnProperty(a)&&e.publicApi.DEBUG.startDebugStateMachine(a)}else{r=n.startDebugStateMachine.split(",");for(var s in r)if(r.hasOwnProperty(s)){var a=r[s].trim();e.publicApi.DEBUG.startDebugStateMachine(a)}}}n.startDebugMB===!0&&e.publicApi.DEBUG[t].startDebugMB()}},__placeholder:0})}(e,e._,e.$),function(e,t){e.PlayerApi=function(n,i,r,a,s){this.mb=n,this.modules=r,this.parameters=a,this.persistentSettings=s;var o=i,l=!1,u=!1,c=!1,d=-1,h=-1,E=-1,p=-1,f=null,m=-1,g={},A={},b=null,_=null,T=!1,v=null,y=e.STATE.LOADING,S=0,N=!1,I=1,D=!1,R=!1,O=null,C=function(){T=!0,D=!1,R=!1},L=function(){l=!1,u=!1,c=!1,y=e.STATE.LOADING,d=-1,h=-1,E=-1,p=-1,f=null,m=-1,g={},A={},b=null,_=null,T=!1,R=!1};this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"player",t.bind(function(){y=e.STATE.READY,l=!0,D&&this.play()},this)),this.mb.subscribe(e.EVENTS.REPLAY,"player",t.bind(function(){C()},this)),this.mb.subscribe(e.EVENTS.PLAY,"player",t.bind(function(){C()},this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"player",t.bind(function(){C()},this)),this.mb.subscribe(e.EVENTS.PLAYING,"player",t.bind(function(){y!=e.STATE.ERROR&&(y=e.STATE.PLAYING,T=!0,c=!0),R=!1},this)),this.mb.subscribe(e.EVENTS.PAUSED,"player",t.bind(function(){y!=e.STATE.ERROR&&(y=e.STATE.PAUSED),c=!1},this)),this.mb.subscribe(e.EVENTS.BUFFERING,"player",t.bind(function(){y!=e.STATE.ERROR&&(y=e.STATE.BUFFERING)},this)),this.mb.subscribe(e.EVENTS.BUFFERED,"player",t.bind(function(){y===e.STATE.BUFFERING&&(y=c?e.STATE.PLAYING:e.STATE.PAUSED)},this)),this.mb.subscribe(e.EVENTS.PLAYED,"player",t.bind(function(){y=e.STATE.READY,R=!0,c=!1},this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"player",t.bind(function(e,t){E=t,T=!0,u=!0,R=!1},this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"player",t.bind(function(){E=-1,u=!1},this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"player",t.bind(function(e,t){f=t,t&&(h=t.duration)},this)),this.mb.subscribe(e.EVENTS.WILL_FETCH_AUTHORIZATION,"player",t.bind(function(){m=(new Date).getTime()},this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"player",t.bind(function(e,t){if(t.debug_data&&t.debug_data.user_info){var n=(new Date).getTime(),i=(n-m-t.debug_data.server_latency)/2;S=1e3*t.debug_data.user_info.request_timestamp+i-n}},this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"player",t.bind(function(e,t,n,i){d=t,h=n,p=i,v||(v=(new Date).getTime())},this)),this.mb.subscribe(e.EVENTS.DOWNLOADING,"player",t.bind(function(e,t,n,i){d=t,h=n,p=i},this)),this.mb.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"player",t.bind(function(e,t){N=t},this)),this.mb.subscribe(e.EVENTS.ERROR,"player",t.bind(function(t,n){b=n,y=e.STATE.ERROR,c=!1},this)),this.mb.subscribe(e.EVENTS.VOLUME_CHANGED,"player",t.bind(function(e,t){I=t},this)),this.mb.subscribe(e.EVENTS.SAVE_PLAYER_SETTINGS,"player",t.bind(function(n,i){t.extend(this.persistentSettings.closedCaptionOptions,i.closedCaptionOptions);var r=JSON.stringify(this.persistentSettings);e.localStorage.setItem(e.CONSTANTS.OOYALA_PLAYER_SETTINGS_KEY,r)},this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"player",t.bind(function(e,n,i){this.parameters=t.extend(this.parameters,i),L()},this)),this.mb.subscribe(e.EVENTS.SET_ASSET,"player",t.bind(function(e,n,i){this.parameters=t.extend(this.parameters,i),L()},this)),this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"player",t.bind(function(e,t){f=t.content,h=f.duration},this)),this.mb.subscribe(e.EVENTS.DESTROY,"player",t.bind(function(){y=e.STATE.DESTROYED},this)),this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"player",t.bind(function(e,t){A=t.bitrates},this)),this.mb.subscribe(e.EVENTS.BITRATE_CHANGED,"player",t.bind(function(e,t){_=t},this)),this.mb.subscribe(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,"player",t.bind(function(e,t){g=t},this)),this.setEmbedCode=function(t,n){this.mb.publish(e.EVENTS.SET_EMBED_CODE,t,n||{})},this.setAsset=function(t,n){this.mb.publish(e.EVENTS.SET_ASSET,t,n||{})},this.play=function(){return y!=e.STATE.ERROR?l?void(R?this.mb.publish(e.EVENTS.REPLAY):T?this.mb.publish(e.EVENTS.PLAY):this.mb.publish(e.EVENTS.INITIAL_PLAY,Date.now())):void(D=!0):void 0},this.pause=function(){this.mb.publish(e.EVENTS.PAUSE)},this.seek=function(t){R?this.mb.publish(e.EVENTS.REPLAY,t):this.mb.publish(e.EVENTS.SEEK,t)},this.setVolume=function(t){this.mb.publish(e.EVENTS.CHANGE_VOLUME,t)},this.destroy=t.bind(function(t){t&&"function"==typeof t&&(O=t),this.mb.publish(e.EVENTS.DESTROY)},this),this.triggerDestroyCallback=function(){O&&(O(),O=null)},this.updateAsset=function(t){this.mb.publish(e.EVENTS.UPDATE_ASSET,t)},this.getPlayheadTime=function(){return d},this.getLiveTime=function(){return new Date(v+1e3*d+S)},this.getDuration=function(){return h},this.getAdDuration=function(){return E},this.getBufferLength=function(){return p},this.getItem=function(){return f},this.getDescription=function(){return f?f.description:null},this.getEmbedCode=function(){return f?f.embedCode||f.embed_code||"":null},this.getTitle=function(){return f?f.title:null},this.isFullscreen=function(){return N},this.getErrorCode=function(){return null!=b?b.code:null},this.getState=function(){return y},this.getVolume=function(){return I},this.skipAd=function(){this.mb.publish(e.EVENTS.SKIP_AD)},this.getBitratesAvailable=function(){return A},this.getCurrentBitrate=function(){return _},this.setTargetBitrate=function(t){this.mb.publish(e.EVENTS.SEND_QUALITY_CHANGE,t),this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,t)},this.getCurrentItemClosedCaptionsLanguages=function(){return g},this.setClosedCaptionsLanguage=function(t){this.mb.publish(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,t)
},this.subscribe=function(e,n,i){this.mb.subscribe(e,n,function(){var e=t.toArray(arguments);e.unshift(i),t.defer.apply(this,e)})},this.getVersion=function(){return e.VERSION.version},this.getElementId=function(){return o},this.isPlaying=function(){return c},this.isAdPlaying=function(){return u}}}(e,e._,e.$),function(e,t,n){function i(t){if(t.origin===o){if(t.data===l)return clearTimeout(m),void r(h);var n=null;try{n=e.JSON.parse(t.data)}catch(i){}n&&n.callback&&f[n.callback]&&(f[n.callback](n.result),delete f[n.callback])}}function r(e){var t;for(E=e;void 0!=(t=p.pop());)a(t[0],t[1],t[2])}function a(t,n,i){if(E===c)return void p.push(arguments);if(E!==d&&g.contentWindow.postMessage){var r={method:t,arguments:n,callback:Math.random().toString(36).substring(7)};f[r.callback]=i,g.contentWindow.postMessage(JSON.stringify(r),o)}else{var a;a="setItem"==t?e[t].apply(e.localStorage,n):e.localStorage[t].apply(e.localStorage,n),i&&i(a)}}var s=t.template("<%=server%>/ooyala_storage.html")({server:e.SERVER.API}),o=e.SERVER.API,l="LOADED",u=3e3,c=0,d=1,h=2,E=c,p=[],f={},m=null,g=document.createElement("iframe");g.style.display="none",g.src=s,n(document).ready(function(){document.body.appendChild(g),m=setTimeout(function(){r(d)},u)}),window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent&&window.attachEvent("onmessage",i),e.ooyalaStorage={getItem:function(e,t){a("getItem",[e],t)},key:function(e,t){a("key",[e],t)},setItem:function(e,t,n){a("setItem",[e,t],n)},removeItem:function(e,t){a("removeItem",[e],t)},hasOwnProperty:function(e,t){a("hasOwnProperty",[e],t)}},e.TEST_TEST_TEST&&(e.ooyalaStorage._getIframeState=function(){return E})}(e,e._,e.$),function(e,t){callbackQueue=[],e.GUID=void 0,e.ooyalaStorage.getItem("ooyala_guid",t.bind(function(t){for(t?e.GUID=t:(e.GUID=generateDeviceId(),e.ooyalaStorage.setItem("ooyala_guid",e.GUID));void 0!=(callback=callbackQueue.pop());)callback(e.GUID)}),this),e.publicApi.getGuid=e.getGuid=function(t){if(e.GUID){if("function"==typeof t)try{t(e.GUID)}catch(n){}}else callbackQueue.push(t)},generateDeviceId=function(){var t=(new Date).getTime()+window.navigator.userAgent+Math.random().toString(16).split(".")[1];return new e.jsSHA(t,"ASCII").getHash("SHA-256","B64")},e.plugin("DeviceId",function(e){return function(t){t.subscribe(e.EVENTS.PLAYER_CREATED,"DeviceId",function(){e.publicApi.getGuid(function(n){t.publish(e.EVENTS.GUID_SET,n)})})}})}(e,e._,e.$),function(e,t,n){var i=function(t,n){this.id=n,this.mb=t,this.width=0,this.height=0,this.useCustomControls=!e.uiParadigm.match(/mobile/),this.useNativeControls=!!e.uiParadigm.match(/native/),this.originalZ=null,this.originalOverflow=null,this.playbackReady=!1,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"ChromelessUi",target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"PlayerCreated"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:e.EVENTS.ASSET_CHANGED,from:"*",to:"WaitingPlaybackReady"},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingPlaybackReady",to:"Ready"},{name:e.EVENTS.INITIAL_PLAY,from:"*"},{name:e.EVENTS.WILL_PLAY,from:["Ready","Paused"],to:"StartingToPlay"},{name:e.EVENTS.PLAYING,from:["StartingToPlay","Paused"],to:"Playing"},{name:e.EVENTS.ERROR,from:"*"},{name:e.EVENTS.PLAY,from:"*"},{name:e.EVENTS.WILL_CHANGE_FULLSCREEN,from:"*"},{name:e.EVENTS.FULLSCREEN_CHANGED,from:"*"},{name:e.EVENTS.VC_PLAYING,from:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"*"},{name:e.EVENTS.REPLAY,from:"*"},{name:e.EVENTS.WILL_PLAY_ADS,from:"*"},{name:e.EVENTS.PLAY_MIDROLL_STREAM,from:"*"},{name:e.EVENTS.PLAYING,from:"*"}]})};n.extend(i.prototype,{onInitialPlay:function(){!this.playbackReady},onPlayerCreated:function(i,r,a){this.elementId=r,this.topMostElement=t("#"+this.elementId),this.topMostElement.append('<div class="innerWrapper" style="width:inherit; height:inherit"></div>'),this.rootElement=this.topMostElement.find("div.innerWrapper"),this.params=a,this.rootElement.append("<div class='plugins' style='position: absolute; width: 100%; height: 100%;'></div>");var s=["fullscreenchange","webkitfullscreenchange"],o=n.bind(this._onBrowserOriginatedFullscreenChange,this),l=this.rootElement;n.each(s,function(e){l.on(e,o)}),t(document).on("mozfullscreenchange",o),document.onwebkitfullscreenchange=o,t(document).on("MSFullscreenChange",o),t(window).resize(n.bind(this._onResize,this)),l.on("mresize",n.bind(this._onResize,this)),t(window).on("beforeunload",n.bind(this._onBeforeUnload,this)),this.mb.publish(e.EVENTS.PLAYER_EMBEDDED,{videoWrapperClass:"innerWrapper",pluginsClass:"plugins"})},onEmbedCodeChanged:function(){this._assetChanged()},onAssetChanged:function(){this._assetChanged()},_assetChanged:function(){this.playbackReady=!1},onPlaybackReady:function(){this.playbackReady=!0},_isFullscreen:function(){if(this.rootElement.hasClass("fullscreen"))return!0;var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.webkitDisplayingFullscreen||document.msFullscreenElement;return!!e},_onBrowserOriginatedFullscreenChange:function(){e.d("Fullscreen Changed",this._isFullscreen()),this.mb.publish(e.EVENTS.SIZE_CHANGED,this.rootElement.innerWidth(),this.rootElement.innerHeight()),this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,this._isFullscreen())},onFullscreenChanged:function(e,t){!t||this.originalZ||this.originalOverflow?t||(this.rootElement.css("z-index",""),this.rootElement.css("overflow",this.originalOverflow),this.originalZ=null,this.originalOverflow=null):(this.originalZ=this.rootElement.css("z-index"),this.originalOverflow=this.rootElement.css("overflow"),this.rootElement.css("z-index",this.originalZ+1e3),this.rootElement.css("overflow","visible"))},_onResize:function(){(this.width!=this.rootElement.innerWidth()||this.height!=this.rootElement.innerHeight())&&(this.width=this.rootElement.innerWidth(),this.height=this.rootElement.innerHeight(),this.mb.publish(e.EVENTS.SIZE_CHANGED,this.width,this.height))},onPlay:function(){this.useCustomControls||this.useNativeControls||this.mb.publish(e.EVENTS.WILL_CHANGE_FULLSCREEN,!0)},onWillChangeFullscreen:function(e,t){(this.useNativeControls||this.useCustomControls)&&(t?this._showFullscreen():this._hideFullscreen())},_getActiveVideo:function(){var e=this.rootElement.find("video.video"),t=e.get(0),n=this.rootElement.find("div.plugins video").get(0);return n&&!this._isVideoDomVisible("video.video")&&(t=n),t},_showFullscreen:function(){var n=this.rootElement[0],i=this._getActiveVideo(),r=n.requestFullScreen||n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen;(!r||e.isAndroid&&!e.isChrome)&&i&&i.webkitEnterFullscreen?(i.isFullScreenMode=!0,i.webkitEnterFullscreen()):r?(t(i).css("background-color","black"),r.call(n)):this.rootElement.addClass("fullscreen"),this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,!0)},_hideFullscreen:function(){var n=this._getActiveVideo();document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():n&&n.webkitExitFullscreen?(n.isFullScreenMode=!1,n.webkitExitFullscreen()):document.msExitFullscreen?document.msExitFullscreen():this.rootElement.removeClass("fullscreen"),t(n).css("background-color",""),this.mb.publish(e.EVENTS.FULLSCREEN_CHANGED,!1)},_isVideoDomVisible:function(t){return this.rootElement.find(t).css("display")==e.CSS.VISIBLE_DISPLAY},_onBeforeUnload:function(){this.mb.publish(e.EVENTS.PAGE_UNLOAD_REQUESTED,!0)},__placeholder:!0}),e.registerModule("chromeless_ui",function(e,t){return new i(e,t)})}(e,e.$,e._),function(e,t){var n=function(n,i){this.toString=function(){return"asset-controller"},this.mb=n,this.id=i,this.currentAssetId="",this.mb.subscribe(e.EVENTS.SET_ASSET,"asset",t.bind(this.setAsset,this)),this.mb.subscribe(e.EVENTS.UPDATE_ASSET,"asset",t.bind(this.updateAsset,this))};t.extend(n.prototype,{normalizeAsset:function(e){e.content.duration=1e3*e.content.duration},setAsset:function(t,n,i){this.validate(n)?(this.normalizeAsset(n),this.currentAssetId=n.id,this.mb.publish(e.EVENTS.ASSET_CHANGED,n,i),this.validateKeyframes(n)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,{data:n.content.keyFrames}),n.relatedVideos&&n.relatedVideos.length>0&&this.mb.publish(e.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:n.relatedVideos})):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})},updateAsset:function(t,n){this.validateUpdate(n)&&this.mb.publish(e.EVENTS.ASSET_UPDATED,n),this.validateKeyframes(n)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,{data:n.content.keyFrames}),n.relatedVideos.length>0&&this.mb.publish(e.EVENTS.DISCOVERY_API.RELATED_VIDEOS_FETCHED,{videos:n.relatedVideos})},validate:function(e){return this.validateRelatedVideos(e),e&&"string"==typeof e.id&&e.content&&e.content.streams&&e.content.streams.length>0&&"string"==typeof e.content.title&&"string"==typeof e.content.description&&"number"==typeof e.content.duration&&e.content.posterImages&&e.content.posterImages.length>0&&e.content.captions},validateUpdate:function(e){return this.validateRelatedVideos(e),e&&"string"==typeof e.id&&e.id==this.currentAssetId&&(e.relatedVideos&&e.relatedVideos.length>0||e.content&&("string"==typeof e.content.title||"string"==typeof e.content.description||"number"==typeof e.content.duration||e.content.captions||e.content.posterImages&&e.content.posterImages.length>0))},validateRelatedVideos:function(e){if(e.relatedVideos&&e.relatedVideos.length>0){for(var t=[],n=0;n<e.relatedVideos.length;n++)this.validate(e.relatedVideos[n].asset)&&"string"==typeof e.relatedVideos[n].name&&"string"==typeof e.relatedVideos[n].preview_image_url&&t.push(e.relatedVideos[n]);e.relatedVideos=t}},validateKeyframes:function(e){return e&&e.content&&e.content.keyFrames&&e.content.keyFrames.available_widths&&e.content.keyFrames.available_widths.length>0&&e.content.keyFrames.available_time_slices&&e.content.keyFrames.available_time_slices.length>0&&e.content.keyFrames.thumbnails&&Object.keys(e.content.keyFrames.thumbnails).length==e.content.keyFrames.available_time_slices.length}}),e.registerModule("assetController",function(e,t){return new n(e,t)})}(e,e._,e.$),function(e,t,n){var i=function(n,i){this.toString=function(){return"playback-controller"},this.mb=n,this.id=i,this.playbackElements={},this.currentPlaybackElement=null,this.willPlayFromBeginning=!0,this.metadataHasFetched=!1,this.isFirstStream=!0,this.playedAtLeastOnce=!1,this.endScreenShown=!1,this.playerParams=null,this.shouldPreload=!0,this.initialTime=0,this.closedCaptions=null,this.bitrateProperty={level:"auto",duration:15},this.bitrateOverrideFunction=null,this.bitrateOverrideTimer=null,this.chosenBitrateIndex="auto",this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isMainVideoElementInFocus:!1,isBitrateOverridden:!1},this.mb.subscribe(e.EVENTS.PLAYER_CREATED,"playback",t.bind(this.playerCreated,this)),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"playback",t.bind(this.embedCodeChanged,this)),this.mb.subscribe(e.EVENTS.SET_ASSET,"playback",t.bind(this.setAsset,this)),this.mb.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"playback",t.bind(this.contentTreeFetched,this)),this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"playback",t.bind(this.metadataFetched,this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"playback",t.bind(this.authorizationFetched,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"playback",t.bind(this.initialPlay,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,"playback",t.bind(this.onWillPlayFromBeginning,this)),this.mb.subscribe(e.EVENTS.PLAYED,"playback",t.bind(this.played,this)),this.mb.subscribe(e.EVENTS.ASSET_CHANGED,"playback",t.bind(this.assetChanged,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"playback",t.bind(this.vcVideoElementCreated,this)),this.mb.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"playback",t.bind(this.videoControllerVideoElementInFocus,this)),this.mb.subscribe(e.EVENTS.VC_PLAYED,"playback",t.bind(this.vcPlayed,this)),this.mb.subscribe(e.EVENTS.VC_PLAYING,"playback",t.bind(this.vcPlaying,this)),this.mb.subscribe(e.EVENTS.VC_CAN_PLAY,"playback",t.bind(this.vcCanPlay,this)),this.mb.subscribe(e.EVENTS.VC_PAUSED,"playback",t.bind(this.vcPaused,this)),this.mb.subscribe(e.EVENTS.VC_SEEKED,"playback",t.bind(this.vcSeeked,this)),this.mb.subscribe(e.EVENTS.VC_PLAY_FAILED,"playback",t.bind(this.vcPlayFailed,this)),this.mb.subscribe(e.EVENTS.VC_ERROR,"playback",t.bind(this.vcError,this)),this.mb.subscribe(e.EVENTS.VC_WILL_PLAY,"playback",t.bind(this.vcWillPlay,this)),this.mb.subscribe(e.EVENTS.REPLAY,"playback",t.bind(this.replay,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"playback",t.bind(this.playbackReady,this)),this.mb.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"playback",t.bind(this.bitrateInfoAvailable,this)),this.mb.subscribe(e.EVENTS.SET_TARGET_BITRATE,"playback",t.bind(this.setTargetBitrate,this)),this.mb.subscribe(e.EVENTS.WILL_RESUME_MAIN_VIDEO,"playback",t.bind(this.willResume,this))};t.extend(i.prototype,{getStreams:function(n){if(!n)return null;if(t.isEmpty(n.streams))return null;for(var i={},r=0;r<n.streams.length;r++){var a=n.streams[r].delivery_type;if("youtube"==a)return i={deliveryType:a,youtube:{url:n.streams[r].youtube_id}};if(n.streams[r].url&&a&&(!n.streams[r].drm||!t.isEmpty(n.streams[r].drm))){var s=n.streams[r].drm||{};t.isEmpty(s)||"remote_asset"==a||(a=a.concat("_drm")),i[a]={url:e.decode64(n.streams[r].url.data)},t.isEmpty(s)||(i[a].drm=s);var o=n.streams[r].akamai_secure_hd||null;"boolean"==typeof o&&(i[a].contentMetadata={assetId:this.currentEmbedCode,accountId:this.playerParams.pcode,secureContent:o}),i.isLive=n.streams[r].is_live_stream||!1}}return i.remote_asset&&(i[e.VIDEO.ENCODING.UNKNOWN]=i.remote_asset,delete i.remote_asset),i},getAssets:function(e){if(!e)return null;if(t.isEmpty(e.content.streams))return null;for(var n={},i=0;i<e.content.streams.length;i++)e.content.streams[i].url&&e.content.streams[i].delivery_type&&(n[e.content.streams[i].delivery_type]={url:e.content.streams[i].url});return n.isLive=e.content.is_live_stream||!1,n},assetChanged:function(e,t){this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.chosenBitrateIndex="auto",this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isMainVideoElementInFocus:!1,isBitrateOverridden:!1},this.streams=this.getAssets(t),this.closedCaptions={closed_captions:t.content.captions.closed_captions,closed_captions_vtt:t.content.captions.closed_captions_vtt},this.dataReady()},checkDataReady:function(){null!=this.contentTree&&this.metadataHasFetched&&null!=this.authorization&&this.dataReady()},dataReady:function(){var t=e.VIDEO.MAIN;this.playbackElements[t]={streams:this.streams},this.currentPlaybackElement=t,this.publishClosedCaptionInfo(t,this.closedCaptions);var n=this.playerParams?this.playerParams.platform:void 0,i=this.playerParams?this.playerParams.crossorigin:void 0,r=this.playerParams?this.playerParams.pcode:void 0,a={closedCaptions:this.playbackElements[t].closedCaptions,platform:n,crossorigin:i,authenticationData:{pcode:r}};this.mb.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,t,this.streams,null,a)},resetStreamData:function(){this.contentTree=null,this.metadataHasFetched=!1,this.authorization=null,this.streams=null,this.currentEmbedCode=null,this.endScreenShown=!1,this.isFirstStream||(this.initialTime=0),this.isFirstStream=!1,this.playedAtLeastOnce=!1},preloadStream:function(){this.shouldPreload&&this.mb.publish(e.EVENTS.VC_PRELOAD,this.currentPlaybackElement)},triggerAutoplay:function(){var t=this.playerParams?"true"===this.playerParams.autoPlay||this.playerParams.autoPlay===!0||"true"===this.playerParams.autoplay||this.playerParams.autoplay===!0:!1;0==this.playedAtLeastOnce&&t&&e.allowAutoPlay&&this.mb.publish(e.EVENTS.INITIAL_PLAY,Date.now())},triggerLoopPlay:function(){var t=this.playerParams?"true"===this.playerParams.loop||this.playerParams.loop===!0:!1;t&&this.mb.publish(e.EVENTS.REPLAY)},playerCreated:function(n,i,r){if(this.playerParams=r,"object"==typeof this.playerParams&&(void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale),this.playerParams.preload===!1&&(this.shouldPreload=!1),void 0!==this.playerParams.initialTime)){var a=parseInt(this.playerParams.initialTime,10);!isNaN(a)&&a>0&&(this.initialTime=a)}e.isIos&&7==e.iosMajorVersion?window.addEventListener("pageshow",t.bind(function(){this.mb.publish(e.EVENTS.PAUSE)},this)):(e.isAndroid||e.isIos)&&document.addEventListener("visibilitychange",t.bind(function(){document.hidden&&this.mb.publish(e.EVENTS.PAUSE)},this)),this.initialBitrateOverride(r)},playbackReady:function(){this.triggerAutoplay()},initialBitrateOverride:function(e){if(e&&e.initialBitrate){var t=e.initialBitrate.level;("auto"==t||n.isNumeric(t)&&t>=0&&1>=t)&&(this.bitrateProperty.level=t);var i=e.initialBitrate.duration;n.isNumeric(i)&&i>0&&(this.bitrateProperty.duration=i)}e&&e.bitrateOverrideFunction&&"function"==typeof e.bitrateOverrideFunction&&(this.bitrateOverrideFunction=e.bitrateOverrideFunction)},bitrateInfoAvailable:function(e,t){if(t&&t.bitrates&&"auto"!=this.bitrateProperty.level){for(var n=[],i={},r=0;r<t.bitrates.length;r++)"auto"!=t.bitrates[r].id&&(n.push(t.bitrates[r].bitrate),i[t.bitrates[r].bitrate]=t.bitrates[r].id);if(n.sort(function(e,t){return e-t}),n.length>0){for(var a=this.bitrateProperty.level*n[n.length-1],s=n[0],r=0;r<n.length&&n[r]<=a;r++)s=n[r];this.chosenBitrateIndex=i[s],this.isBitrateOverrideReady.isBitrateInfoAvailable=!0}this.publishInitialBitrateOverride()}},publishInitialBitrateOverride:function(){!this.isBitrateOverrideReady.isBitrateOverridden&&this.isBitrateOverrideReady.isMainVideoElementInFocus&&("function"==typeof this.bitrateOverrideFunction?(this.bitrateOverrideFunction(),this.isBitrateOverrideReady.isBitrateOverridden=!0):this.isBitrateOverrideReady.isBitrateInfoAvailable&&"auto"!=this.bitrateProperty.level&&"auto"!=this.chosenBitrateIndex&&(this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,this.chosenBitrateIndex,{setTimer:!0}),this.isBitrateOverrideReady.isBitrateOverridden=!0))},videoControllerVideoElementInFocus:function(t,n){this.isBitrateOverrideReady.isMainVideoElementInFocus=n==e.VIDEO.MAIN,this.publishInitialBitrateOverride()},setTargetBitrate:function(n,i,r){r&&r.setTimer?this.bitrateOverrideTimer=setTimeout(t.bind(function(){this.mb.publish(e.EVENTS.SET_TARGET_BITRATE,"auto")},this),1e3*this.bitrateProperty.duration):this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null)},authorizationFetched:function(e,t){this.authorization=t,this.streams=this.getStreams(t),this.checkDataReady()},contentTreeFetched:function(e,t){this.contentTree=t,t&&(this.closedCaptions={closed_captions:t.closed_captions,closed_captions_vtt:t.closed_captions_vtt}),this.checkDataReady()},publishClosedCaptionInfo:function(n,i){if(i){var r={};if(i.closed_captions_vtt&&i.closed_captions_vtt.captions&&t.size(i.closed_captions_vtt.captions)>0){r.closed_captions_vtt=i.closed_captions_vtt.captions,r.availableLanguages=i.closed_captions_vtt.languages,r.locale={};for(var a=0;a<r.availableLanguages.length;a++){var s=r.availableLanguages[a];r.locale[s]=r.closed_captions_vtt[s].name}}if(i.closed_captions&&i.closed_captions.length>0&&(r.closed_captions_dfxp=i.closed_captions[0],r.availableLanguages=i.closed_captions[0].languages),t.size(r)>0){var o={videoId:n};if(o.languages=i.closed_captions_vtt&&i.closed_captions_vtt.languages||r.closed_captions_dfxp&&r.closed_captions_dfxp.languages,o.locale={},o.languages&&o.languages.length>0){for(var a=0;a<o.languages.length;a++){var s=o.languages[a];r.closed_captions_vtt&&r.closed_captions_vtt[s]&&(o.locale[s]=r.closed_captions_vtt[s].name)}t.extend(this.playbackElements[this.currentPlaybackElement],{closedCaptions:r}),this.mb.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,o)}}}},metadataFetched:function(){this.metadataHasFetched=!0,this.checkDataReady()},initialPlay:function(){this.willPlayFromBeginning&&this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING),this.willPlayFromBeginning=!1,(e.isIos||e.isAndroid)&&this.mb.publish(e.EVENTS.VC_PRIME_VIDEOS)},onWillPlayFromBeginning:function(){this.mb.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,this.currentPlaybackElement),this.mb.publish(e.EVENTS.VC_SET_INITIAL_TIME,e.VIDEO.MAIN,this.initialTime),this.mb.publish(e.EVENTS.PLAY)},vcVideoElementCreated:function(t,n){this.currentPlaybackElement&&n.videoId===this.currentPlaybackElement&&(this.mb.publish(e.EVENTS.PLAYBACK_READY),this.preloadStream())},embedCodeChanged:function(t,n,i){var r=this.playerParams?"true"===this.playerParams.autoPlay||this.playerParams.autoPlay===!0||"true"===this.playerParams.autoplay||this.playerParams.autoplay===!0:!1;this.resetStreamData(),this.currentEmbedCode=n,this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.chosenBitrateIndex="auto",this.isBitrateOverrideReady={isBitrateInfoAvailable:!1,isMainVideoElementInFocus:!1,isBitrateOverridden:!1},this.playerParams=i?i:{},void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale),this.playerParams.autoPlay=r,this.willPlayFromBeginning=!0;for(var a in this.playbackElements)a&&this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,a)},setAsset:function(t,n,i){this.resetStreamData(),this.playerParams=i,this.willPlayFromBeginning=!0,void 0!==this.playerParams.locale&&e.setLocale(this.playerParams.locale);for(var r in this.playbackElements)r&&this.mb.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,r)},willResume:function(){this.mb.publish(e.EVENTS.VC_PLAY,this.currentPlaybackElement)},vcPlayFailed:function(t,n,i){if(this.currentPlaybackElement&&n===this.currentPlaybackElement){this.mb.publish(e.EVENTS.PLAY_FAILED,i),i=parseInt(i);var r=window.MediaError?window.MediaError.MEDIA_ERR_ABORTED:1,a=window.MediaError?window.MediaError.MEDIA_ERR_NETWORK:2,s=window.MediaError?window.MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:4;if(i===r)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC});else if(i===a)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.NETWORK});else if(i===s)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC});else if(6===i)this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.ERROR_DRM_RIGHTS_SERVER_ERROR});else if(this.contentTree)switch(this.contentTree.content_type){case"Video":this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.STREAM});break;case"LiveStream":this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.LIVESTREAM});break;default:this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.PLAYBACK.GENERIC})}}},vcError:function(t,n,i){this.currentPlaybackElement&&n===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.ERROR,i)},vcWillPlay:function(t,n){this.playbackElements[n]&&(this.mb.publish(e.EVENTS.WILL_PLAY),e.isIos&&this.endScreenShown&&this.mb.publish(e.EVENTS.REPLAY),this.endScreenShown=!1)},replay:function(t,n){this.endScreenShown=!1,this.bitrateOverrideTimer&&(clearTimeout(this.bitrateOverrideTimer),this.bitrateOverrideTimer=null),this.isBitrateOverrideReady.isBitrateOverridden=!1,this.initialTime=n||0,this.mb.publish(e.EVENTS.WILL_PLAY_FROM_BEGINNING)},vcPlayed:function(t,n){this.currentPlaybackElement&&n===this.currentPlaybackElement&&(this.endScreenShown=!0,this.playedAtLeastOnce=!0,this.mb.publish(e.EVENTS.PLAYED))},vcPlaying:function(t,n){this.currentPlaybackElement&&n===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.PLAYING)},vcCanPlay:function(t,n){this.currentPlaybackElement===n&&this.mb.publish(e.EVENTS.CAN_PLAY)},vcPaused:function(t,n){this.currentPlaybackElement&&n===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.PAUSED)},vcSeeked:function(t,n,i){this.currentPlaybackElement&&n===this.currentPlaybackElement&&this.mb.publish(e.EVENTS.SEEKED,i)},played:function(){this.playedAtLeastOnce=!0,this.preloadStream(),this.triggerLoopPlay()}}),e.registerModule("playbackController",function(e,t){return new i(e,t)})}(e,e._,e.$),function(e,t,n){var i=function(){e.log.apply(this,n.merge(["VC:"],arguments))},r={},a={},s=t.bind(function(){var e=[];return t.each(a,function(t,n){t&&t.length>0&&e.push(n)}),e},this);e.Video={plugin:function(e){if(this.validate(e)){i("Registering video plugin:",e.name);for(var t=0;t<e.encodings.length;t++){var n=e.encodings[t];a[n]?a[n].push(e.name):a[n]=[e.name]}r[e.name]=e}},unregister:function(e){if(i("Removing a video plugin:",e),e&&r[e]){for(var n=0;n<r[e].encodings.length;n++){var s=r[e].encodings[n],o=a[s]?a[s].indexOf(e):-1;o>-1&&a[s].splice(o,1)}if(t.isFunction(r[e].destroy))try{r[e].destroy()}catch(l){i("Error destroying a video plugin",e,".",l)}delete r[e]}},validate:function(e){function n(e){i(e)}function a(i,r,a){return t.has(e,i)?typeof e[i]!=r?(n("The video plugin '"+a+"' property '"+i+"' should be type '"+r+"'"),!1):!0:(n("The video plugin '"+a+"' requires a '"+i+"' property"),!1)}function s(i,r){return t.isFunction(e[i])?!0:(n("The video plugin '"+r+"' requires a '"+i+"' function"),!1)}var o={name:"string",encodings:"object",features:"object",technology:"string"},l=["create"];if(!e)return n("The video plugin must be defined"),!1;if(!t.isObject(e))return n("The video plugin must be an object"),!1;for(var u in o)if(!a(u,o[u],e.name))return!1;for(var c=0;c<l.length;c++)if(!s(l[c],e.name))return!1;return r[e.name]?(n("The video plugin '"+e.name+"' has already been registered"),!1):!0},getRegisteredPlugins:function(){return r}},e.exposeStaticApi("Video",e.Video);var o=function(e,n,i){this.EVENTS=e.EVENTS,this.notify=t.bind(e.notify,e,n,i),this.markNotReady=t.bind(e.markNotReady,e,n),this.markReady=t.bind(e.markReady,e,n),this.PLUGIN_MAGIC="087d2ef5-9d39-43ed-a57a-16a312c87c0b"},l=function(l){var u=3e3,c=l,d=null,h=[],E=[],p=null;this.activeInstances={},this.focusVideoId=null;var f="",m=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING;this.elementId=null,this.currentPlayhead=0,this.toString=function(){return"video-controller"};var g=function(e){this.plugin=e.plugin&&e.plugin.name,this.domId=qt(),this.supportedEncodings=e.plugin.encodings||[],this.parentContainer=e.parentContainer||p&&p.find(".innerWrapper")||null,this.wrapper=e.wrapper,this.sharedObjectToInstance=e.sharedObjectToInstance,this.isControllingObject=void 0===e.isControllingObject?!0:e.isControllingObject},A=function(e){this.plugin=e.plugin&&e.plugin.name,this.parentContainer=e.parentContainer,this.element=e.element||null,this.isControllingElement=!!e.isControllingElement,this.playhead=0,this.encoding=e.encoding||null,this.stream=e.stream||null,this.vtcInterface=e.vtcInterface||{},this.closedCaptions=e.closedCaptions||{},this.crossorigin=e.crossorigin||null,this.isLive=e.isLive||!1,this.params=e.params||{},this.playing=!1,this.disableNativeSeek=!1},b={},_=null,T=!0,v=[],y=null,S=!1,N=!(e.isChrome||e.isIos||e.isAndroid||e.isSafari||e.isFirefox);this.EVENTS={PLAY:"play",CAN_PLAY:"canPlay",PLAYING:"playing",ENDED:"ended",ERROR:"error",SEEKING:"seeking",SEEKED:"seeked",PAUSED:"paused",RATE_CHANGE:"ratechange",STALLED:"stalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",BUFFERING:"buffering",BUFFERED:"buffered",DURATION_CHANGE:"durationchange",PROGRESS:"progress",WAITING:"waiting",FULLSCREEN_CHANGED:"fullScreenChanged",CAPTIONS_FOUND_ON_PLAYING:"captionsFoundOnPlaying",ASSET_DIMENSION:"assetDimension",BITRATE_CHANGED:"bitrateChanged",BITRATES_AVAILABLE:"bitratesAvailable",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",METADATA_FOUND:"metadataFound"};var I={ENCODING_PRIORITY:"encodingPriority",INITIAL_VOLUME:"initialVolume"},D={DEFAULT:"default",PAGE:"pageLevel",BACKLOT:"backlot",BACKDOOR:"backdoor"},R={};R[D.DEFAULT]=[e.VIDEO.ENCODING.DRM.DASH,e.VIDEO.ENCODING.DRM.HLS,e.VIDEO.ENCODING.HLS,e.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS,e.VIDEO.ENCODING.AKAMAI_HD2_HLS,e.VIDEO.ENCODING.DASH,e.VIDEO.ENCODING.MP4,e.VIDEO.ENCODING.YOUTUBE,e.VIDEO.ENCODING.HDS,e.VIDEO.ENCODING.WEBM,e.VIDEO.ENCODING.IMA,e.VIDEO.ENCODING.PULSE];var O=D.DEFAULT,C={width:"100%",height:"100%",position:"absolute",visibility:"hidden","z-index":e.CSS.VIDEO_Z_INDEX};e.isIos?C.display=e.CSS.INVISIBLE_DISPLAY:C.left="-100000px";var L=t.bind(function(){c.subscribe(e.EVENTS.PLAYER_CREATED,"vtc",V),c.subscribe(e.EVENTS.METADATA_FETCHED,"vtc",P),c.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"vtc",M),c.subscribe(e.EVENTS.ASSET_CHANGED,"vtc",w),c.subscribe(e.EVENTS.PLAYBACK_READY,"vtc",k),c.subscribe(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,"vtc",F),c.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"vtc",et),c.subscribe(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,"vtc",W),c.subscribe(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,"vtc",tt),c.subscribe(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,"vtc",rt),c.subscribe(e.EVENTS.WILL_PLAY_ADS,"vtc",it),c.subscribe(e.EVENTS.ADS_PLAYED,"vtc",st),c.subscribe(e.EVENTS.VC_PRELOAD,"vtc",lt),c.subscribe(e.EVENTS.VC_RELOAD,"vtc",ut),c.subscribe(e.EVENTS.VC_SET_INITIAL_TIME,"vtc",ct),c.subscribe(e.EVENTS.VC_SET_VIDEO_STREAMS,"vtc",ot),c.subscribe(e.EVENTS.VC_PRIME_VIDEOS,"vtc",dt),c.subscribe(e.EVENTS.PLAY,"vtc",ht),c.subscribe(e.EVENTS.VC_PLAY,"vtc",Et),c.subscribe(e.EVENTS.PAUSE,"vtc",pt),c.subscribe(e.EVENTS.VC_PAUSE,"vtc",ft),c.subscribe(e.EVENTS.SEEK,"vtc",mt),c.subscribe(e.EVENTS.VC_SEEK,"vtc",gt),c.subscribe(e.EVENTS.CHANGE_VOLUME,"vtc",At),c.subscribe(e.EVENTS.PAGE_UNLOAD_REQUESTED,"vtc",bt),c.subscribe(e.EVENTS.DISABLE_SEEKING,"vtc",Tt),c.subscribe(e.EVENTS.ENABLE_SEEKING,"vtc",_t),c.subscribe(e.EVENTS.SET_CLOSED_CAPTIONS_LANGUAGE,"vtc",vt),c.subscribe(e.EVENTS.SET_TARGET_BITRATE,"vtc",yt),c.subscribe(e.EVENTS.DESTROY,"vtc",t.bind(this.onDestroy,this)),c.subscribe(e.EVENTS.LIVE_BUTTON_CLICKED,"vtc",x)},this),V=t.bind(function(t,i,r){this.elementId=i,p=n("#"+i),b=r,b&&(b[I.ENCODING_PRIORITY]&&(R[D.PAGE]=b[I.ENCODING_PRIORITY],O=D.PAGE),void 0!==b[I.INITIAL_VOLUME]&&(y=parseFloat(b[I.INITIAL_VOLUME]))),e.debug_tools=e.debug_tools||{},e.debug_tools[i]||(e.debug_tools[i]={}),e.debug_tools[i].video=$t},this),P=t.bind(function(e,t){if(t&&t.base&&t.base[I.ENCODING_PRIORITY]){var n=t.base[I.ENCODING_PRIORITY];n=n.replace(/(&.+?;)|[ \[\]]/g,""),R[D.BACKLOT]=n.split(","),O!==D.PAGE&&(O=D.BACKLOT)}},this),M=t.bind(function(){R[D.BACKLOT]=null,O===D.BACKLOT&&(O=R[D.BACKDOOR]?D.BACKDOOR:D.DEFAULT),S=!1},this),w=t.bind(function(){S=!1},this),k=t.bind(function(){S=!0},this),x=t.bind(function(){Dt(this.focusVideoId,"onLiveClick")},this),F=t.bind(function(n,s,o,l,u){var d,h;if(u&&(u.technology||u.features)){var E=U(u.technology),p=H(u.features);d=t.pick(r,t.intersection(E,p))}else d=r;var f=Y(o,B(d),G());if(!f)return void c.publish(e.EVENTS.VC_ERROR,s,{code:e.ERROR.VC.UNSUPPORTED_ENCODING});i("For video '"+s+"', selected encoding '"+f+"', with stream url "+o[f].url);var m=!(!this.focusVideoId||this.focusVideoId!==s);if(this.activeInstances[s]&&this.activeInstances[s].element){if(d[this.activeInstances[s].plugin]&&t.contains(this.activeInstances[s].element.supportedEncodings,f))return i("Element already existed and supports chosen encoding.  Setting new video url."),Ht(s,f,o[f],o.isLive),u&&(Gt(s,u.closedCaptions),Rt(s,u.crossorigin)),Yt(s,o[f].contentMetadata),e.isIos&&(h=this.activeInstances[s].element.sharedObjectToInstance,"main"===h&&this.activeInstances[h].element&&(this.currentPlayhead=It(this.activeInstances[h].element,"getCurrentTime"))),void j(s);i("Element already existed but does not support chosen encoding.  Destroying exising element."),tt(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,s)}var g=t.intersection(a[f]||[],t.keys(d)),A=null;return(null==g||g.length<1)&&f==e.VIDEO.ENCODING.UNKNOWN&&t.size(d)>0?A=d[t.keys(d)[0]]:g&&g.length>0&&t.size(d)>0&&(A=d[g[0]]),A?(i("For video '"+s+"', elected plugin '"+A.name+"'"),K(A,s,l,f,o[f],o.isLive,u),void(this.activeInstances[s]?(j(s),m&&c.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,s)):c.publish(e.EVENTS.VC_ERROR,s,{code:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT}))):void c.publish(e.EVENTS.VC_ERROR,s,{code:e.ERROR.VC.UNSUPPORTED_ENCODING})},this),U=t.bind(function(e){if(!e)return t.keys(r);var n=[];
for(name in r)r[name].technology===e&&n.push(name);return n},this),H=t.bind(function(e){if(!e||e.length<1)return t.keys(r);var n=[];for(name in r){var i=t.difference(e,r[name].features);i&&0!==i.length||n.push(name)}return n},this),B=t.bind(function(e){var n=[];for(var i in e)n=n.concat(r[i].encodings);return t.uniq(n)},this),G=t.bind(function(){var e=R[O],t=n(s()).not(e).get();return e.concat(t)},this),Y=t.bind(function(n,i,r){if(n&&!(t.size(n)<1)){for(var a={},s=0;s<i.length;s++){var o=i[s];n.hasOwnProperty(o)&&(a[o]=n[o])}for(var l=null,s=0;s<r.length;s++)if(a.hasOwnProperty(r[s])){l=r[s];break}return null==l&&n.hasOwnProperty(e.VIDEO.ENCODING.UNKNOWN)&&(l=e.VIDEO.ENCODING.UNKNOWN),l}},this),j=t.bind(function(n){if(this.activeInstances&&this.activeInstances[n]&&this.activeInstances[n].element){var i=this.activeInstances[n].element,r=i.parentContainer&&i.parentContainer.length>0?i.parentContainer.find("#"+i.domId):[],a=this.activeInstances[n].stream?this.activeInstances[n].stream.url:null;e.isIos?t.delay(function(){c.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:n,encodings:i.supportedEncodings,parent:i.parentContainer,domId:i.domId,videoElement:r,streamUrl:a})},1):c.publish(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,{videoId:n,encodings:i.supportedEncodings,parent:i.parentContainer,domId:i.domId,videoElement:r,streamUrl:a})}},this),W=t.bind(function(e,t,n){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].stream&&(this.activeInstances[t].stream.url=n,Ht(t,this.activeInstances[t].encoding,this.activeInstances[t].stream,this.activeInstances[t].isLive))},this),K=t.bind(function(t,n,i,r,a,s,o){if(t&&n){if(q(t)){var l=X(t.technology);if(l&&this.activeInstances[l].plugin!==t.name){if(z(l,t))return void(this.activeInstances[l]?$(t,n,r,a,s,i,o,l):c.publish(e.EVENTS.VC_ERROR,n,{code:e.ERROR.VC.UNABLE_TO_CREATE_VIDEO_ELEMENT}))}else if(l)return void Z(t,n,r,a,s,o)}t.maxSupportedElements>-1&&Q(t.name)>=t.maxSupportedElements?Z(t,n,r,a,s,o):J(t,n,i,r,a,s,o)}},this),q=t.bind(function(t){if(e.requiresSingleVideoElement&&(t.technology===e.VIDEO.TECHNOLOGY.HTML5||t.technology===e.VIDEO.TECHNOLOGY.MIXED))for(var n in this.activeInstances)if((r[this.activeInstances[n].plugin].technology===e.VIDEO.TECHNOLOGY.HTML5||r[this.activeInstances[n].plugin].technology===e.VIDEO.TECHNOLOGY.MIXED)&&this.activeInstances[n].element)return!0;return!1},this),z=t.bind(function(n,i){var a=t.contains(r[this.activeInstances[n].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE),s=t.contains(i.features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_TAKE),o=r[this.activeInstances[n].plugin].technology===i.technology,l=i.technology!==e.VIDEO.TECHNOLOGY.MIXED;return a&&s&&o&&l},this),X=t.bind(function(n){var i=null;for(var a in this.activeInstances)if(r[this.activeInstances[a].plugin].technology===n&&this.activeInstances[a].element){if(t.contains(r[this.activeInstances[a].plugin].features,e.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE))return a;i=a}return i},this),$=t.bind(function(e,t,n,r,a,s,l,u){if(e&&t){i("For video '"+t+"', sharing element with video '"+u+"'"),this.activeInstances[u].element.sharedObjectToInstance=t;var c=new g({plugin:e,parentContainer:s,sharedObjectToInstance:u,isControllingObject:!1});E.push(c);var d=new o(this,t,e);this.activeInstances[t]?this.activeInstances[t].element=c:this.activeInstances[t]=new A({plugin:e,parentContainer:s,element:c,encoding:n,stream:r,isLive:a,vtcInterface:d,isControllingElement:!0,params:l}),l&&(Gt(t,l.closedCaptions),Rt(t,l.crossorigin),d.authenticationData=l.authenticationData);var h=this.activeInstances[u].element.domId,p=Ut(h);c.wrapper=e.createFromExisting(p,d,this.elementId),Ht(t,n,r,a),Yt(t,r.contentMetadata)}},this),Q=t.bind(function(e){for(var t=0,n=0;n<E.length;n++)E[n].plugin===e&&t++;return t},this),Z=t.bind(function(e,t,n,r,a,s){if(e&&t){for(var l=null,u=0;u<E.length;u++)if(E[u].plugin===e.name){l=E[u];break}if(l){i("For video '"+t+"', sharing existing element with index "+u);var c=new o(this,t,e);this.activeInstances[t]?this.activeInstances[t].element=l:this.activeInstances[t]=new A({plugin:e,parentContainer:l.parentContainer,element:l,encoding:n,stream:r,isLive:a,vtcInterface:c,params:s}),s&&(Gt(t,s.closedCaptions),Rt(t,s.crossorigin),c.authenticationData=s.authenticationData),Yt(t,r.contentMetadata)}}},this),J=t.bind(function(e,t,n,i,r,a,s){if(e&&t){var l=new g({plugin:e,parentContainer:n});E.push(l);var u=new o(this,t,e);this.activeInstances[t]?this.activeInstances[t].element=l:this.activeInstances[t]=new A({plugin:e,parentContainer:l.parentContainer,element:l,encoding:i,stream:r,isLive:a,vtcInterface:u,isControllingElement:!0,params:s}),s&&(Gt(t,s.closedCaptions),Rt(t,s.crossorigin),u.authenticationData=s.authenticationData),l.wrapper=e.create(l.parentContainer,l.domId,u,C,this.elementId),Ht(t,i,r,a),Yt(t,r.contentMetadata)}},this),et=t.bind(function(t,n){"number"==typeof y&&c.publish(e.EVENTS.CHANGE_VOLUME,y,n.videoId),Ot(n.videoId)},this),tt=t.bind(function(n,i){if(i){this.focusVideoId===i&&at(i),Vt(i);var r=this.activeInstances[i].element;delete this.activeInstances[i],r&&!nt(r)&&(It(r,"destroy",[]),E=t.without(E,r),r=null),c.publish(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,i)}},this),nt=t.bind(function(e){if(!e)return!1;for(var t in this.activeInstances)if(this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].element===e)return!0;return!1},this),it=t.bind(function(t,n){e.isIos&&n&&n.duration>0&&vt("","",{mode:m})},this),rt=t.bind(function(n,i){if(i&&this.focusVideoId===i)return void c.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,i);if(this.focusVideoId&&at(this.focusVideoId),this.focusVideoId=null,i&&this.activeInstances[i]){this.focusVideoId=i,Ft(i);var r={visibility:"visible"};e.isIos?r.display=e.CSS.VISIBLE_DISPLAY:r.left="0px",It(this.activeInstances[i].element,"applyCss",[r]),e.isIos?t.delay(function(){c.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,i)},1):c.publish(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,i),vt("",f,{mode:m})}},this),at=t.bind(function(t){if(t&&this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element){c.publish(e.EVENTS.VC_PAUSE,t,"transition"),this.focusVideoId=null;var n={visibility:"hidden"};e.isIos?n.display=e.CSS.INVISIBLE_DISPLAY:n.left="-100000px",It(this.activeInstances[t].element,"applyCss",[n]),It(this.activeInstances[t].element,"setClosedCaptionsMode",[e.CONSTANTS.CLOSED_CAPTIONS.DISABLED]),c.publish(e.EVENTS.VC_VIDEO_ELEMENT_LOST_FOCUS,t)}},this),st=t.bind(function(){this.activeInstances[this.focusVideoId]&&It(this.activeInstances[this.focusVideoId].element,"onAdsPlayed")},this),ot=t.bind(function(t,n,i,r){if(n&&this.activeInstances&&this.activeInstances[n]&&this.activeInstances[n].element){if(!i)return void Ht(n,"",{url:""},!1);var a=Y(i,this.activeInstances[n].element.supportedEncodings,G());return a?void Ht(n,a,i[a],r||this.activeInstances[n].isLive):void c.publish(e.EVENTS.VC_ERROR,n,{code:e.ERROR.VC.UNSUPPORTED_ENCODING})}},this),lt=t.bind(function(e,t){N&&Dt(t,"load",[!0])},this),ut=t.bind(function(e,t){Dt(t,"load",[!1])},this),ct=t.bind(function(e,t,n){this.activeInstances&&this.activeInstances[t]&&this.activeInstances[t].element&&It(this.activeInstances[t].element,"setInitialTime",[n])},this),dt=t.bind(function(){for(var e in this.activeInstances)Dt(e,"primeVideoElement",[])},this),ht=t.bind(function(){c.publish(e.EVENTS.VC_PLAY,this.focusVideoId)},this),Et=t.bind(function(e,t,n){this.activeInstances&&this.activeInstances[t]&&(n&&(this.activeInstances[t].stream?this.activeInstances[t].stream.url=n:this.activeInstances[t].stream={url:n}),Ft(t),this.activeInstances[t].stream&&this.activeInstances[t].stream.url&&(Ht(t,this.activeInstances[t].encoding,this.activeInstances[t].stream,this.activeInstances[t].isLive),this.activeInstances[t].playing=!0),It(this.activeInstances[t].element,"play",[]))},this),pt=t.bind(function(){c.publish(e.EVENTS.VC_PAUSE,this.focusVideoId)},this),ft=t.bind(function(e,t){Dt(t,"pause",[])},this),mt=t.bind(function(t,n,i){var r=i||this.focusVideoId;c.publish(e.EVENTS.VC_SEEK,r,n)},this),gt=t.bind(function(e,t,n){t&&this.activeInstances[t]&&this.activeInstances[t].element&&this.activeInstances[t].element.wrapper&&Dt(t,"seek",[n])},this),At=t.bind(function(e,t,n){if("number"!=typeof t||0>t||t>1)return void i("Can not assign volume with invalid value",t);if(y=t,n)Dt(n,"setVolume",[y]);else for(var r=0;r<E.length;r++)It(E[r],"setVolume",[y])},this),bt=t.bind(function(){Kt()},this),_t=t.bind(function(e,t){t&&this.activeInstances[t]&&(this.activeInstances[t].disableNativeSeek=!1,this.activeInstances[t].isControllingElement&&this.activeInstances[t].element&&this.activeInstances[t].element.isControllingObject&&this.activeInstances[t].element.wrapper&&(this.activeInstances[t].element.wrapper.disableNativeSeek=!1))},this),Tt=t.bind(function(e,t){t&&this.activeInstances[t]&&(this.activeInstances[t].disableNativeSeek=!0,this.activeInstances[t].isControllingElement&&this.activeInstances[t].element&&this.activeInstances[t].element.isControllingObject&&this.activeInstances[t].element.wrapper&&(this.activeInstances[t].element.wrapper.disableNativeSeek=!0))},this),vt=t.bind(function(t,n,i){var r=i||{};null==r.mode&&(r.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING),f=n,m=r.mode,this.focusVideoId&&r.mode==e.CONSTANTS.CLOSED_CAPTIONS.DISABLED?Dt(this.focusVideoId,"setClosedCaptionsMode",[r.mode]):this.activeInstances[this.focusVideoId]&&(r.mode==e.CONSTANTS.CLOSED_CAPTIONS.HIDDEN&&(e.isIphone||e.isIpad&&r.isFullScreen)&&(r.mode=e.CONSTANTS.CLOSED_CAPTIONS.SHOWING),Dt(this.focusVideoId,"setClosedCaptions",[n,this.activeInstances[this.focusVideoId].closedCaptions,r]))},this),yt=t.bind(function(n,i){this.focusVideoId&&t.contains(r[this.activeInstances[this.focusVideoId].plugin].features,e.VIDEO.FEATURE.BITRATE_CONTROL)&&Dt(this.focusVideoId,"setBitrate",[i])},this);this.onDestroy=function(){for(var t in this.activeInstances)tt(e.EVENTS.DESTROY,t)},this.notify=function(n,r,a,s){var o=s||{};switch(a){case this.EVENTS.PLAY:c.publish(e.EVENTS.VC_WILL_PLAY,n,o.url);break;case this.EVENTS.CAN_PLAY:c.publish(e.EVENTS.VC_CAN_PLAY,n);break;case this.EVENTS.PLAYING:c.publish(e.EVENTS.VC_PLAYING,n);break;case this.EVENTS.ENDED:this.activeInstances[n]&&(this.activeInstances[n].playing=!1),c.publish(e.EVENTS.VC_PLAYED,n);break;case this.EVENTS.ERROR:this.markReady(n),this.activeInstances[n]&&(this.activeInstances[n].playing=!1),jt(o.errorcode,n);break;case this.EVENTS.SEEKING:c.publish(e.EVENTS.VC_SEEKING,n);break;case this.EVENTS.SEEKED:if(this.activeInstances[n]){var l=It(this.activeInstances[n].element,"getCurrentTime");c.publish(e.EVENTS.VC_SEEKED,n,l)}break;case this.EVENTS.PAUSED:c.publish(e.EVENTS.VC_PAUSED,n);break;case this.EVENTS.TIME_UPDATE:if("number"!=typeof o.duration)return;if("number"!=typeof o.currentTime)return;var u;this.activeInstances[n].isLive&&(u=o.currentLiveTime),c.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,o.currentTime,o.duration,o.buffer,o.seekRange,n,u);break;case this.EVENTS.VOLUME_CHANGE:c.publish(e.EVENTS.VOLUME_CHANGED,o.volume,n);break;case this.EVENTS.BUFFERING:c.publish(e.EVENTS.BUFFERING,o.url,n);break;case this.EVENTS.BUFFERED:c.publish(e.EVENTS.BUFFERED,o.url,n);break;case this.EVENTS.DURATION_CHANGE:if("number"!=typeof o.duration)return;c.publish(e.EVENTS.PLAYHEAD_TIME_CHANGED,o.currentTime,o.duration,o.buffer,o.seekRange,n);break;case this.EVENTS.PROGRESS:c.publish(e.EVENTS.DOWNLOADING,o.currentTime,o.duration,o.buffer,o.seekRange,n);break;case this.EVENTS.WAITING:c.publish(e.EVENTS.BUFFERING,o.url,n);break;case this.EVENTS.FULLSCREEN_CHANGED:c.publish(e.EVENTS.FULLSCREEN_CHANGED,o.isFullScreen,o.paused,n),vt("",f,{mode:m,isFullScreen:o.isFullScreen});break;case this.EVENTS.CAPTIONS_FOUND_ON_PLAYING:if(this.activeInstances[n]&&s){Rt(n,"anonymous");var d={videoId:n,languages:[],locale:{}};this.activeInstances[n].closedCaptions&&this.activeInstances[n].closedCaptions.availableLanguages&&this.activeInstances[n].closedCaptions.locale&&(d.languages=this.activeInstances[n].closedCaptions.availableLanguages,d.locale=this.activeInstances[n].closedCaptions.locale),d.languages=t.union(d.languages,s.languages),d.locale=t.extend(d.locale,s.locale),c.publish(e.EVENTS.CLOSED_CAPTIONS_INFO_AVAILABLE,d)}break;case this.EVENTS.ASSET_DIMENSION:"number"==typeof o.width&&o.width>0&&"number"==typeof o.height&&o.height>0&&(t.extend(o,{videoId:n}),c.publish(e.EVENTS.ASSET_DIMENSION,o));break;case this.EVENTS.BITRATES_AVAILABLE:c.publish(e.EVENTS.BITRATE_INFO_AVAILABLE,{bitrates:s});break;case this.EVENTS.BITRATE_CHANGED:zt(s)?c.publish(e.EVENTS.BITRATE_CHANGED,s):i("Invalid bitrate object reported",s);break;case this.EVENTS.CLOSED_CAPTION_CUE_CHANGED:if("string"!=typeof s)return;c.publish(e.EVENTS.CLOSED_CAPTION_CUE_CHANGED,s);break;case this.EVENTS.METADATA_FOUND:s.type&&s.data&&c.publish(e.EVENTS.VC_TAG_FOUND,n,s.type,s.data)}},this.markNotReady=function(t){t&&this.activeInstances[t]&&!S&&(h.push(t),null===d&&(c.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.VC_READY,"vtc",St),d=setTimeout(Nt,u)))},this.markReady=function(n){(null!==d||0!==h.length)&&(h=n?t.without(h,n):[],0===h.length&&(null!==d&&(clearTimeout(d),d=null),c.publish(e.EVENTS.VC_READY)))};var St=function(e,t,n){return n},Nt=t.bind(function(){this.markReady()},this),It=function(e,n,i){if(e){var r=e.wrapper;if(r){try{if(t.isFunction(r[n]))return r[n].apply(r,i)}catch(a){console.warn("Video tech plugin",e&&e.plugin,"at function '"+n+"' threw exception - ",a)}return null}}},Dt=t.bind(function(e,t,n){return this.activeInstances[e]&&this.activeInstances[e].element&&this.activeInstances[e].isControllingElement?It(this.activeInstances[e].element,t,n):void 0},this),Rt=t.bind(function(e,t){this.activeInstances[e]&&(this.activeInstances[e].crossorigin=t,Ot(e))},this),Ot=t.bind(function(e){this.activeInstances[e]&&(this.activeInstances[e].crossorigin?Dt(e,"setCrossorigin",[this.activeInstances[e].crossorigin]):Dt(e,"setCrossorigin",[null]))},this),Ct=t.bind(function(e){var t=Lt(e);Ot(e),this.activeInstances[e].element.wrapper.controller=this.activeInstances[e].vtcInterface,Mt(this.activeInstances[e],t)},this),Lt=t.bind(function(e){var t=this.activeInstances[e];if(t.isControllingElement)return t;var n=null;for(var r in this.activeInstances)if(this.activeInstances[r]&&this.activeInstances[r].element&&this.activeInstances[r].element===t.element&&this.activeInstances[r].isControllingElement){n=this.activeInstances[r];break}return i("Switching element between instances.  From: '"+r+"', To: '"+e+"'"),t.isControllingElement=!0,n?(n.isControllingElement=!1,n):void 0},this),Vt=t.bind(function(e){var t=this.activeInstances[e];if(t.isControllingElement){var n=null;for(var i in this.activeInstances)if(this.activeInstances[i]&&this.activeInstances[i].element&&this.activeInstances[i].element===t.element&&!this.activeInstances[i].isControllingElement){n=this.activeInstances[i];break}t.isControllingElement=!1,n&&(n.isControllingElement=!0)}},this),Pt=t.bind(function(e){if(!this.activeInstances[e].element.isControllingObject){var t=this.activeInstances[e].element.sharedObjectToInstance;i("Switching wrapper between elements.  From: '"+t+"', To: '"+e+"'"),It(this.activeInstances[t].element,"sharedElementGive",[]),this.activeInstances[t].element.isControllingObject=!1,It(this.activeInstances[e].element,"sharedElementTake",[]),this.activeInstances[e].element.isControllingObject=!0,Mt(this.activeInstances[e],this.activeInstances[t])}},this),Mt=t.bind(function(n,i){if(i&&(i.playing===!0?(i.playhead=It(i.element,"getCurrentTime"),e.isIos&&0===i.playhead&&(i.playhead=this.currentPlayhead,this.currentPlayhead=0)):i.playhead=0),n.stream){var r=n.stream,a=n.encoding,s=n.isLive;Dt(n.element,"setPlatform",[n.params.platform,a]),It(n.element,"setVideoUrl",[r.url,a,s||!1]),n.playing=!1,r.drm&&!t.isEmpty(r.drm)&&Bt(a)&&It(n.element,"setDRM",[r.drm])}n.playhead>0&&It(n.element,"setInitialTime",[n.playhead]),n.element&&n.element.wrapper&&(n.element.wrapper.disableNativeSeek=n.disableNativeSeek)},this);this.disposeAnyElementKeepInstance=function(){var t=e.VIDEO.TECHNOLOGY.HTML5,n=wt(t);kt(n)};var wt=t.bind(function(t){var n=null;for(var i in this.activeInstances)if(this.activeInstances[i]&&this.activeInstances[i].element){var a=r[this.activeInstances[i].plugin].technology;if(a===t)return i;a===e.VIDEO.TECHNOLOGY.MIXED&&(n=i)}return n},this),kt=t.bind(function(e){if(e){this.activeInstances[e].playhead=this.activeInstances[e].playing===!0?It(this.activeInstances[e].element,"getCurrentTime"):0,this.focusVideoId===e&&at(e);for(var n in this.activeInstances)n!==e&&this.activeInstances[n]&&this.activeInstances[n].element&&this.activeInstances[n].element===this.activeInstances[e].element&&(this.activeInstances[n].isControllingElement=!0,this.activeInstances[n].element=null);this.activeInstances[e].element&&(It(this.activeInstances[e].element,"destroy",[]),E=t.without(E,this.activeInstances[e].element),this.activeInstances[n].isControllingElement=!0,this.activeInstances[e].element=null)}},this),xt=t.bind(function(e){var t=this.activeInstances[e].playhead;K(r[this.activeInstances[e].plugin],e,this.activeInstances[e].parentContainer,this.activeInstances[e].encoding,this.activeInstances[e].stream,this.activeInstances[e].isLive,this.activeInstances[e].params),et("recreate",{videoId:e}),t>0&&It(this.activeInstances[e].element,"setInitialTime",[t]),this.activeInstances[e].element&&this.activeInstances[e].element.wrapper&&(this.activeInstances[e].element.wrapper.disableNativeSeek=this.activeInstances[e].disableNativeSeek)},this),Ft=t.bind(function(e){this.activeInstances[e]&&!this.activeInstances[e].element&&xt(e),this.activeInstances[e].isControllingElement||Ct(e),Pt(e)},this),Ut=t.bind(function(e){var t=n("#"+e);if(t.length>0&&!t.is("video")){var i=t.find("video").attr("id");if(i)return i}return e},this),Ht=t.bind(function(e,n,i,r){return this.activeInstances[e]?(this.activeInstances[e].playhead=0,this.activeInstances[e].playing=!1,this.activeInstances[e].stream=i,this.activeInstances[e].encoding=n,i.drm&&!t.isEmpty(i.drm)&&Bt(n)&&Dt(e,"setDRM",[i.drm]),Dt(e,"setPlatform",[this.activeInstances[e].params.platform,n]),Dt(e,"setVideoUrl",[i.url,n,r||!1])):void 0},this),Bt=t.bind(function(t){for(var n in e.VIDEO.ENCODING.DRM)if(e.VIDEO.ENCODING.DRM[n]==t)return!0;return!1},this),Gt=t.bind(function(e,t){this.activeInstances[e]&&(this.activeInstances[e].closedCaptions=t)},this),Yt=t.bind(function(e,t){this.activeInstances[e]&&t&&Dt(e,"setSecureContent",[t])},this),jt=t.bind(function(t,n){return T?(Wt(),void c.publish(e.EVENTS.VC_PLAY_FAILED,n,JSON.stringify(t))):(e.d("Error not emitted: "+t),v.push(t),void c.publish(e.EVENTS.PAGE_PROBABLY_UNLOADING))},this),Wt=t.bind(function(){T=!0;var n="";t.each(v,function(t){c.publish(e.EVENTS.VC_PLAY_FAILED,n,JSON.stringify(t))}),v=[]},this),Kt=t.bind(function(){T=!1,clearTimeout(_),t.delay(t.bind(function(){_=t.delay(Wt,5e3)},this),1)},this),qt=function(){return Math.random().toString(36).substring(7)},zt=function(e){if(!e)return!1;var t=void 0!==e.id&&"string"==typeof e.id,n=void 0!==e.bitrate&&("number"==typeof e.bitrate||"string"==typeof e.bitrate),i=void 0!==e.height&&"number"==typeof e.height,r=void 0!==e.width&&"number"==typeof e.width;return t&&n&&i&&r},Xt=this,$t={getRegisteredPlugins:function(){return e.Video.getRegisteredPlugins()},getEncodingPriority:function(){return G()},getSupportedEncodings:function(){return B(this.getRegisteredPlugins())},getVideoInstances:function(){return Xt.activeInstances},getVideoElements:function(){return E}};L()};e.registerModule("videoController",function(e,t){return new l(e,t)})}(e,e._,e.$),function(e,t,n){var i=function(n,i){this.toString=function(){return"metadata-controller"},this.mb=n,this.id=i,this.metadataFetched=!1,this.metadata=null,this.mb.subscribe(e.EVENTS.METADATA_FETCHED,"metadata",t.bind(this.onMetadataFetched,this)),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"metadata",t.bind(this.onSetEmbedCode,this))};t.extend(i.prototype,{onMetadataFetched:function(e,t){this.metadataFetched=!0,this.metadata=t},onSetEmbedCode:function(i,r){this.metadataFetched=!1,this.metadata=null;var a={server:e.SERVER.API,embedCode:r};n.ajax({url:e.URLS.THUMBNAILS(a),type:"GET",dataType:"json",cache:!0,success:t.bind(this._thumbnailsFetched,this),error:t.bind(this._thumbnailsFailed.bind,this)})},_thumbnailsFetched:function(n){n&&n.data&&!t.isEmpty(n.data.thumbnails)&&this.mb.publish(e.EVENTS.THUMBNAILS_FETCHED,n)},_thumbnailsFailed:function(){this.metadataFetched&&this.onMetadataFetched("",this.metadata)}}),e.registerModule("metadataController",function(e,t){return new i(e,t)})}(e,e._,e.$),function(e,t,n){var i=function(t,n,i){this.mb=t,this.id=n,this.params=i||{},this.contentTree={},this.metadata={},this.sasResponse={},this.authToken=e.localStorage.getItem("oo_auth_token"),this._aborting=!1,this._contentAjax=null,this._metadataAjax=null,this._sasAjax=null,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Api",target:this,events:[{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Init"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"Init",to:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_CONTENT_TREE,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_METADATA,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AUTHORIZATION,from:"WaitingForAPIResponse"},{name:e.EVENTS.WILL_FETCH_AD_AUTHORIZATION,from:["WaitingForAPIResponse","Init"]},{name:e.EVENTS.PLAYBACK_READY,from:"WaitingForAPIResponse",to:"Init"}]})};t.extend(i.prototype,{onSetEmbedCode:function(t,n,i){this.rootEmbedCode=n,this.adSetCode=i?i.adSetCode:void 0,this.embedToken=i&&i.embedToken||this.embedToken,this.authToken=i&&i.authToken||this.authToken,this.mb.publish(e.EVENTS.EMBED_CODE_CHANGED,n,i)},onEmbedCodeChanged:function(n,i){this.currentEmbedCode=i,this._abort(this._contentAjax),this._abort(this._metadataAjax),this._abort(this._sasAjax);var r={embedCode:this.currentEmbedCode,pcode:e.playerParams.pcode||"unknown",playerBrandingId:e.playerParams.playerBrandingId||"unknown",params:{}};t.isEmpty(this.adSetCode)||t.extend(r.params,{adSetCode:this.adSetCode}),t.isEmpty(this.embedToken)||t.extend(r.params,{embedToken:this.embedToken});var a=t.extend({},r,{server:e.SERVER.API}),s=t.extend({},r,{server:e.SERVER.AUTH});this.mb.publish(e.EVENTS.WILL_FETCH_METADATA,a),e.requiredInEnvironment("html5-playback")&&(this.mb.publish(e.EVENTS.WILL_FETCH_PLAYER_XML,a),this.mb.publish(e.EVENTS.WILL_FETCH_CONTENT_TREE,a),this.mb.publish(e.EVENTS.WILL_FETCH_AUTHORIZATION,s))},onWillFetchContentTree:function(i,r){"undefined"!=typeof this.contentTree[this.currentEmbedCode]?this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode]):this._contentAjax=n.ajax({url:e.URLS.CONTENT_TREE(r)+"?"+n.param(r.params),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onContentTreeFetched,this),error:t.bind(this._onApiError,this)})},_onContentTreeFetched:function(n){var i=e.HM.safeObject("playbackControl.contentTree",n,{});this._contentAjax=null,i.errors&&0==i.errors.code&&t.each(i.content_tree,t.bind(function(e,t){this.contentTree[t]=i.content_tree[t]},this));var r=["Video","VideoAd","LiveStream","Channel","MultiChannel","Youtube"];if(this.contentTree[this.currentEmbedCode]){var a=i.content_tree[this.currentEmbedCode].hostedAtURL;(""==a||null==a)&&(i.content_tree[this.currentEmbedCode].hostedAtURL=document.URL);var s=r.indexOf(this.contentTree[this.currentEmbedCode].content_type)>=0;s?this.mb.publish(e.EVENTS.CONTENT_TREE_FETCHED,this.contentTree[this.currentEmbedCode],this.currentEmbedCode):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.CONTENT_TREE})}else this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.UNPLAYABLE_CONTENT})},onWillFetchMetadata:function(i,r){"undefined"!=typeof this.metadata[this.currentEmbedCode]?this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode]):this._metadataAjax=n.ajax({url:e.URLS.METADATA(r)+"&"+n.param(r.params),type:"GET",dataType:"json",crossDomain:!0,success:t.bind(this._onMetadataFetched,this),error:t.bind(this._onApiError,this)})},_onMetadataFetched:function(n){this.metadata=this.metadata||{};var i=e.HM.safeObject("api.metadata",n,{});this._metadataAjax=null,i.errors&&0==i.errors.code&&t.each(i.metadata,t.bind(function(e,n){this.metadata[n]=i.metadata[n],this.metadata[n].modules=this.metadata[n].modules||{},this.metadata[n].modules=t.extend(this.metadata[n].modules,this.params.modules||{})},this)),this.mb.publish(e.EVENTS.METADATA_FETCHED,this.metadata[this.currentEmbedCode]||{}),i.errors&&i.errors.player_movie_mismatch&&"undefined"!=typeof window.console&&"function"==typeof window.console.log&&console.log("WARNING: Player and movie providers do not match")},onWillFetchAuthorization:function(n,i){this.sasResponse[this.currentEmbedCode]&&0==this.sasResponse[this.currentEmbedCode].code?this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode]):this._sendSasRequest(i,t.bind(this._onAuthorizationFetched,this),t.bind(this._onApiError,this))},_onAuthorizationFetched:function(n){var i,r;this._sasAjax=null;var a=e.HM.safeObject("playbackControl.sasResponse",n,{});return a.auth_token?(e.setItem("oo_auth_token",a.auth_token),this.authToken=a.auth_token):(e.localStorage.removeItem("oo_auth_token"),this.authToken=null),t.each(a.authorization_data,t.bind(function(e,t){this.sasResponse[t]=a.authorization_data[t],a.debug_data&&(this.sasResponse[t].debug_data=a.debug_data),a.user_info&&(this.sasResponse[t].user_info=a.user_info),a.auth_token&&(this.sasResponse[t].auth_token=a.auth_token),a.heartbeat_data&&(this.sasResponse[t].heartbeat_data=a.heartbeat_data)},this)),i=this.sasResponse[this.currentEmbedCode].code,0==i?void this.mb.publish(e.EVENTS.AUTHORIZATION_FETCHED,this.sasResponse[this.currentEmbedCode]):t.isString(i)?(r=i.split(","),void(t.contains(r,"2")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DOMAIN}):t.contains(r,"3")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GEO}):t.contains(r,"4")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.FUTURE}):t.contains(r,"5")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PAST}):t.contains(r,"13")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.DEVICE}):t.contains(r,"18")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.CONCURRENT_STREAMS}):t.contains(r,"24")?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.PROXY}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC}))):void this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.SAS.GENERIC})},onWillFetchAdAuthorization:function(e,n){this._sendSasRequest(n,t.bind(this._onAdAuthorizationFetched,this))},_onAdAuthorizationFetched:function(n){var i=e.HM.safeObject("playbackControl.sasResponse",n,{}),r={};t.each(i.authorization_data,t.bind(function(e,t){r[t]=i.authorization_data[t]},this)),this.mb.publish(e.EVENTS.AD_AUTHORIZATION_FETCHED,r)},_sendSasRequest:function(t,i,r){var a=e.supportedVideoProfiles,s=e.device;n.extend(t.params,{device:s,domain:e.docDomain}),a&&n.extend(t.params,{profiles:a}),this.authToken&&n.extend(t.params,{auth_token:this.authToken}),this._sasAjax=n.ajax({url:e.URLS.SAS(t)+"?"+n.param(t.params),type:"GET",dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,success:i,error:r})},_abort:function(e){e&&(this._aborting=!0,e.abort(),this._aborting=!1)},_onApiError:function(t,n,i){this._aborting||(e.d(i,n,t),this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.API.NETWORK,xhrStatus:n}))},__placeholder:!0}),e.registerModule("api",function(e,t,n){return new i(e,t,n)})}(e,e._,e.$),e.plugin("Channels",function(e,t){var n=function(t,n){this.id=n,this.mb=t,this.channel_tree=null,this.channel_pos=-1,this.replay=!1,e.StateMachine.create({initial:"Init",messageBus:this.mb,moduleName:"Channels",target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"*"}]})};return t.extend(n.prototype,{onPlayerCreated:function(n,i,r){this.enableChannels=r.enableChannels||e.playerParams.enableChannels||!1,this.mb.intercept(e.EVENTS.CONTENT_TREE_FETCHED,"channels",t.bind(this._checkTreeForChannel,this))},_checkTreeForChannel:function(n,i){var r=["Channel","MultiChannel"];if(i&&(r.indexOf(i.content_type)>=0||i.lineup)){if(this.enableChannels){if(e.requiredInEnvironment("html5-playback")||e.requiredInEnvironment("cast-playback")){if(!i.children)return"Channel"==i.content_type?this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.EMPTY_CHANNEL}):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.EMPTY_CHANNEL_SET}),!1;this.channel_tree=i,this.channel_pos=0,this.mb.subscribe(e.EVENTS.PLAYED,"channels",t.bind(this.onPlayed,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"channels",t.bind(this.onPlaybackReady,this)),this.mb.publish(e.EVENTS.SET_EMBED_CODE,i.children[0].embed_code)}return!1}return this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.CHANNEL_CONTENT}),!1}return[i]},onPlayed:function(){this.channel_pos++,this.channel_tree.children[this.channel_pos]?this.mb.publish(e.EVENTS.SET_EMBED_CODE,this.channel_tree.children[this.channel_pos].embed_code):(this.channel_pos=0,this.mb.publish(e.EVENTS.SET_EMBED_CODE,this.channel_tree.children[0].embed_code))},onPlaybackReady:function(){this.channel_pos>0&&this.mb.publish(e.EVENTS.PLAY)}}),n}),e.plugin("ExternalId",function(e,t,n){var i=function(n,i){this.id=i,this.mb=n,this.mb.intercept(e.EVENTS.SET_EMBED_CODE,"ExternalId",t.bind(this._checkExternalId,this))};return t.extend(i.prototype,{_checkExternalId:function(t,n,i){var r=n.match("^extId:(.*)");return r&&r[1]?(this.externalId=r[1],this.options=i||{},this._fetchExternalId({externalId:this.externalId,pcode:e.playerParams.pcode||"1kNG061cgaoolOncv54OAO1ceO-I",server:e.SERVER.API}),!1):[n,i]},_fetchExternalId:function(i){this._contentAjax=n.ajax({url:e.URLS.EXTERNAL_ID(i),type:"GET",dataType:"json",crossDomain:!0,cache:!1,success:t.bind(this._onExternalIdFetched,this),error:t.bind(this._onExternalIdError,this)})},_onExternalIdFetched:function(n){var i=null,r=e.HM.safeObject("playbackControl.contentTree",n,{});r.errors&&0==r.errors.code&&t.each(r.content_tree,t.bind(function(e,t){e.external_id===this.externalId&&(i=t)},this)),t.extend(this.options,{originalId:this.externalId}),i?this.mb.publish(e.EVENTS.SET_EMBED_CODE,i,this.options):this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.INVALID_EXTERNAL_ID})},_onExternalIdError:function(){this.mb.publish(e.EVENTS.ERROR,{code:e.ERROR.INVALID_EXTERNAL_ID})}}),i}),function(e,t,n){var i=function(n,i){e.requiredInEnvironment("html5-playback")&&(this.mb=n,this.id=i,this.embedCode=null,this.authToken=null,this.heartbeatInterval=300,this.timer=null,this.retries=3,this.AUTH_HEARTBEAT_URL=t.template("<%=server%>/player_api/v1/auth_heartbeat/pcode/<%=pcode%>/auth_token/<%=authToken%>?embed_code=<%=embedCode%>"),this.mb.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"auth_heartbeat",t.bind(this._onEmbedCodeChanged,this)),this.mb.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"auth_heartbeat",t.bind(this._onAuthorizationFetched,this)))};t.extend(i.prototype,{_onEmbedCodeChanged:function(e,t){this.embedCode=t,this.timer&&clearInterval(this.timer),this.ajax&&(this.ajax.error=null,this.ajax.abort(),this.ajax=null),this.retries=3},_onAuthorizationFetched:function(e,n){n.heartbeat_data&&n.heartbeat_data.heartbeat_interval&&(this.heartbeatInterval=n.heartbeat_data.heartbeat_interval),n.auth_token&&(this.authToken=n.auth_token),n.require_heartbeat===!0&&(this.timer=setInterval(t.bind(this._onTimerTick,this),1e3*this.heartbeatInterval),this._onTimerTick())},_onTimerTick:function(){this.ajax=n.ajax({url:this.AUTH_HEARTBEAT_URL({server:e.SERVER.AUTH,pcode:e.playerParams.pcode||"unknown",authToken:this.authToken||"",embedCode:this.embedCode||""}),type:"GET",dataType:"json",crossDomain:!0,cache:!1,success:t.bind(this._onHeartbeatResponse,this),error:t.bind(this._onHeartbeatErrorResponse,this)})},_onHeartbeatResponse:function(t){this.ajax=null,t.message&&"OK"==t.message&&t.signature?!t.expires||t.expires<(new Date).getTime()/1e3?this._onHeartbeatError(e.ERROR.API.SAS.INVALID_HEARTBEAT):(this.retries=3,null!=t.auth_token&&(this.authToken=t.auth_token,e.setItem("oo_auth_token",t.auth_token))):this._onHeartbeatError(e.ERROR.API.SAS.INVALID_HEARTBEAT)
},_onHeartbeatErrorResponse:function(t){this.ajax=null,this._onHeartbeatError(t&&t.responseText&&t.responseText.indexOf("Invalid entitlements")>-1?e.ERROR.API.SAS.ERROR_INVALID_ENTITLEMENTS:e.ERROR.API.SAS.CONCURRENT_STREAMS)},_onHeartbeatError:function(t){return this.ajax=null,this.retries--,this.retries>0?void this._onTimerTick():(this.timer&&clearInterval(this.timer),void this.mb.publish(e.EVENTS.ERROR,{code:t}))}}),e.registerModule("auth_heartbeat",function(e,t){return new i(e,t)})}(e,e._,e.$),function(e,t,n){e.EVENTS.AMC_ALL_ADS_DONE="adManagerControllerAllAdsDone",e.EVENTS.AMC_PREROLLS_DONE="adManagerControllerPrerollsDone",e.EVENTS.AMC_ALL_READY="adManagerControllerAllReady",e.EVENTS.AD_POD_STARTED="adPodStarted",e.EVENTS.AD_POD_ENDED="adPodEnded",e.EVENTS.NONLINEAR_AD_PLAYED="nonlinearAdPlayed",e.EVENTS.HIDE_NONLINEAR_AD="hideNonlinearAd",e.EVENTS.SHOW_NONLINEAR_AD="showNonlinearAd",e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON="showNonlinearAdCloseButton",e.EVENTS.NONLINEAR_AD_DISPLAYED="nonlinearAdDisplayed",e.EVENTS.AD_MANAGER_HANDLED_ADS="adManagerHandledAds",e.EVENTS.SHOW_AD_SKIP_BUTTON="showAdSkipButton",e.EVENTS.SHOW_AD_CONTROLS="showAdControls",e.EVENTS.SHOW_AD_MARQUEE="showAdMarquee",e.EVENTS.ADS_CLICKTHROUGH_OPENED="adsClickthroughOpened";var i=3e3,r=25e3,a=5,s=8e3,o={},l={PAUSE_AD_ON_CLICK:"pauseAdOnClick",AD_MANAGER_LOAD_TIMEOUT:"adManagerLoadTimeout",AD_LOAD_TIMEOUT:"adLoadTimeout",DISPLAY_CUE_POINTS:"displayCuePointMarkers",REPLAY_ADS:"replayAds",SHOW_NONLINEAR_CLOSE_BUTTON:"showNonLinearCloseButton",SHOW_LINEAR_AD_SKIP_BUTTON:"showLinearAdSkipButton",LINEAR_AD_SKIP_BUTTON_START_TIME:"linearAdSkipButtonStartTime",ALLOW_AD_CLICK_THROUGH_ON_VIDEO:"allowAdClickThroughOnVideo"},u=[];e.Ads={manager:function(i){if("function"==typeof i){var r=i.apply({},[t,n]);e.Ads.validateAdManager(r)&&(e.log("AMC: Registering ad manager factory: "+r.name),o[r.name]=i)}},unregisterAdManager:function(t){e.log("AMC: Removing an ad manager factory: "+t),t&&o[t]&&(u.push(t),delete o[t])},validateAdManager:function(n){function i(t){e.log("AMC: "+t)}function r(e,r,a){return t.has(n,e)?typeof n[e]!=r?(i("The ad manager '"+a+"' property '"+e+"' should be type '"+r+"'"),!1):!0:(i("The ad manager '"+a+"' requires a '"+e+"' property"),!1)}function a(e,r){return t.isFunction(n[e])?!0:(i("The ad manager '"+r+"' requires a '"+e+"' function"),!1)}var s={name:"string",ready:"boolean"},l=["initialize","buildTimeline","playAd","cancelAd"];if(!n)return i(" The ad manager must be defined"),!1;if(!t.isObject(n))return i("The ad manager must be an object"),!1;for(var u in s)if(!r(u,s[u],n.name))return!1;for(var c=0;c<l.length;c++)if(!a(l[c],n.name))return!1;return o[n.name]?(i("The ad manager '"+n.name+"' has already been registered"),!1):!0},getUnregisteredAdManagers:function(){return u}},e.exposeStaticApi("Ads",e.Ads);var c=function(){for(var e=["EVENTS","ADTYPE","AD_CANCEL_CODE","AD_SETTINGS","MAX_AD_REQUEST_TIMEOUT","Ad","ui","platform","adManagerSettings","playerSettings","backlotSettings","pageSettings","currentEmbedCode","movieMetadata","startTime","movieDuration","isLiveStream"],n=["updateMainStreamUrl","playAd","addPlayerListener","removePlayerListener","loadAdModule","onAdManagerReady","removeAdManager","adsClicked","raiseAdError","appendToTimeline","showCompanion","forceAdToPlay","adManagerWillControlAds","adsClickthroughOpened","adManagerDoneControllingAds","notifyPodStarted","notifyPodEnded","notifyLinearAdStarted","notifyLinearAdEnded","notifyNonlinearAdStarted","notifyNonlinearAdEnded","hidePlayerUi","isLastAdPlayed","sendURLToLoadAndPlayNonLinearAd","showSkipVideoAdButton","focusAdVideo","getRegisteredAdManagers","unregisterAdManager"],i=t.union(e,n),r=0;r<i.length;r++)if(t.isFunction(p[i[r]]))this[i[r]]=t.bind(p[i[r]],p);else{var a=t.bind(function(e){return this[e]},p,i[r]);Object.defineProperty(this,i[r],{get:a})}},d=function(){this.requiredInEnvironment=e.requiredInEnvironment;for(var t=["platform","os","isIos","iosMajorVersion","isAndroid4Plus","isFirefox","isChrome","chromeMajorVersion","isIE","isIE11Plus","isMacOs","isMacOsLionOrLater","isKindleHD","isSSL","device","isIphone","isIpad","isAndroid","isRimDevice","isWinPhone","isSmartTV","DEV"],n=0;n<t.length;n++)this[t[n]]=e[t[n]]},h=function(n,i,r){var a=n,s=r;this.elementId=null,this.useSingleVideoElement=!1,this.rootElement=null,this.videoWrapper=null,this.playerSkinVideoWrapper=null,this.ooyalaVideoElement=null,this.adVideoElement=null,this.adWrapper=null,this.pluginsElement=null,this.playerSkinPluginsElement=null,this.height=null,this.width=null,this.uiParameters={},this.aliceUiParameters={};var o=null,u=t.bind(function(){this.useSingleVideoElement=e.requiresSingleVideoElement,a.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi",h),a.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi",f),a.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi",m),a.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi",g)},this);this.destroy=function(){p(),a.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amcUi"),a.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amcUi"),a.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_DISPOSED,"amcUi"),a.unsubscribe(e.EVENTS.EMBED_CODE_CHANGED,"amcUi")};var c=function(t){for(var n=t;document.getElementById(n);)n=t+"-"+e.getRandomString();return n};this.setupUiElements=function(){var e=this.uiParameters;this.videoWrapper=this.rootElement.find("."+e.videoWrapperClass),this.pluginsElement=this.videoWrapper.find("."+e.pluginsClass),this.pluginsElement.attr("id",c("ooyala-plugins-element")),this.videoWrapper.attr("id",c("ooyala-inner-wrapper"));var n=this.aliceUiParameters;t.isEmpty(n)||(this.playerSkinVideoWrapper=this.rootElement.find("."+n.videoWrapperClass),this.playerSkinPluginsElement=this.playerSkinVideoWrapper.find("."+n.pluginsClass),this.playerSkinPluginsElement.attr("id",c("ooyala-plugins-element")),this.playerSkinVideoWrapper.attr("id",c("ooyala-inner-wrapper"))),this.adWrapper=this.useSingleVideoElement?this.videoWrapper:this.pluginsElement},this.registerUi=function(){for(var e in s)s[e]&&E(s[e],"registerUi",[])},this.setupAndRegisterUi=function(){this.setupUiElements(),this.registerUi(),(e.isAndroid||e.isIos)&&d()};var d=t.bind(function(){e.log("AMC: Prepping player with a video element on load");var n={};n[e.VIDEO.ENCODING.MP4]="";var i=null,r=[];for(var a in s)if(s[a].videoRestrictions&&(s[a].videoRestrictions.technology&&(i=s[a].videoRestrictions.technology),s[a].videoRestrictions.features))for(var o in s[a].videoRestrictions.features)r.push(s[a].videoRestrictions.features[o]);r=t.uniq(r),this.createAdVideoElement(n,{technology:i,features:r})},this);this.createAdVideoElement=function(t,n){var i={};for(var r in t)i[r]={url:t[r]};a.publish(e.EVENTS.VC_CREATE_VIDEO_ELEMENT,e.VIDEO.ADS,i,this.pluginsElement,n)};var h=t.bind(function(t,n){if(n.videoId===e.VIDEO.MAIN){this.ooyalaVideoElement=n.videoElement;{n.streamUrl}this.useSingleVideoElement&&this.setupAndRegisterUi()}else n.videoId===e.VIDEO.ADS&&(this.adVideoElement=n.videoElement,this.adWrapper=n.parent)},this),p=t.bind(function(){this.adVideoElement&&a.publish(e.EVENTS.VC_DISPOSE_VIDEO_ELEMENT,e.VIDEO.ADS)},this),f=t.bind(function(t,n){n===e.VIDEO.ADS&&(this.adVideoElement=null)},this),m=t.bind(function(t,n){if(o=n,o===e.VIDEO.ADS)for(var i in s)s[i]&&E(s[i],"adVideoFocused",[])},this),g=t.bind(function(){p()},this);this.isAdInFocus=function(){return o===e.VIDEO.ADS},this.transitionToAd=function(){a.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.ADS)},this.transitionToMainContent=function(t,n){o!==e.VIDEO.MAIN&&a.publish(e.EVENTS.VC_FOCUS_VIDEO_ELEMENT,e.VIDEO.MAIN),t&&!n&&a.publish(e.EVENTS.VC_PLAY,e.VIDEO.MAIN)},this.shouldDisplayCuePointMarkers=function(){a.publish(e.EVENTS.SHOULD_DISPLAY_CUE_POINTS,i[l.DISPLAY_CUE_POINTS])},this.resetCuePoints=function(t,n){var i=t.map(function(e){return e.position>n?n:e.position},this);a.publish(e.EVENTS.RESET_CUE_POINTS,i)},u()};e.AdManagerController=function(u){var f="adManagerController",m=u,g=!1,A={},b=!1;this.adManagerSettings={},this.playerSettings={},this.backlotSettings=null,this.pageSettings=null;var _=null,T=null,v=null,y="";this.currentEmbedCode="",this.movieMetadata=null,this.startTime=-1,this.movieDuration=-1,this.isLiveStream=!1,this.liveStreamTimestamps={},this.timeMainVideoIdleMs=0;var S=-1,N=[],I=[],D=[],R=!1,O=0,C=0,L=!1,V=!1,P=0,M=!1,w=!1,k=!1;this.ended=!1,this.waitForPostrollToPlay=!0;var x={},F=!1,U=!1,H=!1,B=!1,G=!1,Y=!1,j=null,W=null;this.adStarted=!1;var K=!1,q=!1,z={},X={},$=!0,Q=null,Z=!1,J=!1;this.ui=null,this.platform=null,this.amcInterface=null,this.adManagers={},this.unregisteredAdManagers=[],this.MAX_AD_MODULE_LOAD_TIMEOUT=5e3,this.MAX_AD_REQUEST_TIMEOUT=s;var et="OO Main Video Count";this.testMode=!1,this.AD_SETTINGS=l,this.EVENTS={INITIAL_PLAY_REQUESTED:"initialPlayRequested",REPLAY_REQUESTED:"replayRequested",PLAY_STARTED:"playStarted",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",AD_PLAYHEAD_TIME_CHANGED:"adPlayheadTimeChanged",PAUSE:"pause",RESUME:"resume",CONTENT_COMPLETED:"contentCompleted",CONTENT_AND_ADS_COMPLETED:"contentAndAdsCompleted",SIZE_CHANGED:"sizeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",CONTENT_CHANGED:"contentChanged",FULLSCREEN_CHANGED:"fullscreenChanged",VOLUME_CHANGED:"volumeChanged",AD_VOLUME_CHANGED:"adVolumeChanged",MAIN_CONTENT_IN_FOCUS:"mainContentInFocus",VIDEO_TAG_FOUND:"videoTagFound",CONTENT_URL_CHANGED:"contentURLChanged",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed"};var tt={SEEKED:"seeked",CONTENT_VIDEO_PLAYED:"contentVideoPlayed"};this.ADTYPE={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion",AD_REQUEST:"adRequest",UNKNOWN_AD_REQUEST:"unknownAdRequest"},this.AD_CANCEL_CODE={SKIPPED:"skipped",TIMEOUT:"timeout",ERROR:"error",STREAM_ENDED:"streamEnded"},this.Ad=function(e){e||(e={}),this.id=t.uniqueId(e.adManager+"_"),this.position=e.position||0,this.duration=e.duration||0,this.adManager=e.adManager,this.ad=e.ad||{},this.adType=e.adType||p.ADTYPE.LINEAR_VIDEO,this.isLinear=this.adType===p.ADTYPE.LINEAR_VIDEO||this.adType===p.ADTYPE.LINEAR_OVERLAY,this.isRequest=this.adType===p.ADTYPE.AD_REQUEST||this.adType===p.ADTYPE.UNKNOWN_AD_REQUEST,this.streams=e.streams||{},this.played=!1,this.videoRestrictions=e.videoRestrictions};var nt=["Init","Ready","Playback","Reload","Overlay"],it=["LinearAd"];this.fsm=e.StateMachine.create({initial:"Init",messageBus:m,moduleName:f,target:this,events:[{name:e.EVENTS.PLAYER_CREATED,from:"Init",to:"Init"},{name:e.EVENTS.PLAY,from:it,to:"*"},{name:e.EVENTS.INITIAL_PLAY,from:"Ready",to:"Playback"},{name:e.EVENTS.SET_EMBED_CODE,from:"*",to:"Reload"},{name:e.EVENTS.EMBED_CODE_CHANGED,from:"*",to:"Ready"},{name:e.EVENTS.PLAYED,from:"*",to:"Ready"},{name:e.EVENTS.REPLAY,from:"*",to:"Playback"},{name:e.EVENTS.AMC_ALL_READY,from:"*",to:"Ready"},{name:e.EVENTS.WILL_PLAY_ADS,from:nt,to:"LinearAd"},{name:e.EVENTS.AD_POD_STARTED,from:"*",to:"LinearAd"},{name:e.EVENTS.WILL_PLAY_NONLINEAR_AD,from:"*",to:"*"},{name:e.EVENTS.PLAY_NONLINEAR_AD,from:"*",to:"Overlay"},{name:e.EVENTS.NONLINEAR_AD_PLAYED,from:"*",to:"Playback"},{name:e.EVENTS.ADS_PLAYED,from:"*",to:"Playback"}]});var rt=t.bind(function(){if(!b&&T&&_&&v){b=!0;for(var n=t.values(l),s=0;s<n.length;s++){var o=n[s];"undefined"!=typeof this.pageSettings[o]&&(this.adManagerSettings[o]=this.pageSettings[o])}for(var u={},c=t.keys(this.adManagers),s=0;s<c.length;s++){var d=c[s],h=this.adManagers[d];if(h){var p=e.getInnerProperty(this.backlotSettings,["modules",d,"metadata"])||{};p=t.extend(p,e.getInnerProperty(this.pageSettings,[d]));for(var f=0;f<n.length;f++)if(o=n[f],"undefined"!=typeof p[o]){if("google-ima-ads-manager"===d&&null!==this.adManagerSettings[o])return;this.adManagerSettings[o]=p[o]}u[d]={metadata:p,adManagerClass:h}}}this.adManagerSettings[l.PAUSE_AD_ON_CLICK]="undefined"==typeof this.adManagerSettings[l.PAUSE_AD_ON_CLICK]?!0:st(this.adManagerSettings[l.PAUSE_AD_ON_CLICK]),this.adManagerSettings[l.DISPLAY_CUE_POINTS]="undefined"==typeof this.adManagerSettings[l.DISPLAY_CUE_POINTS]?!0:st(this.adManagerSettings[l.DISPLAY_CUE_POINTS]),this.adManagerSettings[l.REPLAY_ADS]="undefined"==typeof this.adManagerSettings[l.REPLAY_ADS]?!0:st(this.adManagerSettings[l.REPLAY_ADS]),this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]="undefined"==typeof this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]?!1:st(this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]),this.adManagerSettings[l.SHOW_LINEAR_AD_SKIP_BUTTON]="undefined"==typeof this.adManagerSettings[l.SHOW_LINEAR_AD_SKIP_BUTTON]?!1:st(this.adManagerSettings[l.SHOW_LINEAR_AD_SKIP_BUTTON]),this.adManagerSettings[l.LINEAR_AD_SKIP_BUTTON_START_TIME]="undefined"==typeof this.adManagerSettings[l.LINEAR_AD_SKIP_BUTTON_START_TIME]?a:parseInt(this.adManagerSettings[l.LINEAR_AD_SKIP_BUTTON_START_TIME]),this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]="undefined"==typeof this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]?!0:st(this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]),this.adManagerSettings[l.AD_LOAD_TIMEOUT]=at(this.adManagerSettings[l.AD_LOAD_TIMEOUT])?1e3*this.adManagerSettings[l.AD_LOAD_TIMEOUT]:null,this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT]=at(this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT])?1e3*this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT]:null,at(this.adManagerSettings[l.AD_LOAD_TIMEOUT])&&(r=this.adManagerSettings[l.AD_LOAD_TIMEOUT]),at(this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT])&&(i=this.adManagerSettings[l.AD_MANAGER_LOAD_TIMEOUT]),this.testMode?ct():t.delay(t.bind(ct,this),i);var m=t.values(u);for(s=0;s<m.length;s++){var g=m[s];E(g.adManagerClass,"loadMetadata",[g.metadata,e.getInnerProperty(this.backlotSettings,["base"])||{},this.movieMetadata])}this.ui.shouldDisplayCuePointMarkers(),ut()}},this),at=t.bind(function(e){return t.isFinite(e)&&e>=0},this),st=t.bind(function(e){return e=e.toString().toLowerCase(),"true"===e||"yes"===e||"1"===e},this),ot=t.bind(function(t){if(t=t||!1,m.removeDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY),m.removeDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE),m.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE),m.removeDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS),x={},!t){var n=function(e,t,n){return n};m.addDependent(e.EVENTS.PLAYBACK_READY,e.EVENTS.AMC_ALL_READY,f,n),m.addDependent(e.EVENTS.WILL_PLAY_FROM_BEGINNING,e.EVENTS.AMC_PREROLLS_DONE,f,n),m.addDependent(e.EVENTS.PLAYED,e.EVENTS.AMC_ALL_ADS_DONE,f,n)}},this);this.onPlayerCreated=function(i,r,a){var s=t.bind(function(){Zt(),m.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))},this);for(var l in o){var u=o[l],p=u.apply({},[t,n]);e.log("AMC: Registering ad manager: "+p.name),this.adManagers[p.name]=p}if(!this.adManagers||t.isEmpty(this.adManagers))return void s();if(!e.supportAds||!e.requiredInEnvironment("ads")||e.requiredInEnvironment("flash-playback"))return void s();if(this.ui=new h(m,this.adManagerSettings,this.adManagers),this.platform=new d(m),this.amcInterface=new c(this),this.pageSettings=a,T=!0,a&&null!=a.initialTime&&(this.startTime=a.initialTime),this.ui.elementId=r,this.ui.rootElement=n("#"+r),!this.ui.rootElement)return s();this.ui.height=this.ui.rootElement.height(),this.ui.width=this.ui.rootElement.width(),ot(),m.intercept(e.EVENTS.DESTROY,f,t.bind(this.onDestroy,this));for(var g in this.adManagers)this.adManagers[g]&&E(this.adManagers[g],"initialize",[this.amcInterface,r]);m.subscribe(e.EVENTS.PLAYER_EMBEDDED,f,t.bind(this.onPlayerEmbedded,this)),m.subscribe(e.EVENTS.METADATA_FETCHED,f,t.bind(this.onMetadataFetched,this)),m.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,f,t.bind(this.onContentTreeFetched,this)),m.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,f,t.bind(this.onAuthorizationFetched,this)),m.subscribe(e.EVENTS.ASSET_CHANGED,f,t.bind(this.onAssetChanged,this)),m.subscribe(e.EVENTS.UI_READY,f,t.bind(this.onUiReady,this)),m.subscribe(e.EVENTS.PLAYBACK_READY,f,t.bind(this.onPlaybackReady,this)),m.subscribe(e.EVENTS.WILL_PLAY_FROM_BEGINNING,f,t.bind(this.onWillPlayFromBeginning,this)),m.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,f,t.bind(this.onPlayheadTimeChanged,this)),m.subscribe(e.EVENTS.PAUSE,f,t.bind(this.onPause,this)),m.subscribe(e.EVENTS.WILL_PLAY,f,t.bind(this.onWillPlay,this)),m.subscribe(e.EVENTS.PLAYING,f,t.bind(this.onPlaying,this)),m.subscribe(e.EVENTS.SEEK,f,t.bind(this.onSeek,this)),m.subscribe(e.EVENTS.SEEKED,f,t.bind(this.onSeeked,this)),m.subscribe(e.EVENTS.VC_PLAY,f,Mt),m.subscribe(e.EVENTS.VC_PAUSED,f,t.bind(this.onVideoPaused,this)),m.subscribe(e.EVENTS.VC_PLAYING,f,t.bind(this.onVideoPlaying,this)),m.subscribe(e.EVENTS.VC_PLAY_FAILED,f,t.bind(this.onVideoPlayFailed,this)),m.subscribe(e.EVENTS.VC_PLAYED,f,t.bind(this.onVideoPlayed,this)),m.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,f,t.bind(this.onVideoElementInFocus,this)),m.subscribe(e.EVENTS.FULLSCREEN_CHANGED,f,t.bind(this.onFullscreenChanged,this)),m.subscribe(e.EVENTS.SIZE_CHANGED,f,t.bind(this.onSizeChanged,this)),m.subscribe(e.EVENTS.VOLUME_CHANGED,f,t.bind(this.onVolumeChanged,this)),m.subscribe(e.EVENTS.CONTROLS_SHOWN,f,t.bind(this.onControlsShown,this)),m.subscribe(e.EVENTS.CONTROLS_HIDDEN,f,t.bind(this.onControlsHidden,this)),m.subscribe(e.EVENTS.ADS_CLICKED,f,t.bind(this.onAdsClicked,this)),m.subscribe(e.EVENTS.SKIP_AD,f,t.bind(this.onSkipAd,this)),m.subscribe(e.EVENTS.WILL_PAUSE_ADS,f,t.bind(this.onWillPauseAds,this)),m.subscribe(e.EVENTS.WILL_RESUME_ADS,f,t.bind(this.onWillResumeAds,this)),m.subscribe(e.EVENTS.AD_POD_ENDED,f,t.bind(this.onAdPodEnded,this)),m.subscribe(e.EVENTS.NONLINEAR_AD_DISPLAYED,f,t.bind(this.onNonlinearAdDisplayed,this)),m.subscribe(e.EVENTS.VC_TAG_FOUND,f,t.bind(this.onVideoTagFound,this)),m.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,f,t.bind(this.onVideoElementCreated,this)),rt()};var lt=t.bind(function(){G||t.isEmpty(this.ui.uiParameters)||(this.ui.setupAndRegisterUi(),G=!0)},this);this.onPlayerEmbedded=function(e,t){t&&(this.ui.uiParameters=t)},this.onUiReady=function(e,t){t&&(this.ui.aliceUiParameters=t),this.ui.useSingleVideoElement||lt()},this.onPlaybackReady=function(){this.ui.useSingleVideoElement||lt()},this.onMetadataFetched=function(e,t){this.backlotSettings=t,_=!0,rt()},this.onContentTreeFetched=function(e,t){this.movieMetadata=t,v=!0,t&&t.duration&&-1==this.movieDuration&&(this.movieDuration=t.duration/1e3),rt()},this.onAuthorizationFetched=function(e,t){this.isLiveStream=!1,t&&t.streams&&t.streams[0]&&(this.isLiveStream=t.streams[0].is_live_stream||!1)},this.onAssetChanged=function(e,t,n){for(var i in this.adManagers)this.adManagers[i].ready=!1;t.id!=this.currentEmbedCode&&(y=this.currentEmbedCode),this.currentEmbedCode=t.id,""!=y&&y!=this.currentEmbedCode&&(Vt(this.EVENTS.CONTENT_CHANGED),Ut()),this.pageSettings=n,this.backlotSettings={},_=!0,this.movieMetadata=t.content,v=!0,t.content&&t.content.duration&&-1==this.movieDuration&&(this.movieDuration=t.content.duration/1e3),this.isLiveStream=!1,t.content&&t.content.streams&&t.content.streams[0]&&(this.isLiveStream=t.content.streams[0].is_live_stream||!1),rt()},this.loadAdModule=function(n,i,r){t.defer(function(n,i,r,a){e.loadScriptOnce(r,t.bind(function(){a(!0),n.onAdManagerReady()},n,i,a),t.bind(function(){a(!1),n.removeAdManager(i)},n,i,a),n.MAX_AD_MODULE_LOAD_TIMEOUT)},this,n,i,r)},this.onAdManagerReady=function(){ut()},this.removeAdManager=function(t){e.log("AMC: removing failed ad manager "+t),this.unregisterAdManager(t),ut()};var ut=t.bind(function(){if(!g){for(var t in this.adManagers)if(!this.adManagers[t].ready)return;g=!0,dt(),m.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers))}},this),ct=t.bind(function(){if(!g){for(var t in this.adManagers)this.adManagers[t].ready||this.removeAdManager(t);g||(g=!0,dt(),m.publish(e.EVENTS.AMC_ALL_READY,Object.keys(this.adManagers)))}},this);this.onAdManagerControllerAllReady=function(){return!o||t.isEmpty(o)?(e.log("AMC: No ad manager factories, destroying AMC"),void Zt()):void(H=!1)};var dt=t.bind(function(){for(var e in this.adManagers){var n=this.adManagers[e];if(n){var i=E(n,"buildTimeline",[]);t.isArray(i)&&(N=t.union(N,i),ht(N))}}N=pt(N),this.ui.resetCuePoints(N,this.movieDuration)},this),ht=t.bind(function(e){t.each(e,function(e){St(e)&&(e.ad.lastPlayed=e.position,e.ad.playTimes={},I.push(e))},this)},this);this.appendToTimeline=function(e){t.isArray(e)&&(N=N.concat(e),N=pt(N),ht(e))};var Et=t.bind(function(e){D.push(e),D=pt(D)},this),pt=function(t){var n=t;return!e._.isArray(n)||!n.length||n.length<1?[]:(n.sort(function(t,n){return t&&e._.isObject(t)&&void 0!=t.position?n&&e._.isObject(n)&&void 0!=n.position?t.position<n.position?-1:t.position===n.position?t.isRequest?-1:n.isRequest?1:t.isLinear?n.isLinear?0:-1:1:1:-1:1}),n)};this.showCompanion=function(t){m.publish(e.EVENTS.WILL_SHOW_COMPANION_ADS,{ads:t})},this.hideCompanion=function(){},this.adManagerWillControlAds=function(t){x[t]||(n.isEmptyObject(x)&&m.addDependent(e.EVENTS.PLAYED,e.EVENTS.AD_MANAGER_HANDLED_ADS,f,function(){}),x[t]=!0)},this.forceAdToPlay=function(e,t,n,i,r){var a={adManager:e,adType:n,ad:t,streams:i,duration:r,position:-1},s=new this.Ad(a);Et(s),ht([s]),J||ft(S,!1)},this.adManagerDoneControllingAds=function(t){x[t]&&(delete x[t],n.isEmptyObject(x)&&m.publish(e.EVENTS.AD_MANAGER_HANDLED_ADS))},this.isAdManagerControllingAds=function(e){return e?!!x[e]:n.isEmptyObject(x)};var ft=t.bind(function(t,i,r){if(N&&!Z){O||(O=this.movieDuration-e.CONSTANTS.SEEK_TO_END_LIMIT);var a=At(t,i,r);return D.length>0?void(n.inArray(this.currentState,it)>=0?bt():Bt({type:D[0].adManager,duration:a})):void(this.tryAdsCompleted()||w||(m.publish(e.EVENTS.AMC_PREROLLS_DONE),B=!0))}},this),mt=t.bind(function(e,n,i){var r=[];i!==tt.SEEKED?t.each(I,function(t){var r=t.ad.lastPlayed+t.ad.repeatAfter;if(e>=r&&e<this.movieDuration||!n&&i===tt.CONTENT_VIDEO_PLAYED){if(this.startTime>=0){var a,s=t.ad.repeatAfter;a=e>t.position?Math.floor((e-t.position)/s)*s+t.position:t.position,t.ad.lastPlayed=a}else t.ad.lastPlayed=r;n||gt(t,t.ad.lastPlayed)||D.push(t)}},this):t.each(I,function(t){var n=t.ad.repeatAfter,i=Tt();i&&i===t&&(t.ad.firstPlay=!0);var a;if(a=e>t.position?Math.floor((e-t.position)/n)*n+t.position:t.position,i)i&&e>=a&&(t.ad.lastPlayed=a);else{var s=t.ad.lastPlayed+n;e>=s&&O>e&&!gt(t,a)&&r.push(t),t.ad.lastPlayed=a}},this),D=D.concat(r)},this),gt=t.bind(function(e,t){var n=!1;return e&&t in e.ad.playTimes&&(n=e.ad.playTimes[t]),n},this),At=t.bind(function(e,n,i){if(void 0!=N&&0!=N.length){var r=0;for(n&&(D=[]);N[C]&&N[C].position>e&&C>0;)C--;for(var a=C;N[a]&&a<N.length-1&&1==N[a].played;)a++;for(;N[a]&&N[a].position<=e;)C=a,n&&D.length>0&&N[a].position!=D[D.length-1].position&&(D=[],r=0),N[a].played||R&&N[a].position<P?a++:t.indexOf(D,N[a])>=0?a++:(D.push(N[a]),N[a].isLinear&&(r+=N[a].duration),a++);return D.length>0?mt(e,!0,i):(mt(e,!1,i),t.each(D,function(e){e.isLinear&&(r+=e.duration)},this)),D=pt(D),r}},this);this.getTimeline=function(){return N},this.getRepeatAds=function(){return t.clone(I)},this.getAdQueue=function(){return D},this.getCurrentPlayhead=t.bind(function(){return S},this),this.getAdManagerLoadTimeout=function(){return i},this.getAdLoadTimeout=function(){return r},this.isLastAdPlayed=function(){return 0==N.length||N[N.length-1].played},this.sendURLToLoadAndPlayNonLinearAd=function(t,n,i){m.publish(e.EVENTS.PLAY_NONLINEAR_AD,{ad:t,url:i}),this.notifyNonlinearAdStarted(n),i&&this.adManagerSettings[l.SHOW_NONLINEAR_CLOSE_BUTTON]&&m.publish(e.EVENTS.SHOW_NONLINEAR_AD_CLOSE_BUTTON)},this.showSkipVideoAdButton=function(e,t){"boolean"==typeof e&&($=e,t&&(Q=t))};var bt=t.bind(function(){var t=Gt(),n=V||!w&&S>0||this.startTime>=this.movieDuration;if((this.startTime>=this.movieDuration||this.ended)&&(S=Number.MAX_VALUE),At(S,n),D.length<=0||D[0]&&!D[0].isRequest&&D[0].isLinear!==t)return void(t&&m.publish(e.EVENTS.ADS_PLAYED));var i=D.shift();this.playAd(i)},this),_t=t.bind(function(){I=[]},this),Tt=function(){return D.length>0?D[0]:null},vt=t.bind(function(t){q=!0,j&&this.adManagers[j.adManager]&&(yt(j,t),m.publish(e.EVENTS.ADS_PLAYED))},this),yt=t.bind(function(e,t){e&&this.adManagers[e.adManager]&&E(this.adManagers[e.adManager],"cancelAd",[e,t])},this);this.updateMainStreamUrl=function(t){m.publish(e.EVENTS.VC_UPDATE_ELEMENT_STREAM,e.VIDEO.MAIN,t)},this.playAd=function(n){if(n&&n.ad){q=!1,j=n,j.played=!0;var i=t.bind(function(t,n,i){e.log("AMC: Cancelling an ad due to timeout "+i),yt(n,{code:this.AD_CANCEL_CODE.TIMEOUT}),t.publish(e.EVENTS.SINGLE_AD_PLAYED,i),t.publish(e.EVENTS.AD_POD_ENDED,i)},this,m,n,n.id);if(!qt(n.ad.first_shown,n.ad.frequency))return void i();if(t.isFinite(n.duration)&&n.duration>0&&(this.timeMainVideoIdleMs+=1e3*n.duration),St(n)){var a;n.ad.firstPlay?(a=n.position,n.ad.firstPlay=!1):a=n.ad.lastPlayed,n.ad.playTimes[a]=!0}if(n.isLinear||n.isRequest)if(e.log("AMC: Will play a linear ad for time: "+n.position+" at playhead "+S),Nt(n,i,r),n.adManager&&this.adManagers[n.adManager]){var s=this.adManagers[n.adManager].videoRestrictions?this.adManagers[n.adManager].videoRestrictions:{};n.videoRestrictions&&(s=n.videoRestrictions);var o=this.pageSettings?this.pageSettings.platform:null;s&&o&&(s.platform=o),n.adType===this.ADTYPE.UNKNOWN_AD_REQUEST?(m.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",Dt),m.subscribe(e.EVENTS.VC_ERROR,"amc",t.bind(Ct,this,n.id)),this.ui.createAdVideoElement(n.streams,s)):n.adType!==this.ADTYPE.LINEAR_VIDEO||n.ad&&n.ad.ssai?(n.ad.ssai&&m.publish(e.EVENTS.SHOW_AD_CONTROLS,!1),E(this.adManagers[n.adManager],"playAd",[n])):(m.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc",It),m.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc",t.bind(Dt,this,n)),m.subscribe(e.EVENTS.VC_ERROR,"amc",t.bind(Ct,this,n.id)),this.ui.createAdVideoElement(n.streams,s))}else this.notifyPodEnded(n.id);else Y=!0,j=n,W=j,m.publish(e.EVENTS.WILL_PLAY_NONLINEAR_AD,n)}};var St=t.bind(function(e){return e&&e.ad?e.ad.repeatAfter:null},this),Nt=t.bind(function(e,n,i){e&&"function"==typeof n&&!this.isAdManagerControllingAds(e.adManager)&&(z[e.id]=t.delay(n,i))},this),It=t.bind(function(t,n){n&&n.videoId===e.VIDEO.ADS&&(m.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),this.focusAdVideo())},this);this.focusAdVideo=function(){this.ui.transitionToAd()};var Dt=t.bind(function(){m.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),m.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc"),m.unsubscribe(e.EVENTS.VC_ERROR,"amc"),E(this.adManagers[j.adManager],"playAd",[j]),j.adType===this.ADTYPE.LINEAR_VIDEO&&m.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS)},this),Rt=t.bind(function(e){Ot(e),this.adStarted=!0},this),Ot=t.bind(function(e){z&&z[e]&&(clearTimeout(z[e]),delete z[e])},this),Ct=t.bind(function(t,n,i,r){i===e.VIDEO.ADS&&(m.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"amc"),m.unsubscribe(e.EVENTS.VC_VIDEO_ELEMENT_IN_FOCUS,"amc"),m.unsubscribe(e.EVENTS.VC_ERROR,"amc"),j&&j.isLinear&&this.adManagers[j.adManager]&&E(this.adManagers[j.adManager],"adVideoError",[j,r]),this.notifyPodEnded(t))},this);this.notifyPodStarted=function(t,n){e.log("AMC: Start ad pod "+t),Ot(t),m.publish(e.EVENTS.AD_POD_STARTED,n)},this.notifyPodEnded=function(t){e.log("AMC: End ad pod "+t),J=!0,Ot(t),Lt(),m.publish(e.EVENTS.AD_POD_ENDED,t)},this.notifyNonlinearAdStarted=function(t){e.log("AMC: Start of non-linear ad "+t),Rt(t)},this.notifyNonlinearAdEnded=function(t){W=null,e.log("AMC: End of non-linear ad "+t),Lt(),m.publish(e.EVENTS.NONLINEAR_AD_PLAYED,t)},this.notifyLinearAdStarted=function(t,n){e.log("AMC: Start of linear ad "+t),Z=!0,m.publish(e.EVENTS.WILL_PLAY_SINGLE_AD,n),Rt(t)},this.notifyLinearAdEnded=function(t){e.log("AMC: End of linear ad "+t),Z=!1,clearTimeout(X),m.publish(e.EVENTS.SINGLE_AD_PLAYED,t)},this.hidePlayerUi=function(n,i){n=t.isBoolean(n)?n:!1,i=t.isBoolean(i)?i:!1,m.publish(e.EVENTS.SHOW_AD_CONTROLS,n),m.publish(e.EVENTS.SHOW_AD_MARQUEE,i)};var Lt=t.bind(function(){m.publish(e.EVENTS.SHOW_AD_CONTROLS,!0),m.publish(e.EVENTS.SHOW_AD_MARQUEE,!0)},this);this.raiseAdError=function(t){m.publish(e.EVENTS.ADS_ERROR,t)},this.addPlayerListener=function(e,n){t.indexOf(t.values(this.EVENTS),e)<0||(null==A[e]&&(A[e]=[]),t.isFunction(n)&&A[e].push(n))},this.removePlayerListener=function(e,t){var n=A[e];if(n){var i=n.indexOf(t);i>=0&&n.splice(i,1),n.length<=0&&delete A[e]}};var Vt=t.bind(function(e){if(A[e]&&t.isArray(A[e]))for(var n=0;n<A[e].length;n++)A[e][n].apply(this,arguments)},this);this.onPlay=function(){n.inArray(this.currentState,it)<0||!this.adStarted||m.publish(e.EVENTS.WILL_RESUME_ADS)},this.onInitialPlay=function(t,n){this.startTime<=0&&(S=0,this.startTime=0),zt(),this.isLiveStream&&(this.liveStreamTimestamps.initialPlay={ms:n,delayUsed:!1}),e.isAndroid&&e.isChrome&&m.publish(e.EVENTS.VC_RELOAD,e.VIDEO.MAIN),Vt(this.EVENTS.INITIAL_PLAY_REQUESTED),S=this.startTime,ft(S,S>0)},this.onReplay=function(){this.startTime=0,S=0,B=!1,zt(),$t(),Xt(),ot(),_t(),Vt(this.EVENTS.REPLAY_REQUESTED),this.adManagerSettings[l.REPLAY_ADS]?(N=[],dt()):t.each(N,t.bind(function(e){e.played=!0},this)),ft(0,!1)},this.onWillPlayFromBeginning=function(){w||n.inArray(this.currentState,it)>=0||(y=this.currentEmbedCode)},this.onSetEmbedCode=function(e,n,i){i&&(this.pageSettings=t.extend(this.pageSettings,i))},this.onEmbedCodeChanged=function(e,t){for(var n in this.adManagers)this.adManagers[n].ready=!1;t!=this.currentEmbedCode&&(y=this.currentEmbedCode),this.currentEmbedCode=t,""!=y&&y!=this.currentEmbedCode&&(Vt(this.EVENTS.CONTENT_CHANGED),Ut())},this.onPlayheadTimeChanged=function(n,i,r,a,s,o){var u=null;if(this.isLiveStream?(u=i,i=Kt(),this.movieDuration=Number.MAX_VALUE):this.movieDuration=r,o===e.VIDEO.MAIN){if(!w||this.ended)return;if(S=i,M||V||L)return;if(!F&&S>this.startTime&&(e.log("Reached start time at playhead: "+S+" for start time: "+this.startTime),F=!0),-1==this.startTime)return void(this.startTime=S);var c=Gt();if(c)return;F&&ft(S,!0),Vt(this.EVENTS.PLAYHEAD_TIME_CHANGED,i,r,u)}else if(o===e.VIDEO.ADS){var d={};d[l.SHOW_LINEAR_AD_SKIP_BUTTON]=$;var h=Pt(l.SHOW_LINEAR_AD_SKIP_BUTTON,[this.pageSettings,d,this.adManagerSettings]);if("undefined"!=typeof h&&(h=st(h)),h){var E;Q&&(E=Q.indexOf("%")===Q.length-1?parseInt(Q)/100*j.duration:parseInt(Q)),d[l.LINEAR_AD_SKIP_BUTTON_START_TIME]=E;var p=Pt(l.LINEAR_AD_SKIP_BUTTON_START_TIME,[this.pageSettings,d,this.adManagerSettings]);t.isNumber(p)&&p>=0&&i>=p&&m.publish(e.EVENTS.SHOW_AD_SKIP_BUTTON)}Vt(this.EVENTS.AD_PLAYHEAD_TIME_CHANGED,i,r,u)}};var Pt=t.bind(function(e,t){for(var n,i,r=0;r<t.length&&(n=t[r],i=n[e],"undefined"==typeof i);r++);return i},this);this.onPause=function(){if(n.inArray(this.currentState,it)>=0&&this.adStarted)return void(j&&this.adManagers[j.adManager]&&m.publish(e.EVENTS.WILL_PAUSE_ADS));if(M=!0,Y){var t="pauseOverlayTimer";Vt(t)}w&&Vt(this.EVENTS.PAUSE)},this.onVideoPaused=function(){this.liveStreamTimestamps&&(this.liveStreamTimestamps.paused={ms:Date.now(),delayUsed:!1})},this.onWillPauseAds=function(){j&&this.adManagers[j.adManager]&&(E(this.adManagers[j.adManager],"pauseAd",[j]),m.publish(e.EVENTS.VC_PAUSE,e.VIDEO.ADS),K=!0)},this.onWillResumeAds=function(){j&&this.adManagers[j.adManager]&&(E(this.adManagers[j.adManager],"resumeAd",[j]),m.publish(e.EVENTS.VC_PLAY,e.VIDEO.ADS),K=!1)},this.onWillPlay=function(e,t){w||Vt(this.EVENTS.PLAY_STARTED),M&&k&&Vt(this.EVENTS.RESUME,t),k&&(w=!0),M&&(M=!1,V&&Ft())};var Mt=t.bind(function(t,n){n==e.VIDEO.MAIN&&(k=!0)},this);this.onPlaying=function(){L=!1,w=!0},this.onVideoPlayed=function(t,n){n===e.VIDEO.MAIN?wt(t,n):n===e.VIDEO.ADS&&j&&j.isLinear&&this.adManagers[j.adManager]&&E(this.adManagers[j.adManager],"adVideoEnded")},this.onVideoElementInFocus=function(t,n){n===e.VIDEO.MAIN&&(Lt(),Vt(this.EVENTS.MAIN_CONTENT_IN_FOCUS))};var wt=t.bind(function(t,n){n===e.VIDEO.MAIN&&(Y&&Ht(),this.ended=!0,W=null,Y=!1,this.waitForPostrollToPlay=!1,Vt(this.EVENTS.CONTENT_COMPLETED),ft(Number.MAX_VALUE,!1,tt.CONTENT_VIDEO_PLAYED))},this);this.onPlayed=function(){w=!1,k=!1,y=this.currentEmbedCode
},this.onSeek=function(e,t){return n.inArray(this.currentState,it)>=0?void(j&&j.adManager&&E(this.adManagers[j.adManager],"seekAd")):(F||t==this.startTime||(F=!0),R=t>=O,P=t,S=t,void(L=!0))},this.onSeeked=function(e,t){"number"==typeof t&&(S=t),L=!1,xt()},this.onVideoPlaying=function(t,n){Wt(),n===e.VIDEO.ADS&&j&&E(this.adManagers[j.adManager],"adVideoPlaying")},this.onVideoPlayFailed=function(t,n,i){n===e.VIDEO.ADS?j&&j.isLinear&&this.adManagers[j.adManager]&&E(this.adManagers[j.adManager],"adVideoError",[j,i]):n===e.VIDEO.MAIN&&Qt()};var kt=t.bind(function(){V=!1,L=!1},this),xt=t.bind(function(){w&&(L=!1,V=!0,M||Ft())},this),Ft=t.bind(function(){kt(),F&&ft(S,!0,tt.SEEKED)},this),Ut=t.bind(function(){vt({code:this.AD_CANCEL_CODE.STREAM_ENDED}),Qt(),H=!0},this);this.onFullscreenChanged=function(e,t){t!==U&&(Vt(this.EVENTS.FULLSCREEN_CHANGED,t),U=t)},this.onSizeChanged=function(e,t,n){0>t||0>n||(this.ui.height=n,this.ui.width=t,Vt(this.EVENTS.SIZE_CHANGED,t,n))},this.onControlsShown=function(){Vt(this.EVENTS.CONTROLS_SHOWN)},this.onControlsHidden=function(){Vt(this.EVENTS.CONTROLS_HIDDEN)},this.onVolumeChanged=function(t,n,i){Vt(this.EVENTS.VOLUME_CHANGED,n),i===e.VIDEO.ADS&&Vt(this.EVENTS.AD_VOLUME_CHANGED,n)},this.adsClicked=function(t){if(j)if(!K||t&&"learnMoreButton"==t.source){if(this.adManagerSettings[l.PAUSE_AD_ON_CLICK]&&(j&&!j.isLinear?m.publish(e.EVENTS.PAUSE):this.onPause()),j.isLinear&&!this.adManagerSettings[l.ALLOW_AD_CLICK_THROUGH_ON_VIDEO]&&t&&"videoWindow"==t.source)return;this.adManagers[j.adManager]&&E(this.adManagers[j.adManager],"playerClicked",[j,!0])}else m.publish(e.EVENTS.PLAY)},this.adsClickthroughOpened=function(){m.publish(e.EVENTS.ADS_CLICKTHROUGH_OPENED)},this.onSkipAd=function(){"LinearAd"==this.currentState?(e.log("AMC: Canceling linear ad due to skip button clicked."),yt(j,{code:this.AD_CANCEL_CODE.SKIPPED})):"Overlay"==this.currentState&&(e.log("AMC: Canceling nonlinear ad due to skip button clicked."),Ht())};var Ht=t.bind(function(){Y&&j&&this.adManagers[j.adManager]&&(q=!0,E(this.adManagers[j.adManager],"cancelOverlay",[j]),m.publish(e.EVENTS.NONLINEAR_AD_PLAYED,j.id))},this),Bt=t.bind(function(n){kt(),Y&&j&&this.adManagers[j.adManager]&&(t.isFunction(this.adManagers[j.adManager].hideOverlay)?(E(this.adManagers[j.adManager],"hideOverlay",[j]),m.publish(e.EVENTS.HIDE_NONLINEAR_AD)):Ht()),m.publish(e.EVENTS.WILL_PLAY_ADS,n)},this),Gt=t.bind(function(){return n.inArray(this.currentState,it)>=0},this),Yt=t.bind(function(){bt()},this);this.onWillPlayAds=function(){Yt()},this.onAdPodStarted=function(){m.publish(e.EVENTS.DISABLE_SEEKING,e.VIDEO.ADS)},this.onWillPlayNonlinearAd=function(n,i){var a=t.bind(function(t,n,i){W=null,e.log("AMC: Cancelling a non-linear ad due to timeout "+i),yt(n,{code:this.AD_CANCEL_CODE.TIMEOUT}),t.publish(e.EVENTS.NONLINEAR_AD_PLAYED,i)},this,m,i,i.id);Nt(i,a,r),i.adManager&&this.adManagers[i.adManager]?E(this.adManagers[i.adManager],"playAd",[i]):this.notifyNonlinearAdEnded(i.id)},this.onPlayNonlinearAd=function(){};var jt=t.bind(function(){Xt(),q||bt()},this);this.onAdPodEnded=function(t,n){J=!1,m.publish(e.EVENTS.ENABLE_SEEKING,e.VIDEO.ADS),m.publish(e.EVENTS.VC_SET_VIDEO_STREAMS,e.VIDEO.ADS,null),jt(n)},this.onNonlinearAdDisplayed=function(){Vt(this.EVENTS.NONLINEAR_AD_DISPLAYED)},this.onNonlinearAdPlayed=function(e,t){jt(t)},this.tryAdsCompleted=function(){var t=!1;return this.ended&&!this.waitForPostrollToPlay&&(D.length<=0||D[0]&&!D[0].isLinear&&!D[0].isRequest)&&(this.waitForPostrollToPlay=!0,this.ui.transitionToMainContent(!1,this.ended),t=!0,e.log("AMC: All ads completed, unblocking played event"),m.publish(e.EVENTS.AMC_ALL_ADS_DONE)),t},this.onAdsPlayed=function(){if(q=!1,!this.tryAdsCompleted()){var t=!H&&k&&this.ui.isAdInFocus();this.ui.transitionToMainContent(t,this.ended),(!w&&!H||!B&&e.isIos)&&(m.publish(e.EVENTS.AMC_PREROLLS_DONE),B=!0),bt(),Xt(),Y&&j&&this.adManagers[j.adManager]&&(E(this.adManagers[j.adManager],"showOverlay"),m.publish(e.EVENTS.SHOW_NONLINEAR_AD))}},this.onAdsClicked=function(e,t){this.adsClicked(t)},this.onVideoTagFound=function(e,t,n,i){Vt(this.EVENTS.VIDEO_TAG_FOUND,t,n,i)},this.onVideoElementCreated=t.bind(function(t,n){if(n.videoId===e.VIDEO.MAIN){var i=n.streamUrl;i&&Vt(this.EVENTS.CONTENT_URL_CHANGED,i)}},this);var Wt=t.bind(function(){var e=Date.now(),n=this.liveStreamTimestamps.paused,i=this.liveStreamTimestamps.initialPlay;n&&t.isFinite(n.ms)&&!n.delayUsed&&(this.timeMainVideoIdleMs+=e-n.ms,this.liveStreamTimestamps.paused.delayUsed=!0),i&&t.isFinite(i.ms)&&!i.delayUsed&&(this.timeMainVideoIdleMs+=e-i.ms,this.liveStreamTimestamps.initialPlay.delayUsed=!0)},this),Kt=t.bind(function(){var e=Date.now()-this.liveStreamTimestamps.initialPlay.ms,t=(e-this.timeMainVideoIdleMs)/1e3;return t},this),qt=t.bind(function(t,n){t=t>0?t:0,n=n>0?n:0;var i=e.localStorage.getItem(et);i=i&&+i>0?+i:0;var r=!1;return i>=t&&(0===n||(i-t)%n===0)&&(r=!0),r},this),zt=t.bind(function(){var t=e.localStorage.getItem(et);t=(t&&+t>0?+t:0)+1,e.localStorage.setItem(et,t),e.log("MAIN VIDEO COUNT: "+e.localStorage.getItem(et))},this),Xt=t.bind(function(){W?(j=W,Y=!0,this.adStarted=!0):(j=null,Y=!1,this.adStarted=!1),Z=!1,K=!1,$=!0,Q=null,J=!1},this),$t=t.bind(function(){D=[],C=0,V=!1,L=!1,M=!1,W=null,this.ended=!1,O=0,R=!1,P=0,this.waitForPostrollToPlay=!0,w=!1,k=!1,v=!1,_=!1},this),Qt=t.bind(function(e){g=!1,b=!1,this.movieMetadata=null,this.startTime=-1,this.movieDuration=-1,this.isLiveStream=!1,S=-1,N=[],q=!1,$t(),Xt(),ot(e)},this),Zt=t.bind(function(){this.ui&&"function"==typeof this.ui.destroy&&this.ui.destroy();for(var e in z)z.hasOwnProperty(e)&&Ot(e);("LinearAd"==this.currentState||"Overlay"==this.currentState)&&vt({code:this.AD_CANCEL_CODE.STREAM_ENDED});for(var t in this.adManagers)this.unregisterAdManager(t);this.fsm.destroyFsm(),Qt(!0)},this);this.onDestroy=function(){Zt()},this.getRegisteredAdManagers=function(){return this.adManagers},this.unregisterAdManager=function(n){if(e.log("AMC: Removing an ad manager: "+n),n&&this.adManagers[n]){if(t.isFunction(this.adManagers[n].destroy))try{this.adManagers[n].destroy()}catch(i){e.log("AMC: Error destroying an ad manager - "+i)}this.unregisteredAdManagers.push(n),delete this.adManagers[n]}}};var E=function(n,i,r){try{if(t.isFunction(n[i]))return n[i].apply(n,r)}catch(a){e.log("AMC: ad manager",n&&n.name,"at function '"+i+"' threw exception -",a)}return null},p=null;e.registerModule("adManagerController",t.bind(function(t,n){return p=new e.AdManagerController(t,n)},this))}(e,e._,e.$),function u(e,t,n){function i(a,s){if(!t[a]){if(!e[a]){var o="function"==typeof require&&require;if(!s&&o)return o(a,!0);if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,u,e,t,n)}return t[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(){e||(e={})},{}],2:[function(t){t("./InitOO.js"),window._||(window._=t("underscore")),e._||(e._=window._.noConflict())},{"./InitOO.js":1,underscore:6}],3:[function(t){if(t("./InitAnalyticsNamespace.js"),!e.Analytics.AD_TYPE){var n={LINEAR_OVERLAY:"linearOverlay",NONLINEAR_OVERLAY:"nonlinearOverlay",LINEAR_VIDEO:"linearVideo",COMPANION:"companion"};e.Analytics.AD_TYPE=n}if(!e.Analytics.STREAM_TYPE){var i={VOD:"vod",LIVE_STREAM:"liveStream"};e.Analytics.STREAM_TYPE=i}if(!e.Analytics.ERROR_CODE){var r={100:"General Error"};e.Analytics.ERROR_CODE=r}if(!e.Analytics.EVENTS){var a={VIDEO_PLAYER_CREATED:"video_player_created",VIDEO_ELEMENT_CREATED:"video_element_created",INITIAL_PLAYBACK_REQUESTED:"initial_playback_requested",VIDEO_CONTENT_COMPLETED:"video_content_completed",PLAYBACK_COMPLETED:"playback_completed",VIDEO_PLAY_REQUESTED:"video_play_requested",VIDEO_PAUSE_REQUESTED:"video_pause_requested",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_REPLAY_REQUESTED:"video_replay_requested",VIDEO_SOURCE_CHANGED:"video_source_changed",VIDEO_STREAM_METADATA_UPDATED:"video_stream_metadata_updated",VIDEO_CONTENT_METADATA_UPDATED:"video_content_metadata_updated",STREAM_TYPE_UPDATED:"stream_type_updated",VIDEO_SEEK_REQUESTED:"video_seek_requested",VIDEO_SEEK_COMPLETED:"video_seek_completed",VIDEO_STREAM_DOWNLOADING:"video_stream_downloading",VIDEO_BUFFERING_STARTED:"video_buffering_started",VIDEO_BUFFERING_ENDED:"video_buffering_ended",VIDEO_STREAM_BITRATE_PROFILES:"video_stream_bitrate_profiles",VIDEO_STREAM_TARGET_BITRATE_REQUESTED:"video_stream_target_bitrate_requested",VIDEO_STREAM_BITRATE_CHANGED:"video_stream_bitrate_changed",VIDEO_STREAM_POSITION_CHANGED:"video_stream_position_changed",VIDEO_ERROR:"video_error",AD_BREAK_STARTED:"ad_break_started",AD_BREAK_ENDED:"ad_break_ended",AD_POD_STARTED:"ad_pod_started",AD_POD_ENDED:"ad_pod_ended",AD_STARTED:"ad_started",AD_ENDED:"ad_ended",AD_SKIPPED:"ad_skipped",AD_ERROR:"ad_error",AD_IMPRESSION:"ad_impression",AD_CLICKTHROUGH_OPENED:"ad_clickthrough_opened",FULLSCREEN_CHANGED:"fullscreen_changed",VOLUME_CHANGED:"volume_changed",DESTROY:"destroy",ERROR:{GENERAL:"general_error",METADATA_LOADING:"metadata_loading_error",VIDEO_PLAYBACK:"video_playback_error",AUTHORIZATION:"authorization_error"}};e.Analytics.EVENTS=a}if(!e.Analytics.EVENT_DATA){var s={};s.VideoElementData=function(t){var n=e._.bind(o,this,"VideoElementData");this.streamUrl=n(t,"streamUrl",["string"])},s.VideoSourceData=function(t,n){var i=e._.bind(o,this,"VideoSourceData");this.embedCode=i(t,"embedCode",["string"]),this.metadata=i(n,"metadata",["object"])},s.VideoContentMetadata=function(t,n,i,r,a,s){var l=e._.bind(o,this,"VideoContentMetadata");this.title=l(t,"title",["string"]),this.description=l(n,"description",["string"]),this.duration=l(i,"duration",["number"]),this.closedCaptions=l(r,"closedCaptions",["object"]),this.contentType=l(a,"contentType",["string"]),this.hostedAtURL=l(s,"hostedAtURL",["string"])},s.StreamTypeMetadata=function(t){var n=e._.bind(o,this,"StreamTypeMetadata");this.streamType=n(t,"streamType",["string"])},s.VideoDownloadingMetadata=function(t,n,i,r,a){var s=e._.bind(o,this,"VideoDownloadingMetadata");this.currentTime=s(t,"currentTime",["number"]),this.totalStreamDuration=s(n,"totalStreamDuration",["number"]),this.streamBufferedUntilTime=s(i,"streamBufferedUntilTime",["number"]),this.seekableRangeStart=s(r,"seekableRangeStart",["number"]),this.seekableRangeEnd=s(a,"seekableRangeEnd",["number"])},s.VideoBufferingStartedData=function(t){var n=e._.bind(o,this,"VideoBufferingStartedData");this.streamUrl=n(t,"streamUrl",["string"])},s.VideoBufferingEndedData=function(t){var n=e._.bind(o,this,"VideoBufferingEndedData");this.streamUrl=n(t,"streamUrl",["string"])},s.VideoBitrateProfileLookupData=function(t){var n=e._.bind(o,this,"VideoBitrateProfileLookupData"),i=n(t,"bitrateProfileArray",["array"]);this.profiles={};for(var r in i){var a=i[r];this.profiles[a.id]=a}},s.VideoBitrateProfileData=function(t){var n=e._.bind(o,this,"VideoBitrateProfileData");this.bitrate=n(t.bitrate,"bitrate",["number"]),this.height=n(t.height,"height",["number"]),this.width=n(t.width,"width",["number"]),this.id=n(t.id,"id",["string"])},s.VideoTargetBitrateData=function(t){var n=e._.bind(o,this,"VideoTargetBitrateData");this.targetProfile=n(t,"targetProfile",["string"])},s.VideoSeekRequestedData=function(t){var n=e._.bind(o,this,"VideoSeekRequestedData");this.seekingToTime=n(t,"seekingToTime",["number"])},s.VideoSeekCompletedData=function(t){var n=e._.bind(o,this,"VideoSeekCompletedData");this.timeSeekedTo=n(t,"timeSeekedTo",["number"])},s.VideoStreamPositionChangedData=function(t,n,i){var r=e._.bind(o,this,"VideoStreamPositionChangedData");this.streamPosition=r(t,"streamPosition",["number"]),this.totalStreamDuration=r(n,"totalStreamDuration",["number"]),this.videoId=r(i,"videoId",["string"])},s.VideoErrorData=function(t){var n=e._.bind(o,this,"VideoErrorData");this.errorCode=n(t,"errorCode",["string"]),this.errorMessage=c(t)},s.GeneralErrorData=function(t,n){var i=e._.bind(o,this,"GeneralErrorData");this.errorCode=i(t,"errorCode",["string"]),this.errorMessage=i(n,"errorMessage",["string"])},s.MetadataLoadingErrorData=function(t,n){var i=e._.bind(o,this,"MetadataLoadingErrorData");this.errorCode=i(t,"errorCode",["string"]),this.errorMessage=i(n,"errorMessage",["string"])},s.VideoPlaybackErrorData=function(t,n){var i=e._.bind(o,this,"VideoPlaybackErrorData");this.errorCode=i(t,"errorCode",["string"]),this.errorMessage=i(n,"errorMessage",["string"])},s.AuthorizationErrorData=function(t,n){var i=e._.bind(o,this,"AuthorizationErrorData");this.errorCode=i(t,"errorCode",["string"]),this.errorMessage=i(n,"errorMessage",["string"])},s.AdPodStartedData=function(t){var n=e._.bind(o,this,"AdPodStartedData");this.numberOfAds=n(t,"numberOfAds",["number"])},s.AdPodEndedData=function(t){var n=e._.bind(o,this,"AdPodEndedData");this.adId=n(t,"adId",["string"])},s.AdStartedData=function(t,n){var i=e._.bind(o,this,"AdStartedData");this.adType=i(t,"adType",["string"]),this.adMetadata=u(t,n)},s.LinearVideoData=function(t,n,i){var r=e._.bind(o,this,"LinearVideoData");this.adId=r(t,"adId",["string"]),this.adDuration=r(n,"adDuration",["number"]),this.adPodPosition=r(i,"adPodPosition",["number"])},s.NonLinearOverlayData=function(t){var n=e._.bind(o,this,"NonLinearOverlayData");this.adId=n(t,"adId",["string"])},s.AdEndedData=function(t,n){var i=e._.bind(o,this,"AdEndedData");this.adType=i(t,"adType",["string"]),this.adId=i(n,"adId",["string"])},s.AdErrorData=function(t){var n=e._.bind(o,this,"AdErrorData");this.error=n(t,"error",["string","object"])},s.FullscreenChangedData=function(t){var n=e._.bind(o,this,"FullscreenChangedData");this.changingToFullscreen=n(t,"changingToFullscreen",["boolean"])},s.VolumeChangedData=function(t){var n=e._.bind(o,this,"VolumeChangedData");this.currentVolume=n(t,"currentVolume",["number"])};var o=function(t,n,i,r){for(var a=!0,s=n,o=0;o<r.length;o++){var l=r[o];if("string"===l){if(e._.isString(s)){a=!1;break}}else if("object"===l){if(s&&e._.isObject(s)){a=!1;break}}else if("array"===l)s&&e._.isArray(s)&&(a=!1);else if("number"===l){var u=parseFloat(s);if(e._.isNumber(s)){a=!1;break}if(!isNaN(u)){s=u,a=!1;break}}else if("boolean"===l)if(e._.isBoolean(s))a=!1;else{if("true"===s){s=!0,a=!1;break}if("false"===s){s=!1,a=!1;break}}}return a?void d("Analytics.EVENT_DATA."+t+" being created with invalid "+i+". Should be one of these types ["+r+"] but was ["+typeof n+"]."):s},u=function(t,n){var i;switch(t){case e.Analytics.AD_TYPE.LINEAR_VIDEO:i=new s.LinearVideoData(n.name,n.duration,n.indexInPod);break;case e.Analytics.AD_TYPE.NONLINEAR_OVERLAY:i=new s.NonLinearOverlayData(n.id);break;default:d("Ad Type not recognized. Should be one of these values ["+e._.values(e.Analytics.AD_TYPE)+"] but was ["+t+"].")}return i},c=function(e){var t;return l.has(r,e)?t=r[e]:d("Error code not recognized. Error code provided was: "+e),t},d=function(t){e.log("Error AnalyticsConstants: "+t)};e.Analytics.EVENT_DATA=s}if(!e.Analytics.REQUIRED_PLUGIN_FUNCTIONS){var h=["getName","getVersion","setPluginID","getPluginID","init","setMetadata","destroy","processEvent"];e.Analytics.REQUIRED_PLUGIN_FUNCTIONS=h}},{"./InitAnalyticsNamespace.js":5}],4:[function(t){t("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),t("./InitAnalyticsNamespace.js"),t("./AnalyticsConstants.js"),e.Analytics.RecordedEvent=function(e,t,n){this.timeStamp=e,this.eventName=t,this.params=n},e.Analytics.Framework=function(){var t,n=e._,i={},r=[],a=!0,s={},o=0,l=20,u=500,c=n.bind(function(e){if(!n.isFunction(e))throw m("Trying to make private function but "+e+" is not a function.");return n.bind(e,this)},this);this.setPluginMetadata=function(i){var r=!1;if(t&&e.log(m("Trying to run setPluginMetadata more than once. Ignoring new data.")),n.isObject(i)){t=i;for(var a=this.getPluginIDList(),s=0;s<a.length;s++){var o=E(a[s]);f(o)}r=!0}else e.log(m("Calling setPluginMetadata without valid metadata object. Defaulting to no metadata"));return r},this.destroy=c(function(){e.Analytics.UnregisterFrameworkInstance(this);for(var a in i)this.unregisterPlugin(a);n=null,i=null,r=null,t=null,s=null});var d=c(function(t,n){if(a&&r.length<u){var i=(new Date).getTime(),s=new e.Analytics.RecordedEvent(i,t,n);r.push(s)}else h()}),h=(c(function(){r=[]}),c(function(){a=!0}),c(function(){a=!1}));this.getRecordedEvents=function(){return r?n.clone(r):[]},this.registerPlugin=function(n){var r,a,s=!1;if(n||(e.log(m("Trying to register plugin class that is a falsy value.")),s=!0),!s)try{a=new n(this)}catch(o){e.log(o),e.log(m("Error was thrown during plugin creation.")),s=!0}if(s||(this.validatePlugin(a)?(g(a,"init"),t&&f(a)):s=!0),s||(r=p(a),r?i[r]||(i[r]={factory:n,instance:a,active:!0},g(a,"setPluginID",[r])):s=!0),s)if(r)e.log(m("'"+r+"' is not valid and was not registered."));else{var l=g(a,"getName");e.log(l?m("'"+l+"' is not valid and was not registered."):m("Plugin validation failed and was not registered."))}return r},this.unregisterPlugin=function(e){var t=!1;if(e&&i&&i[e]){var n=E(e);g(n,"destroy"),delete i[e],t=!0}return t},this.validatePlugin=function(t){var i=!0;if(t||(i=!1,e.log(m("Plugin has falsy value and is not valid. Actual value: "),t)),i){for(var r=0;r<e.Analytics.REQUIRED_PLUGIN_FUNCTIONS.length;r++){var a=e.Analytics.REQUIRED_PLUGIN_FUNCTIONS[r];if(!t.hasOwnProperty(a)||"function"!=typeof t[a]){if(i=!1,t.getName&&"function"==typeof t.getName)try{e.log(m("Plugin '"+t.getName()+"' missing function: "+a))}catch(s){e.log(m("Plugin missing function: "+a))}else e.log(m("Plugin missing function: "+a));break}}if(i)try{var o=t.getName();o&&n.isString(o)||(e.log(m("Plugin does not have 'string' as return type of getName() or is empty string")),i=!1)}catch(s){e.log(m("Plugin throws error on call to getName")),i=!1}if(i)try{var l=t.getVersion();l&&n.isString(l)||(e.log(m("Plugin does not have 'string' as return type of getVersion() or is empty string")),i=!1)}catch(s){e.log(m("Plugin throws error on call to getVersion")),i=!1}}return i},this.getPluginIDList=function(){var e=[];if(i)for(var t in i)e.push(t);return e};var E=c(function(e){var t;return i&&i[e]&&(t=i[e].instance),t});this.isPluginActive=function(e){return e&&i&&i[e]&&n.isBoolean(i[e].active)?i[e].active:!1},this.makePluginActive=function(e){var t=!1;return e&&i&&i[e]&&(i[e].active=!0,t=!0),t},this.makePluginInactive=function(e){var t=!1;return e&&i&&i[e]&&(i[e].active=!1,t=!0),t},this.flattenEvents=function(e){for(var t=[],i=n.keys(e),r=0;r<i.length;r++){var a=i[r],s=e[a];if("object"==typeof s)for(var o=this.flattenEvents(s),l=0;l<o.length;l++){var u=o[l];t.push(u)}else t.push(s)}return t},this.createEventDictionary=function(){var t=null,n=this.flattenEvents(e.Analytics.EVENTS);if(n&&n instanceof Array){t={};for(var i=0;i<n.length;i++){var r=n[i];t[r]=!0}}return t},s=this.createEventDictionary(),this.publishEvent=function(t,r){var o=!1;if(s[t]){n.isArray(r)||(r=[]),a&&d(t,r);var l;for(l in i)if(this.isPluginActive(l)){var u=E(l);g(u,"processEvent",[t,r])}o=!0}else e.log(m("Event '"+t+"' being published and it's not in the list of OO.Analytics.EVENTS"));return o};var p=c(function(t){var n=null;if(t){var r=g(t,"getName"),a=g(t,"getVersion");r&&a&&(n=o+"_"+r+"_"+a,i[n]?(e.log(m("Failed to create a unique name for plugin "+r+"_"+a)),n=null):o++,o>l&&e.log(m("You have tried to create more than "+l+" unique plugin ids. There is probably an infinite loop or some other error.")))}return n}),f=c(function(n){if(t){var i=g(n,"getName");if(!i)return void e.log(m("Trying to pass in metadata to plugin that does not have valid name"));var r=t[i];g(n,"setMetadata",[r])}}),m=function(e){return"ERROR Analytics Framework: "+e},g=c(function(t,i,r){e.DEBUG&&A(i);try{if(n.isFunction(t[i]))return t[i].apply(t,r)}catch(a){try{t&&n.isFunction(t.getName)&&e.log(m("Error occurred during call to function '"+i+"' on plugin '"+t.getName()+"'\n",a))}catch(s){e.log(m("Error occurred during call to function '"+i+"' on plugin\n",a))}}return null}),A=c(function(t){n.contains(e.Analytics.REQUIRED_PLUGIN_FUNCTIONS,t)||e.log(m("Calling function '"+t+"' in framework code and it's not in the REQUIRED_PLUGIN_FUNCTIONS list."))});e.Analytics.RegisterFrameworkInstance(this)}},{"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2,"./AnalyticsConstants.js":3,"./InitAnalyticsNamespace.js":5}],5:[function(t){t("../../html5-common/js/utils/InitModules/InitOO.js"),t("../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),e.Analytics||(e.Analytics={}),e.Analytics.FrameworkInstanceList||(e.Analytics.FrameworkInstanceList=[]),e.Analytics.PluginFactoryList||(e.Analytics.PluginFactoryList=[]),e.Analytics.RegisterPluginFactory||(e.Analytics.RegisterPluginFactory=function(t){if(e.Analytics.PluginFactoryList.push(t),e.Analytics.FrameworkInstanceList&&e.Analytics.FrameworkInstanceList.length)for(var n=0;n<e.Analytics.FrameworkInstanceList.length;n++)e.Analytics.FrameworkInstanceList[n].registerPluginFactory(t)}),e.Analytics.FrameworkRegistrationObject||(e.Analytics.FrameworkRegistrationObject=function(e){this.registerPluginFactory=function(t){e.registerPlugin(t)}}),e.Analytics.RegisterFrameworkInstance||(e.Analytics.RegisterFrameworkInstance=function(t){var n=new e.Analytics.FrameworkRegistrationObject(t);if(t.frameworkRegistrationObject=n,e.Analytics.FrameworkInstanceList.push(n),e._.isArray(e.Analytics.PluginFactoryList)&&e.Analytics.PluginFactoryList.length>0)for(var i=0;i<e.Analytics.PluginFactoryList.length;i++)t.registerPlugin(e.Analytics.PluginFactoryList[i])}),e.Analytics.UnregisterFrameworkInstance||(e.Analytics.UnregisterFrameworkInstance=function(t){if(t){var n=t.frameworkRegistrationObject;n&&(e.Analytics.FrameworkInstanceList=e._.without(e.Analytics.FrameworkInstanceList,n))}})},{"../../html5-common/js/utils/InitModules/InitOO.js":1,"../../html5-common/js/utils/InitModules/InitOOUnderscore.js":2}],6:[function(e,t,n){(function(){function e(t,n,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&N.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&N.isFunction(n.isEqual))return n.isEqual(t);var r=d.call(t);if(r!=d.call(n))return!1;switch(r){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var a=i.length;a--;)if(i[a]==t)return!0;i.push(t);var s=0,o=!0;if("[object Array]"==r){if(s=t.length,o=s==n.length)for(;s--&&(o=s in t==s in n&&e(t[s],n[s],i)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var l in t)if(N.has(t,l)&&(s++,!(o=N.has(n,l)&&e(t[l],n[l],i))))break;if(o){for(l in n)if(N.has(n,l)&&!s--)break;o=!s}}return i.pop(),o}var i=this,r=i._,a={},s=Array.prototype,o=Object.prototype,l=Function.prototype,u=s.slice,c=s.unshift,d=o.toString,h=o.hasOwnProperty,E=s.forEach,p=s.map,f=s.reduce,m=s.reduceRight,g=s.filter,A=s.every,b=s.some,_=s.indexOf,T=s.lastIndexOf,v=Array.isArray,y=Object.keys,S=l.bind,N=function(e){return new k(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=N),n._=N):i._=N,N.VERSION="1.3.3";var I=N.each=N.forEach=function(e,t,n){if(null!=e)if(E&&e.forEach===E)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;r>i;i++)if(i in e&&t.call(n,e[i],i,e)===a)return}else for(var s in e)if(N.has(e,s)&&t.call(n,e[s],s,e)===a)return};N.map=N.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(I(e,function(e,r,a){i[i.length]=t.call(n,e,r,a)}),e.length===+e.length&&(i.length=e.length),i)},N.reduce=N.foldl=N.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return i&&(t=N.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(I(e,function(e,a,s){r?n=t.call(i,n,e,a,s):(n=e,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},N.reduceRight=N.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return i&&(t=N.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=N.toArray(e).reverse();return i&&!r&&(t=N.bind(t,i)),r?N.reduce(a,t,n,i):N.reduce(a,t)},N.find=N.detect=function(e,t,n){var i;return D(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},N.filter=N.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(I(e,function(e,r,a){t.call(n,e,r,a)&&(i[i.length]=e)}),i)},N.reject=function(e,t,n){var i=[];return null==e?i:(I(e,function(e,r,a){t.call(n,e,r,a)||(i[i.length]=e)}),i)},N.every=N.all=function(e,t,n){var i=!0;return null==e?i:A&&e.every===A?e.every(t,n):(I(e,function(e,r,s){return(i=i&&t.call(n,e,r,s))?void 0:a}),!!i)};var D=N.some=N.any=function(e,t,n){t||(t=N.identity);var i=!1;return null==e?i:b&&e.some===b?e.some(t,n):(I(e,function(e,r,s){return i||(i=t.call(n,e,r,s))?a:void 0}),!!i)};N.include=N.contains=function(e,t){var n=!1;return null==e?n:_&&e.indexOf===_?-1!=e.indexOf(t):n=D(e,function(e){return e===t})},N.invoke=function(e,t){var n=u.call(arguments,2);return N.map(e,function(e){return(N.isFunction(t)?t||e:e[t]).apply(e,n)})},N.pluck=function(e,t){return N.map(e,function(e){return e[t]})},N.max=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&N.isEmpty(e))return-1/0;var i={computed:-1/0};return I(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s>=i.computed&&(i={value:e,computed:s})}),i.value},N.min=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&N.isEmpty(e))return 1/0;var i={computed:1/0};return I(e,function(e,r,a){var s=t?t.call(n,e,r,a):e;s<i.computed&&(i={value:e,computed:s})}),i.value},N.shuffle=function(e){var t,n=[];return I(e,function(e,i){t=Math.floor(Math.random()*(i+1)),n[i]=n[t],n[t]=e}),n},N.sortBy=function(e,t,n){var i=N.isFunction(t)?t:function(e){return e[t]};return N.pluck(N.map(e,function(e,t,r){return{value:e,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;return void 0===n?1:void 0===i?-1:i>n?-1:n>i?1:0}),"value")},N.groupBy=function(e,t){var n={},i=N.isFunction(t)?t:function(e){return e[t]};return I(e,function(e,t){var r=i(e,t);(n[r]||(n[r]=[])).push(e)}),n},N.sortedIndex=function(e,t,n){n||(n=N.identity);for(var i=0,r=e.length;r>i;){var a=i+r>>1;n(e[a])<n(t)?i=a+1:r=a}return i},N.toArray=function(e){return e?N.isArray(e)?u.call(e):N.isArguments(e)?u.call(e):e.toArray&&N.isFunction(e.toArray)?e.toArray():N.values(e):[]},N.size=function(e){return N.isArray(e)?e.length:N.keys(e).length},N.first=N.head=N.take=function(e,t,n){return null==t||n?e[0]:u.call(e,0,t)},N.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},N.last=function(e,t,n){return null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},N.rest=N.tail=function(e,t,n){return u.call(e,null==t||n?1:t)},N.compact=function(e){return N.filter(e,function(e){return!!e})},N.flatten=function(e,t){return N.reduce(e,function(e,n){return N.isArray(n)?e.concat(t?n:N.flatten(n)):(e[e.length]=n,e)},[])},N.without=function(e){return N.difference(e,u.call(arguments,1))},N.uniq=N.unique=function(e,t,n){var i=n?N.map(e,n):e,r=[];return e.length<3&&(t=!0),N.reduce(i,function(n,i,a){return(t?N.last(n)===i&&n.length:N.include(n,i))||(n.push(i),r.push(e[a])),n},[]),r},N.union=function(){return N.uniq(N.flatten(arguments,!0))},N.intersection=N.intersect=function(e){var t=u.call(arguments,1);return N.filter(N.uniq(e),function(e){return N.every(t,function(t){return N.indexOf(t,e)>=0})})},N.difference=function(e){var t=N.flatten(u.call(arguments,1),!0);return N.filter(e,function(e){return!N.include(t,e)})},N.zip=function(){for(var e=u.call(arguments),t=N.max(N.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=N.pluck(e,""+i);return n},N.indexOf=function(e,t,n){if(null==e)return-1;var i,r;if(n)return i=N.sortedIndex(e,t),e[i]===t?i:-1;if(_&&e.indexOf===_)return e.indexOf(t);for(i=0,r=e.length;r>i;i++)if(i in e&&e[i]===t)return i;return-1},N.lastIndexOf=function(e,t){if(null==e)return-1;if(T&&e.lastIndexOf===T)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},N.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a};var R=function(){};N.bind=function(e,t){var n,i;if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));if(!N.isFunction(e))throw new TypeError;return i=u.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,i.concat(u.call(arguments)));R.prototype=e.prototype;var r=new R,a=e.apply(r,i.concat(u.call(arguments)));return Object(a)===a?a:r}},N.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=N.functions(e)),I(t,function(t){e[t]=N.bind(e[t],e)}),e},N.memoize=function(e,t){var n={};return t||(t=N.identity),function(){var i=t.apply(this,arguments);return N.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},N.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},N.defer=function(e){return N.delay.apply(N,[e,1].concat(u.call(arguments,1)))},N.throttle=function(e,t){var n,i,r,a,s,o,l=N.debounce(function(){s=a=!1},t);return function(){n=this,i=arguments;var u=function(){r=null,s&&e.apply(n,i),l()};return r||(r=setTimeout(u,t)),a?s=!0:o=e.apply(n,i),l(),a=!0,o}},N.debounce=function(e,t,n){var i;return function(){var r=this,a=arguments,s=function(){i=null,n||e.apply(r,a)};n&&!i&&e.apply(r,a),clearTimeout(i),i=setTimeout(s,t)}},N.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},N.wrap=function(e,t){return function(){var n=[e].concat(u.call(arguments,0));return t.apply(this,n)}},N.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},N.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},N.keys=y||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)N.has(e,n)&&(t[t.length]=n);return t},N.values=function(e){return N.map(e,N.identity)},N.functions=N.methods=function(e){var t=[];for(var n in e)N.isFunction(e[n])&&t.push(n);return t.sort()},N.extend=function(e){return I(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},N.pick=function(e){var t={};return I(N.flatten(u.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},N.defaults=function(e){return I(u.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},N.clone=function(e){return N.isObject(e)?N.isArray(e)?e.slice():N.extend({},e):e},N.tap=function(e,t){return t(e),e},N.isEqual=function(t,n){return e(t,n,[])},N.isEmpty=function(e){if(null==e)return!0;if(N.isArray(e)||N.isString(e))return 0===e.length;for(var t in e)if(N.has(e,t))return!1;return!0},N.isElement=function(e){return!(!e||1!=e.nodeType)},N.isArray=v||function(e){return"[object Array]"==d.call(e)},N.isObject=function(e){return e===Object(e)},N.isArguments=function(e){return"[object Arguments]"==d.call(e)},N.isArguments(arguments)||(N.isArguments=function(e){return!(!e||!N.has(e,"callee"))}),N.isFunction=function(e){return"[object Function]"==d.call(e)},N.isString=function(e){return"[object String]"==d.call(e)},N.isNumber=function(e){return"[object Number]"==d.call(e)},N.isFinite=function(e){return N.isNumber(e)&&isFinite(e)},N.isNaN=function(e){return e!==e},N.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},N.isDate=function(e){return"[object Date]"==d.call(e)},N.isRegExp=function(e){return"[object RegExp]"==d.call(e)},N.isNull=function(e){return null===e},N.isUndefined=function(e){return void 0===e},N.has=function(e,t){return h.call(e,t)},N.noConflict=function(){return i._=r,this},N.identity=function(e){return e
},N.times=function(e,t,n){for(var i=0;e>i;i++)t.call(n,i)},N.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},N.result=function(e,t){if(null==e)return null;var n=e[t];return N.isFunction(n)?n.call(e):n},N.mixin=function(e){I(N.functions(e),function(t){F(t,N[t]=e[t])})};var O=0;N.uniqueId=function(e){var t=O++;return e?e+t:t},N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,L={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var V in L)L[L[V]]=V;var P=/\\|'|\r|\n|\t|\u2028|\u2029/g,M=/\\(\\|'|r|n|t|u2028|u2029)/g,w=function(e){return e.replace(M,function(e,t){return L[t]})};N.template=function(e,t,n){n=N.defaults(n||{},N.templateSettings);var i="__p+='"+e.replace(P,function(e){return"\\"+L[e]}).replace(n.escape||C,function(e,t){return"'+\n_.escape("+w(t)+")+\n'"}).replace(n.interpolate||C,function(e,t){return"'+\n("+w(t)+")+\n'"}).replace(n.evaluate||C,function(e,t){return"';\n"+w(t)+"\n;__p+='"})+"';\n";n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var r=new Function(n.variable||"obj","_",i);if(t)return r(t,N);var a=function(e){return r.call(this,e,N)};return a.source="function("+(n.variable||"obj")+"){\n"+i+"}",a},N.chain=function(e){return N(e).chain()};var k=function(e){this._wrapped=e};N.prototype=k.prototype;var x=function(e,t){return t?N(e).chain():e},F=function(e,t){k.prototype[e]=function(){var e=u.call(arguments);return c.call(e,this._wrapped),x(t.apply(N,e),this._chain)}};N.mixin(N),I(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];k.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var i=n.length;return"shift"!=e&&"splice"!=e||0!==i||delete n[0],x(n,this._chain)}}),I(["concat","join","slice"],function(e){var t=s[e];k.prototype[e]=function(){return x(t.apply(this._wrapped,arguments),this._chain)}}),k.prototype.chain=function(){return this._chain=!0,this},k.prototype.value=function(){return this._wrapped}}).call(this)},{}]},{},[4]),e.exposeStaticApi("Analytics",e.Analytics),e.plugin("AnalyticsFrameworkTranslator",function(e,t){var n,i,r=!1,a=!1,s=null,o=!1,l={};l.SAS=e.ERROR.API.SAS,l.PLAYBACK=e.ERROR.PLAYBACK,l.METADATA_LOADING=e.ERROR.API,l.GENERAL=e.ERROR;var u=t.bind(function(e){if(!t.isFunction(e))throw J("Trying to make private function but "+e+" is not a function.");return t.bind(e,this)},this),c=function(t,r){this.id=r,n=t,i=new e.Analytics.Framework,n.subscribe(e.EVENTS.PLAYER_CREATED,"AnalyticsFrameworkTranslator",d),n.subscribe(e.EVENTS.EMBED_CODE_CHANGED,"AnalyticsFrameworkTranslator",h),n.subscribe(e.EVENTS.CONTENT_TREE_FETCHED,"AnalyticsFrameworkTranslator",E),n.subscribe(e.EVENTS.METADATA_FETCHED,"AnalyticsFrameworkTranslator",p),n.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,"AnalyticsFrameworkTranslator",f),n.subscribe(e.EVENTS.INITIAL_PLAY,"AnalyticsFrameworkTranslator",m),n.subscribe(e.EVENTS.PLAY,"AnalyticsFrameworkTranslator",g),n.subscribe(e.EVENTS.DOWNLOADING,"AnalyticsFrameworkTranslator",A),n.subscribe(e.EVENTS.BUFFERING,"AnalyticsFrameworkTranslator",b),n.subscribe(e.EVENTS.BUFFERED,"AnalyticsFrameworkTranslator",_),n.subscribe(e.EVENTS.BITRATE_INFO_AVAILABLE,"AnalyticsFrameworkTranslator",T),n.subscribe(e.EVENTS.SET_TARGET_BITRATE,"AnalyticsFrameworkTranslator",v),n.subscribe(e.EVENTS.BITRATE_CHANGED,"AnalyticsFrameworkTranslator",y),n.subscribe(e.EVENTS.PLAYING,"AnalyticsFrameworkTranslator",S),n.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"AnalyticsFrameworkTranslator",N),n.subscribe(e.EVENTS.PLAYED,"AnalyticsFrameworkTranslator",I),n.subscribe(e.EVENTS.PAUSE,"AnalyticsFrameworkTranslator",D),n.subscribe(e.EVENTS.PAUSED,"AnalyticsFrameworkTranslator",R),n.subscribe(e.EVENTS.REPLAY,"AnalyticsFrameworkTranslator",O),n.subscribe(e.EVENTS.SEEK,"AnalyticsFrameworkTranslator",C),n.subscribe(e.EVENTS.SEEKED,"AnalyticsFrameworkTranslator",L),n.subscribe(e.EVENTS.WILL_PLAY_ADS,"AnalyticsFrameworkTranslator",V),n.subscribe(e.EVENTS.AD_POD_STARTED,"AnalyticsFrameworkTranslator",P),n.subscribe(e.EVENTS.AD_POD_ENDED,"AnalyticsFrameworkTranslator",w),n.subscribe(e.EVENTS.WILL_PLAY_SINGLE_AD,"AnalyticsFrameworkTranslator",k),n.subscribe(e.EVENTS.SINGLE_AD_PLAYED,"AnalyticsFrameworkTranslator",x),n.subscribe(e.EVENTS.WILL_PLAY_NONLINEAR_AD,"AnalyticsFrameworkTranslator",F),n.subscribe(e.EVENTS.NONLINEAR_AD_PLAYED,"AnalyticsFrameworkTranslator",U),n.subscribe(e.EVENTS.ADS_PLAYED,"AnalyticsFrameworkTranslator",H),n.subscribe(e.EVENTS.SKIP_AD,"AnalyticsFrameworkTranslator",B),n.subscribe(e.EVENTS.ADS_ERROR,"AnalyticsFrameworkTranslator",G),n.subscribe(e.EVENTS.ADS_CLICKTHROUGH_OPENED,"AnalyticsFrameworkTranslator",Y),n.subscribe(e.EVENTS.FULLSCREEN_CHANGED,"AnalyticsFrameworkTranslator",j),n.subscribe(e.EVENTS.VOLUME_CHANGED,"AnalyticsFrameworkTranslator",W),n.subscribe(e.EVENTS.DESTROY,"AnalyticsFrameworkTranslator",K),n.subscribe(e.EVENTS.VC_PLAYED,"AnalyticsFrameworkTranslator",q),n.subscribe(e.EVENTS.VC_PLAYING,"AnalyticsFrameworkTranslator",z),n.subscribe(e.EVENTS.VC_VIDEO_ELEMENT_CREATED,"AnalyticsFrameworkTranslator",$),n.subscribe(e.EVENTS.ERROR,"AnalyticsFrameworkTranslator",Q),n.subscribe(e.EVENTS.VC_PLAY_FAILED,"AnalyticsFrameworkTranslator",X)},d=u(function(t,n,r){var a;try{a=r}catch(s){et(t),a={}}i.setPluginMetadata(a),i.publishEvent(e.Analytics.EVENTS.VIDEO_PLAYER_CREATED,[a])}),h=u(function(t,n,r){var a;try{a=new e.Analytics.EVENT_DATA.VideoSourceData(n,r)}catch(s){et(t),a={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_SOURCE_CHANGED,[a])}),E=u(function(t,n){var r;try{var a=n;r=new e.Analytics.EVENT_DATA.VideoContentMetadata(a.title,a.description,a.duration,a.closed_captions,a.content_type,a.hostedAtURL)}catch(s){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_CONTENT_METADATA_UPDATED,[r])}),p=u(function(t,n){var r;try{r=n}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_METADATA_UPDATED,[r])}),f=u(function(t,n){var r;try{var a;a=n&&n.streams&&n.streams[0]&&n.streams[0].is_live_stream?e.Analytics.STREAM_TYPE.LIVE_STREAM:e.Analytics.STREAM_TYPE.VOD,r=new e.Analytics.EVENT_DATA.StreamTypeMetadata(a)}catch(s){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.STREAM_TYPE_UPDATED,[r])}),m=u(function(){i.publishEvent(e.Analytics.EVENTS.INITIAL_PLAYBACK_REQUESTED)}),g=u(function(){i.publishEvent(e.Analytics.EVENTS.VIDEO_PLAY_REQUESTED)}),A=u(function(t,n,r,a,s){var o;try{o=new e.Analytics.EVENT_DATA.VideoDownloadingMetadata(n,r,a,s.start,s.end)}catch(l){o={},et(t)}i.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_DOWNLOADING,[o])}),b=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoBufferingStartedData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_BUFFERING_STARTED,[r])}),_=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoBufferingEndedData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_BUFFERING_ENDED,[r])}),T=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoBitrateProfileLookupData(n.bitrates)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_BITRATE_PROFILES,[r])}),v=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoTargetBitrateData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_TARGET_BITRATE_REQUESTED,[r])}),y=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoBitrateProfileData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_BITRATE_CHANGED,[r])}),S=u(function(){i.publishEvent(e.Analytics.EVENTS.VIDEO_PLAYING)}),N=u(function(t,n,r,a,s,o){var l;try{l=new e.Analytics.EVENT_DATA.VideoStreamPositionChangedData(n,r,o)}catch(u){et(t),l={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_STREAM_POSITION_CHANGED,[l])}),I=u(function(){i.publishEvent(e.Analytics.EVENTS.PLAYBACK_COMPLETED)}),D=u(function(){i.publishEvent(e.Analytics.EVENTS.VIDEO_PAUSE_REQUESTED)}),R=u(function(){i.publishEvent(e.Analytics.EVENTS.VIDEO_PAUSED)}),O=u(function(){i.publishEvent(e.Analytics.EVENTS.VIDEO_REPLAY_REQUESTED)}),C=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoSeekRequestedData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_SEEK_REQUESTED,[r])}),L=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VideoSeekCompletedData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_SEEK_COMPLETED,[r])}),V=u(function(){r=!0}),P=u(function(t,n){var i;try{i=new e.Analytics.EVENT_DATA.AdPodStartedData(n)}catch(r){et(t),i={}}var o=[i];a?M(o):s=o}),M=u(function(t){t=t?t:[{}],i.publishEvent(e.Analytics.EVENTS.AD_POD_STARTED,t)}),w=u(function(t,n){if(a){var r;try{r=new e.Analytics.EVENT_DATA.AdPodEndedData(n)}catch(s){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.AD_POD_ENDED,[r])}}),k=u(function(t,n){a||(i.publishEvent(e.Analytics.EVENTS.AD_BREAK_STARTED),M(s),s=null),a=!0,o=!1;var r;try{r=new e.Analytics.EVENT_DATA.AdStartedData(e.Analytics.AD_TYPE.LINEAR_VIDEO,n)}catch(l){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.AD_STARTED,[r])}),x=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.AdEndedData(e.Analytics.AD_TYPE.LINEAR_VIDEO,n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.AD_ENDED,[r])}),F=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.AdStartedData(e.Analytics.AD_TYPE.NONLINEAR_OVERLAY,n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.AD_STARTED,[r])}),U=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.AdEndedData(e.Analytics.AD_TYPE.NONLINEAR_OVERLAY,n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.AD_ENDED,[r])}),H=u(function(){r=!1,o=!1,a&&i.publishEvent(e.Analytics.EVENTS.AD_BREAK_ENDED),a=!1,s=null}),B=u(function(){i.publishEvent(e.Analytics.EVENTS.AD_SKIPPED)}),G=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.AdErrorData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.AD_ERROR,[r])}),Y=u(function(){i.publishEvent(e.Analytics.EVENTS.AD_CLICKTHROUGH_OPENED)}),j=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.FullscreenChangedData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.FULLSCREEN_CHANGED,[r])}),W=u(function(t,n){var r;try{r=new e.Analytics.EVENT_DATA.VolumeChangedData(n)}catch(a){et(t),r={}}i.publishEvent(e.Analytics.EVENTS.VOLUME_CHANGED,[r])}),K=u(function(){i.publishEvent(e.Analytics.EVENTS.DESTROY)}),q=u(function(t,n){n===e.VIDEO.MAIN&&i.publishEvent(e.Analytics.EVENTS.VIDEO_CONTENT_COMPLETED)}),z=u(function(t,n){n===e.VIDEO.ADS&&r&&!o&&(o=!0,i.publishEvent(e.Analytics.EVENTS.AD_IMPRESSION))}),X=u(function(t,n,r){var a;try{a=new e.Analytics.EVENT_DATA.VideoErrorData(r)}catch(s){et(t),a={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_ERROR,[a])}),$=u(function(t,n){if(n){var r=n.videoId;if(r===e.VIDEO.MAIN){var a=null;try{a=new e.Analytics.EVENT_DATA.VideoElementData(n.streamUrl)}catch(s){et(t),a={}}i.publishEvent(e.Analytics.EVENTS.VIDEO_ELEMENT_CREATED,[a])}}}),Q=u(function(t,n){if(n&&n.code){var r=n.code,a=Z(r);if(a){var s,o=e.getLocalizedMessage(r);switch(a){case"SAS":s=new e.Analytics.EVENT_DATA.AuthorizationErrorData(r,o),i.publishEvent(e.Analytics.EVENTS.ERROR.AUTHORIZATION,[s]);break;case"PLAYBACK":s=new e.Analytics.EVENT_DATA.VideoPlaybackErrorData(r,o),i.publishEvent(e.Analytics.EVENTS.ERROR.VIDEO_PLAYBACK,[s]);break;case"METADATA_LOADING":s=new e.Analytics.EVENT_DATA.MetadataLoadingErrorData(r,o),i.publishEvent(e.Analytics.EVENTS.ERROR.METADATA_LOADING,[s]);break;case"GENERAL":s=new e.Analytics.EVENT_DATA.GeneralErrorData(r,o),i.publishEvent(e.Analytics.EVENTS.ERROR.GENERAL,[s])}}else J("error while reporting error message - error code does not fall under a recognized category. error code provided is: "+r)}else J("error while reporting error message - expected errorData is malformed: "+n)}),Z=u(function(e){for(var n=null,i=t.keys(l),r=0;r<i.length;r++){var a=i[r],s=t.values(l[a]);if(t.contains(s,e)){n=a;break}}return n}),J=u(function(e){return"Error AnalyticsFrameworkTranslator: "+e}),et=u(function(t){e.log(J(t+" data changed and is causing an error."))});return c}),function(e,t,n){e.AnalyticsBase=function(){},n.extend(e.AnalyticsBase.prototype,{loadSucceed:function(){},reportEvent:function(){throw"Please override this function"},setup:function(e,t,i){this.mb=e,this.elementId=t,this._loaded=!1,this._bufferedEvents=[],this.mb.subscribe("*",i,n.bind(this._onAnalyticsEvent,this))},loadExternalAnalyticsJs:function(i){t.getScriptRetry(i,n.bind(this._onLoaded,this),{error:function(){e.log("can not load url",i)}})},_onLoaded:function(){this._loaded=!0,this.loadSucceed(),this._bufferedEvents&&n.each(this._bufferedEvents,function(e){this._safeReportEvent.apply(this,e)},this)},_onAnalyticsEvent:function(){this._loaded?this._safeReportEvent.apply(this,arguments):this._bufferedEvents.push(arguments)},_safeReportEvent:function(){try{this.reportEvent.apply(this,arguments)}catch(t){e.log("can not log event")}},__place_holder:!0})}(e,e.$,e._),function(e,t,n){var i="ooyala_analytics",r=e.inherit(e.AnalyticsBase,function(t,r){e.requiredInEnvironment("html5-playback")&&(this.setup(t,r,i),this.lastEmbedCode="",this.currentEmbedcode="",this.playingInstreamAd=!1,this.guid=void 0,this.accountId=void 0,this.accountIdSet=!1,this.guidSet=!1,this.parameters=void 0,this.documentUrl=void 0,t.subscribe(e.EVENTS.AUTHORIZATION_FETCHED,i,n.bind(this._onAuthorizationFetched,this)),t.subscribe(e.EVENTS.ERROR,i,n.bind(this._onErrorEvent,this)),t.subscribe(e.EVENTS.GUID_SET,i,n.bind(this._onGuidSet,this)),t.subscribe(e.EVENTS.REPORT_DISCOVERY_IMPRESSION,i,n.bind(this._onReportDiscoveryImpression,this)),t.subscribe(e.EVENTS.REPORT_DISCOVERY_CLICK,i,n.bind(this._onReportDiscoveryClick,this)),t.subscribe(e.EVENTS.PLAYER_CREATED,i,n.bind(this._onPlayerCreated,this)))});n.extend(r.prototype,{_onGuidSet:function(e,t){this.guid=t,this.guidSet=!0,this._onGuidAndAccountIdSet()},_onPlayerCreated:function(e,t,n){this.parameters=n,this.parameters&&this.parameters.docUrl?this.documentUrl=this.parameters.docUrl:this.parameters&&this.parameters.flashParams&&this.parameters.flashParams.docUrl&&(this.documentUrl=this.parameters.flashParams.docUrl)},_onAuthorizationFetched:function(t,r){r.user_info&&r.user_info.account_id?this.accountId=r.user_info.account_id:r.debug_data&&r.debug_data.user_info&&r.debug_data.user_info.account_id&&(this.accountId=r.debug_data.user_info.account_id),this.mb.unsubscribe(e.EVENTS.ERROR,i),this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,i),n.isNumber(this.accountId)&&(this.accountId=this.accountId.toString()),n.isString(this.accountId)?e.d("OO.OoyalaAnalytics: SAS authorization fetched with accountId == "+this.accountId):(this.accountId=void 0,e.d("OO.OoyalaAnalytics: SAS authorization fetched without an accountId")),this.accountIdSet=!0,this._onGuidAndAccountIdSet()},_onGuidAndAccountIdSet:function(){this.guidSet&&this.accountIdSet&&(e.d("Loading Analtics Module..."),this.loadExternalAnalyticsJs(e.URLS.ANALYTICS({server:e.SERVER.ANALYTICS})))},_onErrorEvent:function(t,i){if(i&&i.code){var r=i.code,a=!1;n.each(e.ERROR.API.SAS,function(e){e===r&&(a=!0)}),a&&this._onAuthorizationError(t,r)}},_onAuthorizationError:function(){this.mb.unsubscribe(e.EVENTS.ERROR,i),this.mb.unsubscribe(e.EVENTS.AUTHORIZATION_FETCHED,i),e.d("OO.OoyalaAnalytics: SAS authorization failed, loading external analytics module ..."),this.loadExternalAnalyticsJs(e.URLS.ANALYTICS({server:e.SERVER.ANALYTICS}))},_onReportDiscoveryImpression:function(t,n){if(this.reporter)try{this.reporter.reportDiscoveryImpression(n.relatedVideos,n.custom)}catch(i){e.log("Failed to report a discovery impression event with params "+JSON.stringify(n)+": "+i)}},_onReportDiscoveryClick:function(t,n){if(this.reporter)try{this.reporter.reportDiscoveryClick(n.clickedVideo,n.custom)}catch(i){e.log("Failed to report a discovery click event with params "+JSON.stringify(n)+": "+i)}},loadSucceed:function(){if(window.Ooyala&&window.Ooyala.Reporter&&(r.Reporter=Ooyala.Reporter,r.Pinger=Ooyala.Pinger,this.reporter=null,e.playerParams.pcode)){var t={accountId:this.accountId,guid:this.guid,playerBrandingId:e.playerParams.playerBrandingId};this.documentUrl&&(t=n.extend(t,{documentUrl:this.documentUrl})),this.reporter=new r.Reporter(e.playerParams.pcode,t)}},reportEvent:function(t,i,r){if(this.reporter)switch(t){case e.EVENTS.PLAYER_CREATED:this.reporter.reportPlayerLoad();break;case e.EVENTS.EMBED_CODE_CHANGED:this.lastEmbedCode=i!=this.currentEmbedcode?this.currentEmbedcode:"",this.currentEmbedcode=i;break;case e.EVENTS.CONTENT_TREE_FETCHED:this.reporter.initializeVideo(this.currentEmbedcode,i.duration);break;case e.EVENTS.WILL_PLAY_FROM_BEGINNING:this.lastEmbedCode===this.currentEmbedcode?this.reporter.reportReplay():(this.reporter.reportVideoStarted(),this.lastEmbedCode=this.currentEmbedcode);break;case e.EVENTS.WILL_PLAY_ADS:this.playingInstreamAd=!0;var a=Ooyala.Reporter.AdSource.UNKNOWN;i&&i.type&&"string"==typeof i.type&&(a=Ooyala.Reporter.AdSource[i.type.toUpperCase()]),this.reporter.setAdSource(a,this.currentEmbedcode,i&&i.click_url),this.reporter.reportAdImpression();break;case e.EVENTS.ADS_PLAYED:this.playingInstreamAd=!1;break;case e.EVENTS.ADS_CLICKED:this.reporter.reportAdClickToVideo();break;case e.EVENTS.PLAYHEAD_TIME_CHANGED:if(this.playingInstreamAd)this.reporter.reportAdPlaythrough(i,r);else{var s="undefined"!=typeof arguments[6]?arguments[6]:i;n.isFinite(s)&&s>0&&this.reporter.reportPlayheadUpdate(Math.floor(1e3*s))}break;case e.EVENTS.REPORT_EXPERIMENT_VARIATIONS:this.reporter.reportExperimentVariation(i.variationIds);break;case e.EVENTS.INITIAL_PLAY:this.reporter.reportPlayRequested()}},__place_holder:!0}),e.registerModule(i,function(e,t){return new r(e,t)})}(e,e.$,e._),e.plugin("Librato",function(e,t,n){var i=Math.floor(10*Math.random());if(i>0)return function(){};var r="-above-range",a="-below-range",s="-within-range",o={events:[{name:"v4-load-time",low:500,high:2e3},{name:"v4-playback-ready",low:1e3,high:3e3},{name:"v4-time-to-first-content-frame",low:1e3,high:5e3},{name:"v4-time-to-first-ad-frame",low:1e3,high:5e3}]},l=function(){this.basic_auth_token="abelrios@ooyala.com:95d53e8841835839469f2a2f96fd95b564342ffadff759ad9d49f1897805db1b",this.basic_auth_token=window.btoa?btoa(this.basic_auth_token):window.base64.encode(this.basic_auth_token),this.source=this._generateSourceString()};t.extend(l.prototype,{_measureDurationMilli:function(e,t){return t-e},_addMetricValue:function(e,t,n){return e[t]={value:n,source:this.source},e},_reportSingleMetric:function(e,t){var n={};this._addMetricValue(n,e,t),this._sendReport(n)},_sendReport:function(e){n.ajax({url:"https://metrics-api.librato.com/v1/metrics",type:"post",data:{gauges:e},dataType:"json",headers:{Authorization:"Basic "+this.basic_auth_token},success:function(){}})},_getThresholdText:function(e,t){var n=s;return e>t.high?n=r:e<t.low&&(n=a),t.name+n},_matchEvent:function(e){var n;return t.each(o.events,function(t){t.name===e&&(n=t)}),n},_generateSourceString:function(){var n={},i=t.template("<%= platform %>-<%= os %>-<%= browser %>");return n.platform=e.featureEnabled("flash-playback")?"flash":"html5",n.os=e.isIos?"ios":e.isAndroid?"android":e.isMacOs?"macosx":e.isWinPhone?"winphone":e.isWindows?"windows":"generic",n.browser=e.isChrome?"chrome":e.isFirefox?"firefox":e.isIE11Plus?"ie11plus":e.isIE?"ieold":e.isSafari?"safari":"generic",i(n)},start:function(){var e={};if(this._addMetricValue(e,"v4-load",1),window.performance&&window.performance.getEntries){var n=".*v4.*core",i=t.find(window.performance.getEntriesByType("resource"),function(e){return e.name.match(n)});i&&i.duration>0&&this._addMetricValue(e,this._getThresholdText(i.duration,this._matchEvent("v4-load-time")),1)}this._sendReport(e)}});var u=new l;t.defer(t.bind(u.start,u));var c=function(n,i){this.id=i,this.mb=n,this.initializationTs=this._takeTimestamp(),this.mb.subscribe(e.EVENTS.SET_EMBED_CODE,"librato",t.bind(this._onSetEmbedCode,this)),this.mb.subscribe(e.EVENTS.PLAYBACK_READY,"librato",t.bind(this._onPlaybackReady,this)),this.mb.subscribe(e.EVENTS.INITIAL_PLAY,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.PLAY,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.PLAYING,"librato",t.bind(this._onInitialPlay,this)),this.mb.subscribe(e.EVENTS.ADS_PLAYED,"librato",t.bind(this._onAdsPlayed,this)),this.mb.subscribe(e.EVENTS.PLAYHEAD_TIME_CHANGED,"librato",t.bind(this._onPlayheadTimeChanged,this)),this.mb.subscribe(e.EVENTS.PLAY_FAILED,"librato",t.bind(this._onPlayerPlayFailure,this)),this.mb.subscribe(e.EVENTS.ERROR,"librato",t.bind(this._onPlayerError,this)),this.mb.subscribe(e.EVENTS.WILL_PLAY_ADS,"librato",t.bind(this._willPlayAds,this))};return t.extend(c.prototype,{_takeTimestamp:function(){return(new Date).getTime()},_onSetEmbedCode:function(){this.setEmbedCodeTs=this._takeTimestamp(),this.wasPlayStartReported=!1,this.wasTimeToFirstFrameReported=!1,this.wasTimeToFirstAdFrameReported=!1,this.adsPlaying=!1},_onPlaybackReady:function(){u._reportSingleMetric("v4-playback-ready",1),this.playbackReadyTs=this._takeTimestamp();var e=u._measureDurationMilli(this.setEmbedCodeTs,this.playbackReadyTs);u._reportSingleMetric(u._getThresholdText(e,u._matchEvent("v4-playback-ready")),1)},_onInitialPlay:function(){this.wasPlayStartReported||(this.lastStateChangeTs=this._takeTimestamp(),this.wasPlayStartReported=!0,u._reportSingleMetric("v4-play",1))},_willPlayAds:function(){this.lastStateChangeTs=this._takeTimestamp(),this.adsPlaying=!0,u._reportSingleMetric("v4-play-ad",1)},_onAdsPlayed:function(){this.lastStateChangeTs=this._takeTimestamp(),this.adsPlaying=!1},_onPlayheadTimeChanged:function(e,t){if(!(this.wasTimeToFirstFrameReported&&this.wasTimeToFirstAdFrameReported||!t||0>=t)){this.firstFrameTs=this._takeTimestamp();var n=u._measureDurationMilli(this.lastStateChangeTs,this.firstFrameTs);this.wasTimeToFirstFrameReported||this.adsPlaying||(u._reportSingleMetric(u._getThresholdText(n,u._matchEvent("v4-time-to-first-content-frame")),1),this.wasTimeToFirstFrameReported=!0),this.adsPlaying&&!this.wasTimeToFirstAdFrameReported&&(u._reportSingleMetric(u._getThresholdText(n,u._matchEvent("v4-time-to-first-ad-frame")),1),this.wasTimeToFirstAdFrameReported=!0)}},_onPlayerPlayFailure:function(){u._reportSingleMetric("v4-play-fail",1)},_onPlayerError:function(){this.errorTs=this._takeTimestamp(),u._reportSingleMetric("v4-error",1)}}),c}),function(e,t){t.event.special.mresize={add:function(){var e=t(this);e.data("mresize")||("static"===e.css("position")&&e.css("position","relative"),e.append("<div class='resize' style='position:absolute; width:auto; height:auto; top:0; right:0; bottom:0; left:0; margin:0; padding:0; overflow:hidden; visibility:hidden; z-index:-1'><iframe style='width:100%; height:0; border:0; visibility:visible; margin:0' /><iframe style='width:0; height:100%; border:0; visibility:visible; margin:0' /></div>").data("mresize",{w:e.width(),h:e.height(),t:null,throttle:100}).find(".resize iframe").each(function(){t(this.contentWindow||this).on("resize",function(){var t=e.data("mresize");(t.w!==e.width()||t.h!==e.height())&&(t.t&&clearTimeout(t.t),t.t=setTimeout(function(){e.triggerHandler("mresize"),t.w=e.width(),t.h=e.height()},t.throttle))})}))},remove:function(){t(this).removeData("mresize").find(".resize").remove()}}}(e,e.$,e._),e.exposeStaticApi("EVENTS",e.EVENTS),e.exposeStaticApi("CONSTANTS",e.CONSTANTS),e.publicApi.log=e.log,e.exposeStaticApi("ERROR",e.ERROR),e.exposeStaticApi("STATE",e.STATE),e.exposeStaticApi("VERSION",e.VERSION),e.exposeStaticApi("VIDEO",e.VIDEO),e.publicApi.$=e.$,e.publicApi._=e._,e.publicApi.__static.apiReady=!0,e.$(document).ready(function(){e.publicApi.__static.docReady=!0,e.tryCallReady()})}()}catch(err){err&&window.console&&window.console.log&&window.console.log(err,err.stack)}