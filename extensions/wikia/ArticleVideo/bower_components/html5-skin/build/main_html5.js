!function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(){OO||(OO={})},{}],2:[function(e){e("./InitOOUnderscore.js");var t={};window&&!window.debugHazmat&&(t={warn:function(){}}),OO.HM||"undefined"!=typeof window&&"undefined"!=typeof window._?window.Hazmat||e("hazmat"):OO.HM=e("hazmat").create(t),OO.HM||(OO.HM=window.Hazmat.noConflict().create(t))},{"./InitOOUnderscore.js":3,hazmat:7}],3:[function(e){e("./InitOO.js"),window._||(window._=e("underscore")),OO._||(OO._=window._.noConflict())},{"./InitOO.js":1,underscore:8}],4:[function(){!function(e,t){e.STATE={LOADING:"loading",READY:"ready",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering",ERROR:"error",DESTROYED:"destroyed",__end_marker:!0},e.EVENTS={PLAYER_CREATED:"playerCreated",PLAYER_EMBEDDED:"playerEmbedded",SET_EMBED_CODE:"setEmbedCode",SET_EMBED_CODE_AFTER_OOYALA_AD:"setEmbedCodeAfterOoyalaAd",EMBED_CODE_CHANGED:"embedCodeChanged",SET_ASSET:"setAsset",ASSET_CHANGED:"assetChanged",UPDATE_ASSET:"updateAsset",ASSET_UPDATED:"assetUpdated",AUTH_TOKEN_CHANGED:"authTokenChanged",GUID_SET:"guidSet",WILL_FETCH_PLAYER_XML:"willFetchPlayerXml",PLAYER_XML_FETCHED:"playerXmlFetched",WILL_FETCH_CONTENT_TREE:"willFetchContentTree",SAVE_PLAYER_SETTINGS:"savePlayerSettings",CONTENT_TREE_FETCHED:"contentTreeFetched",WILL_FETCH_METADATA:"willFetchMetadata",METADATA_FETCHED:"metadataFetched",SKIN_METADATA_FETCHED:"skinMetadataFetched",THUMBNAILS_FETCHED:"thumbnailsFetched",WILL_FETCH_AUTHORIZATION:"willFetchAuthorization",AUTHORIZATION_FETCHED:"authorizationFetched",WILL_FETCH_AD_AUTHORIZATION:"willFetchAdAuthorization",AD_AUTHORIZATION_FETCHED:"adAuthorizationFetched",CAN_SEEK:"canSeek",WILL_RESUME_MAIN_VIDEO:"willResumeMainVideo",PLAYBACK_READY:"playbackReady",INITIAL_PLAY:"initialPlay",WILL_PLAY:"willPlay",REPLAY:"replay",PLAYHEAD_TIME_CHANGED:"playheadTimeChanged",BUFFERING:"buffering",BUFFERED:"buffered",DOWNLOADING:"downloading",BITRATE_INFO_AVAILABLE:"bitrateInfoAvailable",SET_TARGET_BITRATE:"setTargetBitrate",BITRATE_CHANGED:"bitrateChanged",CLOSED_CAPTIONS_INFO_AVAILABLE:"closedCaptionsInfoAvailable",SET_CLOSED_CAPTIONS_LANGUAGE:"setClosedCaptionsLanguage",CLOSED_CAPTION_CUE_CHANGED:"closedCaptionCueChanged",ASSET_DIMENSION:"assetDimension",SCRUBBING:"scrubbing",SCRUBBED:"scrubbed",SEEK:"seek",SEEKED:"seeked",PLAY:"play",PLAYING:"playing",PLAY_FAILED:"playFailed",PAUSE:"pause",PAUSED:"paused",PLAYED:"played",DISPLAY_CUE_POINTS:"displayCuePoints",INSERT_CUE_POINT:"insertCuePoint",RESET_CUE_POINTS:"resetCuePoints",WILL_CHANGE_FULLSCREEN:"willChangeFullscreen",FULLSCREEN_CHANGED:"fullscreenChanged",SIZE_CHANGED:"sizeChanged",CHANGE_VOLUME:"changeVolume",VOLUME_CHANGED:"volumeChanged",CONTROLS_SHOWN:"controlsShown",CONTROLS_HIDDEN:"controlsHidden",END_SCREEN_SHOWN:"endScreenShown",ERROR:"error",DESTROY:"destroy",WILL_PLAY_FROM_BEGINNING:"willPlayFromBeginning",DISABLE_PLAYBACK_CONTROLS:"disablePlaybackControls",ENABLE_PLAYBACK_CONTROLS:"enablePlaybackControls",VC_READY:"videoControllerReady",VC_CREATE_VIDEO_ELEMENT:"videoControllerCreateVideoElement",VC_UPDATE_ELEMENT_STREAM:"videoControllerUpdateElementStream",VC_VIDEO_ELEMENT_CREATED:"videoControllerVideoElementCreated",VC_FOCUS_VIDEO_ELEMENT:"videoControllerFocusVideoElement",VC_VIDEO_ELEMENT_IN_FOCUS:"videoControllerVideoElementInFocus",VC_VIDEO_ELEMENT_LOST_FOCUS:"videoControllerVideoElementLostFocus",VC_DISPOSE_VIDEO_ELEMENT:"videoControllerDisposeVideoElement",VC_VIDEO_ELEMENT_DISPOSED:"videoControllerVideoElementDisposed",VC_SET_VIDEO_STREAMS:"videoControllerSetVideoStreams",VC_ERROR:"videoControllerError",VC_SET_INITIAL_TIME:"videoSetInitialTime",VC_PLAY:"videoPlay",VC_WILL_PLAY:"videoWillPlay",VC_PLAYING:"videoPlaying",VC_PLAYED:"videoPlayed",VC_PLAY_FAILED:"videoPlayFailed",VC_PAUSE:"videoPause",VC_PAUSED:"videoPaused",VC_SEEK:"videoSeek",VC_SEEKING:"videoSeeking",VC_SEEKED:"videoSeeked",VC_PRELOAD:"videoPreload",VC_RELOAD:"videoReload",VC_PRIME_VIDEOS:"videoPrimeVideos",VC_TAG_FOUND:"videoTagFound",WILL_FETCH_ADS:"willFetchAds",DISABLE_SEEKING:"disableSeeking",ENABLE_SEEKING:"enableSeeking",WILL_PLAY_ADS:"willPlayAds",WILL_PLAY_SINGLE_AD:"willPlaySingleAd",WILL_PAUSE_ADS:"willPauseAds",WILL_RESUME_ADS:"willResumeAds",WILL_PLAY_NONLINEAR_AD:"willPlayNonlinearAd",PLAY_NONLINEAR_AD:"playNonlinearAd",NONLINEAR_AD_DISPLAYED:"nonlinearAdDisplayed",ADS_PLAYED:"adsPlayed",SINGLE_AD_PLAYED:"singleAdPlayed",ADS_ERROR:"adsError",ADS_CLICKED:"adsClicked",FIRST_AD_FETCHED:"firstAdFetched",AD_CONFIG_READY:"adConfigReady",WILL_SHOW_COMPANION_ADS:"willShowCompanionAds",AD_FETCH_FAILED:"adFetchFailed",MIDROLL_PLAY_FAILED:"midrollPlayFailed",SKIP_AD:"skipAd",UPDATE_AD_COUNTDOWN:"updateAdCountdown",REPORT_EXPERIMENT_VARIATIONS:"reportExperimentVariations",FETCH_STYLE:"fetchStyle",STYLE_FETCHED:"styleFetched",SET_STYLE:"setStyle",USE_SERVER_SIDE_HLS_ADS:"useServerSideHlsAds",LOAD_ALL_VAST_ADS:"loadAllVastAds",ADS_FILTERED:"adsFiltered",ADS_MANAGER_HANDLING_ADS:"adsManagerHandlingAds",ADS_MANAGER_FINISHED_ADS:"adsManagerFinishedAds",OVERLAY_RENDERING:"overlayRendering",SHOW_AD_CONTROLS:"showAdControls",SHOW_AD_MARQUEE:"showAdMarquee",PAGE_UNLOAD_REQUESTED:"pageUnloadRequested",PAGE_PROBABLY_UNLOADING:"pageProbablyUnloading",REPORT_DISCOVERY_IMPRESSION:"reportDiscoveryImpression",REPORT_DISCOVERY_CLICK:"reportDiscoveryClick",PLAYLISTS_READY:"playlistReady",UI_READY:"uiReady",__end_marker:!0},e.ERROR={API:{NETWORK:"network",SAS:{GENERIC:"sas",GEO:"geo",DOMAIN:"domain",FUTURE:"future",PAST:"past",DEVICE:"device",PROXY:"proxy",CONCURRENT_STREAMS:"concurrent_streams",INVALID_HEARTBEAT:"invalid_heartbeat",ERROR_DEVICE_INVALID_AUTH_TOKEN:"device_invalid_auth_token",ERROR_DEVICE_LIMIT_REACHED:"device_limit_reached",ERROR_DEVICE_BINDING_FAILED:"device_binding_failed",ERROR_DEVICE_ID_TOO_LONG:"device_id_too_long",ERROR_DRM_RIGHTS_SERVER_ERROR:"drm_server_error",ERROR_DRM_GENERAL_FAILURE:"drm_general_failure",ERROR_INVALID_ENTITLEMENTS:"invalid_entitlements"},CONTENT_TREE:"content_tree",METADATA:"metadata"},PLAYBACK:{GENERIC:"playback",STREAM:"stream",LIVESTREAM:"livestream",NETWORK:"network_error"},CHROMECAST:{MANIFEST:"chromecast_manifest",MEDIAKEYS:"chromecast_mediakeys",NETWORK:"chromecast_network",PLAYBACK:"chromecast_playback"},UNPLAYABLE_CONTENT:"unplayable_content",INVALID_EXTERNAL_ID:"invalid_external_id",EMPTY_CHANNEL:"empty_channel",EMPTY_CHANNEL_SET:"empty_channel_set",CHANNEL_CONTENT:"channel_content",VC:{UNSUPPORTED_ENCODING:"unsupported_encoding",UNABLE_TO_CREATE_VIDEO_ELEMENT:"unable_to_create_video_element"}},e.URLS={VAST_PROXY:t.template("http://player.ooyala.com/nuplayer/mobile_vast_ads_proxy?callback=<%=cb%>&embed_code=<%=embedCode%>&expires=<%=expires%>&tag_url=<%=tagUrl%>"),EXTERNAL_ID:t.template("<%=server%>/player_api/v1/content_tree/external_id/<%=pcode%>/<%=externalId%>"),CONTENT_TREE:t.template("<%=server%>/player_api/v1/content_tree/embed_code/<%=pcode%>/<%=embedCode%>"),METADATA:t.template("<%=server%>/player_api/v1/metadata/embed_code/<%=playerBrandingId%>/<%=embedCode%>?videoPcode=<%=pcode%>"),SAS:t.template("<%=server%>/player_api/v1/authorization/embed_code/<%=pcode%>/<%=embedCode%>"),ANALYTICS:t.template("<%=server%>/reporter.js"),THUMBNAILS:t.template("<%=server%>/api/v1/thumbnail_images/<%=embedCode%>"),__end_marker:!0},e.VIDEO={MAIN:"main",ADS:"ads",ENCODING:{DRM:{HLS:"hls_drm",DASH:"dash_drm"},AUDIO:"audio",DASH:"dash",HDS:"hds",HLS:"hls",IMA:"ima",PULSE:"pulse",MP4:"mp4",YOUTUBE:"youtube",RTMP:"rtmp",SMOOTH:"smooth",WEBM:"webm",AKAMAI_HD_VOD:"akamai_hd_vod",AKAMAI_HD2_VOD_HLS:"akamai_hd2_vod_hls",AKAMAI_HD2_VOD_HDS:"akamai_hd2_vod_hds",AKAMAI_HD2_HDS:"akamai_hd2_hds",AKAMAI_HD2_HLS:"akamai_hd2_hls",FAXS_HLS:"faxs_hls",WIDEVINE_HLS:"wv_hls",WIDEVINE_MP4:"wv_mp4",WIDEVINE_WVM:"wv_wvm",UNKNOWN:"unknown"},FEATURE:{CLOSED_CAPTIONS:"closedCaptions",VIDEO_OBJECT_SHARING_GIVE:"videoObjectSharingGive",VIDEO_OBJECT_SHARING_TAKE:"videoObjectSharingTake",BITRATE_CONTROL:"bitrateControl"},TECHNOLOGY:{FLASH:"flash",HTML5:"html5",MIXED:"mixed",OTHER:"other"}},e.CSS={VISIBLE_POSITION:"0px",INVISIBLE_POSITION:"-100000px",VISIBLE_DISPLAY:"block",INVISIBLE_DISPLAY:"none",VIDEO_Z_INDEX:1e4,SUPER_Z_INDEX:2e4,ALICE_SKIN_Z_INDEX:11e3,OVERLAY_Z_INDEX:10500,TRANSPARENT_COLOR:"rgba(255, 255, 255, 0)",__end_marker:!0},e.TEMPLATES={RANDOM_PLACE_HOLDER:["[place_random_number_here]","<now>","[timestamp]","<rand-num>","[cache_buster]","[random]"],REFERAK_PLACE_HOLDER:["[referrer_url]","[LR_URL]"],EMBED_CODE_PLACE_HOLDER:["[oo_embedcode]"],MESSAGE:'                  <table width="100%" height="100%" bgcolor="black" style="padding-left:55px; padding-right:55px;                   background-color:black; color: white;">                  <tbody>                  <tr valign="middle">                  <td align="right"><span style="font-family:Arial; font-size:20px">                  <%= message %>                  </span></td></tr></tbody></table>                  ',__end_marker:!0},e.CONSTANTS={AD_PLAY_COUNT_KEY:"oo_ad_play_count",AD_ID_TO_PLAY_COUNT_DIVIDER:":",AD_PLAY_COUNT_DIVIDER:"|",MAX_AD_PLAY_COUNT_HISTORY_LENGTH:20,CONTROLS_BOTTOM_PADDING:10,SEEK_TO_END_LIMIT:4,CLOSED_CAPTIONS:{SHOWING:"showing",HIDDEN:"hidden",DISABLED:"disabled"},OOYALA_PLAYER_SETTINGS_KEY:"ooyala_player_settings",__end_marker:!0}}(OO,OO._)},{}],5:[function(){!function(e,t,n){e.playerParams=n.safeObject("environment.playerParams",e.playerParams,{}),e.configurePublisher=function(t){e.playerParams.pcode=t.pcode||e.playerParams.pcode||"",e.playerParams.playerBrandingId=t.playerBrandingId||e.playerParams.playerBrandingId||"",e.playerParams.debug=t.debug||e.playerParams.debug||""},e.isPublisherConfigured=function(){return!(!e.playerParams.pcode||!e.playerParams.playerBrandingId)},e.setServerHost=function(t){e.playerParams.api_ssl_server=t.api_ssl_server||e.playerParams.api_ssl_server||null,e.playerParams.api_server=t.api_server||e.playerParams.api_server||null,e.playerParams.auth_ssl_server=t.auth_ssl_server||e.playerParams.auth_ssl_server||null,e.playerParams.auth_server=t.auth_server||e.playerParams.auth_server||null,e.playerParams.analytics_ssl_server=t.analytics_ssl_server||e.playerParams.analytics_ssl_server||null,e.playerParams.analytics_server=t.analytics_server||e.playerParams.analytics_server||null,r()};var r=function(){e.SERVER={API:e.isSSL?e.playerParams.api_ssl_server||"https://player.ooyala.com":e.playerParams.api_server||"http://player.ooyala.com",AUTH:e.isSSL?e.playerParams.auth_ssl_server||"https://player.ooyala.com/sas":e.playerParams.auth_server||"http://player.ooyala.com/sas",ANALYTICS:e.isSSL?e.playerParams.analytics_ssl_server||"https://player.ooyala.com":e.playerParams.analytics_server||"http://player.ooyala.com"}};e.playerParams.tweaks=e.playerParams.tweaks||"",e.playerParams.tweaks=n.safeString("environment.playerParams.tweaks",e.playerParams.tweaks,""),e.playerParams.tweaks=e.playerParams.tweaks.split(","),e.tweaks={},e.tweaks["android-enable-hls"]=t.contains(e.playerParams.tweaks,"android-enable-hls"),e.tweaks["html5-force-mp4"]=t.contains(e.playerParams.tweaks,"html5-force-mp4"),e.playerParams.maxAdsTimeout=e.playerParams.maxAdsTimeout||5,e.playerParams.maxVastWrapperDepth=e.playerParams.maxVastWrapperDepth||3,e.playerParams.minLiveSeekWindow=e.playerParams.minLiveSeekWindow||10,e.guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)}),e.playerCount=0,e.isProd=!(!e.playerParams.environment||!e.playerParams.environment.match(/^prod/i)),e.platform=window.navigator.platform,e.os=window.navigator.appVersion,e.supportsVideo=!!document.createElement("video").canPlayType,e.browserSupportsCors=function(){try{return t.has(new XMLHttpRequest,"withCredentials")||t.has(XMLHttpRequest.prototype,"withCredentials")}catch(e){return!1}}(),e.isWindows=function(){return!!e.platform.match(/Win/)}(),e.isIos=function(){return!!e.platform.match(/iPhone|iPad|iPod/)}(),e.isIphone=function(){return!!e.platform.match(/iPhone|iPod/)}(),e.isIpad=function(){return!!e.platform.match(/iPad/)}(),e.iosMajorVersion=function(){try{return e.isIos?parseInt(window.navigator.userAgent.match(/OS (\d+)/)[1],10):null}catch(t){return null}}(),e.isAndroid=function(){return!(!e.os.match(/Android/)||e.os.match(/Windows Phone/))}(),e.isAndroid4Plus=function(){var t=e.os.match(/Android [\d\.]*;/);return t&&t.length>0&&(t=parseInt(t[0].substring(t[0].indexOf(" ")+1,t[0].search("[.;]")))),e.isAndroid&&t>=4}(),e.isRimDevice=function(){return!(!e.os.match(/BlackBerry/)&&!e.os.match(/PlayBook/))}(),e.isFirefox=function(){return!!window.navigator.userAgent.match(/Firefox/)}(),e.isChrome=function(){return!!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/Edge/)}(),e.isSafari=function(){return!!window.navigator.userAgent.match(/AppleWebKit/)&&!window.navigator.userAgent.match(/Chrome/)&&!window.navigator.userAgent.match(/like iPhone/)}(),e.chromeMajorVersion=function(){try{return parseInt(window.navigator.userAgent.match(/Chrome.([0-9]*)/)[1],10)}catch(e){return null}}(),e.isIE=function(){return!!window.navigator.userAgent.match(/MSIE/)||!!window.navigator.userAgent.match(/Trident/)}(),e.isEdge=function(){return!!window.navigator.userAgent.match(/Edge/)}(),e.isIE11Plus=function(){if(!window.navigator.userAgent.match(/Trident/))return!1;var e=window.navigator.userAgent.match(/rv:(\d*)/),t=e&&e[1];return t>=11}(),e.isWinPhone=function(){return!!e.os.match(/Windows Phone/)||!!e.os.match(/ZuneWP/)||!!e.os.match(/XBLWP/)}(),e.isSmartTV=function(){return!!window.navigator.userAgent.match(/SmartTV/)||!!window.navigator.userAgent.match(/NetCast/)}(),e.isMacOs=function(){return!e.isIos&&!!e.os.match(/Mac/)&&!window.navigator.userAgent.match(/like iPhone/)}(),e.isMacOsLionOrLater=function(){var t=e.os.match(/Mac OS X ([0-9]+)_([0-9]+)/);return null==t||t.length<3?!1:parseInt(t[1],10)>=10&&parseInt(t[2],10)>=7}(),e.macOsSafariVersion=function(){try{return e.isMacOs&&e.isSafari?parseInt(window.navigator.userAgent.match(/Version\/(\d+)/)[1],10):null}catch(t){return null}}(),e.isKindleHD=function(){return!!e.os.match(/Silk\/2/)}(),e.supportMSE=function(){return"MediaSource"in window||"WebKitMediaSource"in window||"mozMediaSource"in window||"msMediaSource"in window}(),e.supportAds=function(){return!e.isWinPhone&&!e.os.match(/Android [23]/)}(),e.allowGesture=function(){return e.isIos}(),e.allowAutoPlay=function(){return!e.isIos&&!e.isAndroid}(),e.supportTouch=function(){return document.documentElement.hasOwnProperty&&document.documentElement.hasOwnProperty("ontouchstart")?!0:!1}(),e.docDomain=function(){var t=null;try{t=document.domain}catch(n){}return e._.isEmpty(t)?e.isSmartTV?"SmartTV":"unknown":t}(),e.uiParadigm=function(){var t="tablet";return e.isAndroid4Plus&&e.tweaks["android-enable-hls"]?t="tablet":e.isIphone?t="mobile-native":e.os.match(/BlackBerry/)?t="mobile-native":e.os.match(/iPad/)?t="tablet":e.isKindleHD?t="mobile-native":e.os.match(/Silk/)?t="mobile":e.os.match(/Android 2/)?window.orientation%180==0&&window.outerWidth/window.devicePixelRatio<=480?t="mobile":window.outerWidth/window.devicePixelRatio<=560&&(t="mobile"):e.os.match(/Android/)?t="tablet":e.isWinPhone?t="mobile":(e.platform.match(/Mac/)||e.platform.match(/Win/)||e.platform.match(/Linux/))&&(t="desktop"),t}(),e.requiresSingleVideoElement=function(){return e.isIos||e.isAndroid}(),e.supportedVideoProfiles=function(){return e.isIos||e.isAndroid?"baseline":null}(),e.device=function(){var t="html5";return e.isIphone?t="iphone-html5":e.isIpad?t="ipad-html5":e.isAndroid?t="android-html5":e.isRimDevice?t="rim-html5":e.isWinPhone?t="winphone-html5":e.isSmartTV&&(t="smarttv-html5"),t}(),e.environmentRequiredFeatures=function(){var n=[];return e.os.match(/Android 2/)?n.push("html5-playback"):(n.push("html5-playback"),e.supportAds&&n.push("ads")),t.reduce(n,function(e,t){return e+t+" "},"")}(),e.supportMidRollAds=function(){return"desktop"===e.uiParadigm&&!e.isIos&&!e.isRimDevice}(),e.supportCookies=function(){document.cookie="ooyala_cookie_test=true";var e=document.cookie.indexOf("ooyala_cookie_test=true")>=0;return document.cookie="ooyala_cookie_test=; expires=Thu, 01 Jan 1970 00:00:00 GMT",e}(),e.isSSL="https:"==document.location.protocol,r(),e.requiredInEnvironment=e.featureEnabled=function(t){return!!e.environmentRequiredFeatures.match(new RegExp(t))},e.chromeExtensionEnabled=document.getElementById("ooyala-extension-installed")?!0:!1,e.locale="",e.setLocale=function(t){e.locale=t.toUpperCase()},e.getLocale=function(){return(e.locale||document.documentElement.lang||navigator.language||navigator.userLanguage||"en").substr(0,2).toUpperCase()}}(OO,OO._,OO.HM)},{}],6:[function(){!function(e,t,n){e.getRandomString=function(){return Math.random().toString(36).substring(7)},e.safeClone=function(r){if(t.isNumber(r)||t.isString(r)||t.isBoolean(r)||t.isFunction(r)||t.isNull(r)||t.isUndefined(r))return r;var i=r instanceof Array?[]:{};try{n.extend(!0,i,r)}catch(a){e.log("deep clone error",a)}return i},e.d=function(){e.isDebug&&e.log.apply(e,arguments),e.$("#OOYALA_DEBUG_CONSOLE").append(JSON.stringify(e.safeClone(arguments))+"<br>")},e.inherit=function(t,n){if("function"!=typeof t)return e.log("invalid inherit, ParentClass need to be a class",t),null;var r=function(){t.apply(this,arguments),"function"==typeof n&&n.apply(this,arguments)},i=new t;return e._.extend(r.prototype,i),r.prototype.parentClass=i,r};var r={};e.attachStyle=function(e,t){var i=n('<style type="text/css">'+e+"</style>").appendTo("head");r[t]=r[t]||[],r[t].push(i)},e.removeStyles=function(t){e._.each(r[t],function(e){e.remove()})},e.getInnerProperty=function(e,n){for(var r=e,i=n;i.length>0;){var a=i.shift();if(t.isNull(r)||!t.isObject(r)||t.isFunction(r)||t.isArray(r))return null;r=r[a]}return r},e.formatSeconds=function(e){var t=parseInt(e,10)%60,n=parseInt(e/3600,10),r=parseInt((e-3600*n)/60,10);return 10>n&&(n="0"+n),10>r&&(r="0"+r),10>t&&(t="0"+t),parseInt(n,10)>0?n+":"+r+":"+t:r+":"+t},e.timeStringToSeconds=function(e){var n=(e||"").split(":");return t.reduce(n,function(e,t){return 60*e+parseInt(t,10)},0)},e.leftPadding=function(e,t){for(var n="0",r=e?e.toString():"";r.length<t;)r=n+r;return r},e.getColorString=function(t){return"#"+e.leftPadding(t.toString(16),6).toUpperCase()},e.hexToRgb=function(e){var t=(16711680&e)>>16,n=(65280&e)>>8,r=255&e;return[t,n,r]},e.changeColor=function(t,n,r){var i=r?Math.max:Math.min,a=r?0:255,o=Math.round(255*n)*(r?-1:1),s=e.hexToRgb(t);return[e.leftPadding(i(s[0]+o,a).toString(16),2),e.leftPadding(i(s[1]+o,a).toString(16),2),e.leftPadding(i(s[2]+o,a).toString(16),2)].join("")},e.decode64=function(e){e=e.replace(/\n/g,"");var t,n="",r=0,i=[],a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";if(window.atob)return atob(e);do{for(t=0;4>t;t++)i[t]=a.indexOf(e.charAt(r++));n+=String.fromCharCode(i[0]<<2|i[1]>>4,64==i[2]?0:(15&i[1])<<4|i[2]>>2,64==i[3]?0:(3&i[2])<<6|i[3])}while(r<e.length);return n.replace(/\0/g,"")},e.pixelPing=function(t){var n=new Image;n.onerror=n.onabort=function(){e.d("onerror:",t)},n.src=e.getNormalizedTagUrl(t)},e.pixelPings=function(n){t.isEmpty(n)||t.each(n,function(t){e.pixelPing(t)},this)},e.stringToBoolean=function(e){return"string"==typeof e?e.toLowerCase().indexOf("true")>-1||e.toLowerCase().indexOf("yes")>-1:!!e},e.regexEscape=function(e){var t=/[<>()\[\]{}]/g;return e.replace(t,"\\$&")},e.getNormalizedTagUrl=function(n,r){var i=(new Date).getTime(),a=escape(document.URL),o=function(r,i){t.each(r,function(t){var r=new RegExp("("+e.regexEscape(t)+")","gi");n=n.replace(r,i)},this)};return o(e.TEMPLATES.RANDOM_PLACE_HOLDER,i),o(e.TEMPLATES.REFERAK_PLACE_HOLDER,a),r&&o(e.TEMPLATES.EMBED_CODE_PLACE_HOLDER,r),n},e.safeSeekRange=function(e){return{start:e.length>0?e.start(0):0,end:e.length>0?e.end(0):0}},e.loadedJS=e.loadedJS||{},e.jsOnSuccessList=e.jsOnSuccessList||{},e.safeFuncCall=function(t){if("function"==typeof t)try{t.apply()}catch(n){e.log("Can not invoke function!",n)}},e.loadScriptOnce=function(t,r,i,a){return e.jsOnSuccessList[t]=e.jsOnSuccessList[t]||[],e.loadedJS[t]?("loaded"===e.loadedJS[t]?e.safeFuncCall(r):"loading"===e.loadedJS[t]&&e.jsOnSuccessList[t].unshift(r),!1):(e.loadedJS[t]="loading",n.ajax({url:t,type:"GET",cache:!0,dataType:"script",timeout:a||15e3,success:function(){e.loadedJS[t]="loaded",e.jsOnSuccessList[t].unshift(r),e._.each(e.jsOnSuccessList[t],function(t){e.safeFuncCall(t)},this),e.jsOnSuccessList[t]=[]},error:function(){e.safeFuncCall(i)}}),!0)};try{e.localStorage=window.localStorage}catch(i){e.log(i)}e.localStorage||(e.localStorage={getItem:function(e){return e&&this.hasOwnProperty(e)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},key:function(e){return unescape(document.cookie.replace(/\s*\=(?:.(?!;))*$/,"").split(/\s*\=(?:[^;](?!;))*[^;]?;\s*/)[e])},setItem:function(e,t){e&&(document.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this.length=document.cookie.match(/\=/g).length)},length:0,removeItem:function(e){e&&this.hasOwnProperty(e)&&(document.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this.length--)},hasOwnProperty:function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},e.localStorage.length=(document.cookie.match(/\=/g)||e.localStorage).length),e.setItem=function(t,n){try{e.localStorage.setItem(t,n)}catch(r){e.log(r)}},e.JSON=window.JSON}(OO,OO._,OO.$)},{}],7:[function(e,t,n){var r=function(e,t){var n=function(t){if(this.config=t||{},!e.isObject(this.config))throw new Error("Hazmat is not initialized properly");this.fail=e.isFunction(this.config.fail)?this.config.fail:n.fail,this.warn=e.isFunction(this.config.warn)?this.config.warn:n.warn,this.log=e.isFunction(this.config.log)?this.config.log:n.log};return e.extend(n,{ID_REGEX:/^[\_A-Za-z0-9]+$/,create:function(e){return new n(e)},noConflict:function(){return t.Hazmat=n.original,n},log:function(){console&&e.isFunction(console.log)&&console.log.apply(console,arguments)},fail:function(e,t){var r=e||"",i=t||{};throw n.log("Hazmat Failure::",r,i),new Error("Hazmat Failure "+r.toString())},warn:function(e,t){var r=e||"",i=t||{};n.log("Hazmat Warning::",r,i)},fixDomId:function(t){return e.isString(t)&&t.length>0?t.replace(/[^A-Za-z0-9\_]/g,""):null},isDomId:function(t){return e.isString(t)&&t.match(n.ID_REGEX)},__placeholder:!0}),e.extend(n.prototype,{_safeValue:function(t,n,r,i){var a=r;return e.isFunction(r)&&(r=e.once(function(){try{return a.apply(this,arguments)}catch(e){}})),i.checker(n)?n:i.evalFallback&&e.isFunction(r)&&i.checker(r(n))?(this.warn("Expected valid "+i.name+" for "+t+" but was able to sanitize it:",[n,r(n)]),r(n)):i.checker(a)?(this.warn("Expected valid "+i.name+" for "+t+" but was able to fallback to default value:",[n,a]),a):void this.fail("Expected valid "+i.name+" for "+t+" but received:",n)},safeString:function(t,n,r){return this._safeValue(t,n,r,{name:"String",checker:e.isString,evalFallback:!0})},safeStringOrNull:function(t,n,r){return null==n?n:this._safeValue(t,n,r,{name:"String",checker:e.isString,evalFallback:!0})},safeDomId:function(e,t,r){return this._safeValue(e,t,r,{name:"DOM ID",checker:n.isDomId,evalFallback:!0})},safeFunction:function(t,n,r){return this._safeValue(t,n,r,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeFunctionOrNull:function(t,n,r){return null==n?n:this._safeValue(t,n,r,{name:"Function",checker:e.isFunction,evalFallback:!1})},safeObject:function(t,n,r){return this._safeValue(t,n,r,{name:"Object",checker:e.isObject,evalFallback:!1})},safeObjectOrNull:function(t,n,r){return null==n?n:this._safeValue(t,n,r,{name:"Object",checker:e.isObject,evalFallback:!1})},safeArray:function(t,n,r){return this._safeValue(t,n,r,{name:"Array",checker:e.isArray,evalFallback:!1})},safeArrayOfElements:function(t,n,r,i){var a=this._safeValue(t,n,i,{name:"Array",checker:e.isArray,evalFallback:!1});return e.map(a,r)},__placeholder:!0}),n};if("undefined"!=typeof window&&"undefined"!=typeof window._){var i=r(window._,window);i.original=window.Hazmat,window.Hazmat=i}else{var a=e("underscore"),i=r(a);a.extend(n,i)}},{underscore:8}],8:[function(e,t,n){(function(){function e(t,n,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;if(t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped),t.isEqual&&y.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&y.isFunction(n.isEqual))return n.isEqual(t);var i=d.call(t);if(i!=d.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var a=r.length;a--;)if(r[a]==t)return!0;r.push(t);var o=0,s=!0;if("[object Array]"==i){if(o=t.length,s=o==n.length)for(;o--&&(s=o in t==o in n&&e(t[o],n[o],r)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var l in t)if(y.has(t,l)&&(o++,!(s=y.has(n,l)&&e(t[l],n[l],r))))break;if(s){for(l in n)if(y.has(n,l)&&!o--)break;s=!o}}return r.pop(),s}var r=this,i=r._,a={},o=Array.prototype,s=Object.prototype,l=Function.prototype,u=o.slice,c=o.unshift,d=s.toString,f=s.hasOwnProperty,h=o.forEach,E=o.map,_=o.reduce,m=o.reduceRight,p=o.filter,O=o.every,g=o.some,A=o.indexOf,S=o.lastIndexOf,v=Array.isArray,T=Object.keys,I=l.bind,y=function(e){return new V(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=y),n._=y):r._=y,y.VERSION="1.3.3";var D=y.each=y.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;i>r;r++)if(r in e&&t.call(n,e[r],r,e)===a)return}else for(var o in e)if(y.has(e,o)&&t.call(n,e[o],o,e)===a)return};y.map=y.collect=function(e,t,n){var r=[];return null==e?r:E&&e.map===E?e.map(t,n):(D(e,function(e,i,a){r[r.length]=t.call(n,e,i,a)}),e.length===+e.length&&(r.length=e.length),r)},y.reduce=y.foldl=y.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),_&&e.reduce===_)return r&&(t=y.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(D(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},y.reduceRight=y.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return r&&(t=y.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=y.toArray(e).reverse();return r&&!i&&(t=y.bind(t,r)),i?y.reduce(a,t,n,r):y.reduce(a,t)},y.find=y.detect=function(e,t,n){var r;return N(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},y.filter=y.select=function(e,t,n){var r=[];return null==e?r:p&&e.filter===p?e.filter(t,n):(D(e,function(e,i,a){t.call(n,e,i,a)&&(r[r.length]=e)}),r)},y.reject=function(e,t,n){var r=[];return null==e?r:(D(e,function(e,i,a){t.call(n,e,i,a)||(r[r.length]=e)}),r)},y.every=y.all=function(e,t,n){var r=!0;return null==e?r:O&&e.every===O?e.every(t,n):(D(e,function(e,i,o){return(r=r&&t.call(n,e,i,o))?void 0:a}),!!r)};var N=y.some=y.any=function(e,t,n){t||(t=y.identity);var r=!1;return null==e?r:g&&e.some===g?e.some(t,n):(D(e,function(e,i,o){return r||(r=t.call(n,e,i,o))?a:void 0}),!!r)};y.include=y.contains=function(e,t){var n=!1;return null==e?n:A&&e.indexOf===A?-1!=e.indexOf(t):n=N(e,function(e){return e===t})},y.invoke=function(e,t){var n=u.call(arguments,2);return y.map(e,function(e){return(y.isFunction(t)?t||e:e[t]).apply(e,n)})},y.pluck=function(e,t){return y.map(e,function(e){return e[t]})},y.max=function(e,t,n){if(!t&&y.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&y.isEmpty(e))return-1/0;var r={computed:-1/0};return D(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},y.min=function(e,t,n){if(!t&&y.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&y.isEmpty(e))return 1/0;var r={computed:1/0};return D(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o<r.computed&&(r={value:e,computed:o})}),r.value},y.shuffle=function(e){var t,n=[];return D(e,function(e,r){t=Math.floor(Math.random()*(r+1)),n[r]=n[t],n[t]=e}),n},y.sortBy=function(e,t,n){var r=y.isFunction(t)?t:function(e){return e[t]};return y.pluck(y.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return void 0===n?1:void 0===r?-1:r>n?-1:n>r?1:0}),"value")},y.groupBy=function(e,t){var n={},r=y.isFunction(t)?t:function(e){return e[t]};return D(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},y.sortedIndex=function(e,t,n){n||(n=y.identity);for(var r=0,i=e.length;i>r;){var a=r+i>>1;n(e[a])<n(t)?r=a+1:i=a}return r},y.toArray=function(e){return e?y.isArray(e)?u.call(e):y.isArguments(e)?u.call(e):e.toArray&&y.isFunction(e.toArray)?e.toArray():y.values(e):[]},y.size=function(e){return y.isArray(e)?e.length:y.keys(e).length},y.first=y.head=y.take=function(e,t,n){return null==t||n?e[0]:u.call(e,0,t)},y.initial=function(e,t,n){return u.call(e,0,e.length-(null==t||n?1:t))},y.last=function(e,t,n){return null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},y.rest=y.tail=function(e,t,n){return u.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,function(e){return!!e})},y.flatten=function(e,t){return y.reduce(e,function(e,n){return y.isArray(n)?e.concat(t?n:y.flatten(n)):(e[e.length]=n,e)},[])},y.without=function(e){return y.difference(e,u.call(arguments,1))},y.uniq=y.unique=function(e,t,n){var r=n?y.map(e,n):e,i=[];return e.length<3&&(t=!0),y.reduce(r,function(n,r,a){return(t?y.last(n)===r&&n.length:y.include(n,r))||(n.push(r),i.push(e[a])),n},[]),i},y.union=function(){return y.uniq(y.flatten(arguments,!0))},y.intersection=y.intersect=function(e){var t=u.call(arguments,1);return y.filter(y.uniq(e),function(e){return y.every(t,function(t){return y.indexOf(t,e)>=0})})},y.difference=function(e){var t=y.flatten(u.call(arguments,1),!0);return y.filter(e,function(e){return!y.include(t,e)})},y.zip=function(){for(var e=u.call(arguments),t=y.max(y.pluck(e,"length")),n=new Array(t),r=0;t>r;r++)n[r]=y.pluck(e,""+r);return n},y.indexOf=function(e,t,n){if(null==e)return-1;var r,i;if(n)return r=y.sortedIndex(e,t),e[r]===t?r:-1;if(A&&e.indexOf===A)return e.indexOf(t);for(r=0,i=e.length;i>r;r++)if(r in e&&e[r]===t)return r;return-1},y.lastIndexOf=function(e,t){if(null==e)return-1;if(S&&e.lastIndexOf===S)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},y.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=new Array(r);r>i;)a[i++]=e,e+=n;return a};var C=function(){};y.bind=function(e,t){var n,r;if(e.bind===I&&I)return I.apply(e,u.call(arguments,1));if(!y.isFunction(e))throw new TypeError;return r=u.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(u.call(arguments)));C.prototype=e.prototype;var i=new C,a=e.apply(i,r.concat(u.call(arguments)));return Object(a)===a?a:i}},y.bindAll=function(e){var t=u.call(arguments,1);return 0==t.length&&(t=y.functions(e)),D(t,function(t){e[t]=y.bind(e[t],e)}),e},y.memoize=function(e,t){var n={};return t||(t=y.identity),function(){var r=t.apply(this,arguments);return y.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},y.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=function(e){return y.delay.apply(y,[e,1].concat(u.call(arguments,1)))
},y.throttle=function(e,t){var n,r,i,a,o,s,l=y.debounce(function(){o=a=!1},t);return function(){n=this,r=arguments;var u=function(){i=null,o&&e.apply(n,r),l()};return i||(i=setTimeout(u,t)),a?o=!0:s=e.apply(n,r),l(),a=!0,s}},y.debounce=function(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)};n&&!r&&e.apply(i,a),clearTimeout(r),r=setTimeout(o,t)}},y.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments))}},y.wrap=function(e,t){return function(){var n=[e].concat(u.call(arguments,0));return t.apply(this,n)}},y.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},y.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},y.keys=T||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)y.has(e,n)&&(t[t.length]=n);return t},y.values=function(e){return y.map(e,y.identity)},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=function(e){return D(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},y.pick=function(e){var t={};return D(y.flatten(u.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},y.defaults=function(e){return D(u.call(arguments,1),function(t){for(var n in t)null==e[n]&&(e[n]=t[n])}),e},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isEqual=function(t,n){return e(t,n,[])},y.isEmpty=function(e){if(null==e)return!0;if(y.isArray(e)||y.isString(e))return 0===e.length;for(var t in e)if(y.has(e,t))return!1;return!0},y.isElement=function(e){return!(!e||1!=e.nodeType)},y.isArray=v||function(e){return"[object Array]"==d.call(e)},y.isObject=function(e){return e===Object(e)},y.isArguments=function(e){return"[object Arguments]"==d.call(e)},y.isArguments(arguments)||(y.isArguments=function(e){return!(!e||!y.has(e,"callee"))}),y.isFunction=function(e){return"[object Function]"==d.call(e)},y.isString=function(e){return"[object String]"==d.call(e)},y.isNumber=function(e){return"[object Number]"==d.call(e)},y.isFinite=function(e){return y.isNumber(e)&&isFinite(e)},y.isNaN=function(e){return e!==e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},y.isDate=function(e){return"[object Date]"==d.call(e)},y.isRegExp=function(e){return"[object RegExp]"==d.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return f.call(e,t)},y.noConflict=function(){return r._=i,this},y.identity=function(e){return e},y.times=function(e,t,n){for(var r=0;e>r;r++)t.call(n,r)},y.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},y.result=function(e,t){if(null==e)return null;var n=e[t];return y.isFunction(n)?n.call(e):n},y.mixin=function(e){D(y.functions(e),function(t){F(t,y[t]=e[t])})};var L=0;y.uniqueId=function(e){var t=L++;return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var b=/.^/,P={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var R in P)P[P[R]]=R;var w=/\\|'|\r|\n|\t|\u2028|\u2029/g,k=/\\(\\|'|r|n|t|u2028|u2029)/g,x=function(e){return e.replace(k,function(e,t){return P[t]})};y.template=function(e,t,n){n=y.defaults(n||{},y.templateSettings);var r="__p+='"+e.replace(w,function(e){return"\\"+P[e]}).replace(n.escape||b,function(e,t){return"'+\n_.escape("+x(t)+")+\n'"}).replace(n.interpolate||b,function(e,t){return"'+\n("+x(t)+")+\n'"}).replace(n.evaluate||b,function(e,t){return"';\n"+x(t)+"\n;__p+='"})+"';\n";n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+r+"return __p;\n";var i=new Function(n.variable||"obj","_",r);if(t)return i(t,y);var a=function(e){return i.call(this,e,y)};return a.source="function("+(n.variable||"obj")+"){\n"+r+"}",a},y.chain=function(e){return y(e).chain()};var V=function(e){this._wrapped=e};y.prototype=V.prototype;var M=function(e,t){return t?y(e).chain():e},F=function(e,t){V.prototype[e]=function(){var e=u.call(arguments);return c.call(e,this._wrapped),M(t.apply(y,e),this._chain)}};y.mixin(y),D(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];V.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return"shift"!=e&&"splice"!=e||0!==r||delete n[0],M(n,this._chain)}}),D(["concat","join","slice"],function(e){var t=o[e];V.prototype[e]=function(){return M(t.apply(this._wrapped,arguments),this._chain)}}),V.prototype.chain=function(){return this._chain=!0,this},V.prototype.value=function(){return this._wrapped}}).call(this)},{}],9:[function(e){e("../../../html5-common/js/utils/InitModules/InitOO.js"),e("../../../html5-common/js/utils/InitModules/InitOOUnderscore.js"),e("../../../html5-common/js/utils/InitModules/InitOOHazmat.js"),e("../../../html5-common/js/utils/constants.js"),e("../../../html5-common/js/utils/utils.js"),e("../../../html5-common/js/utils/environment.js"),function(e,t){var n="ooyalaHtml5VideoTech",r={},i=function(){this.name=n,this.features=[OO.VIDEO.FEATURE.CLOSED_CAPTIONS,OO.VIDEO.FEATURE.VIDEO_OBJECT_SHARING_GIVE],this.technology=OO.VIDEO.TECHNOLOGY.HTML5;var e=function(){var e=[],t=document.createElement("video");return"function"==typeof t.canPlayType&&(t.canPlayType("video/mp4")&&e.push(OO.VIDEO.ENCODING.MP4),t.canPlayType("video/webm")&&e.push(OO.VIDEO.ENCODING.WEBM),!t.canPlayType("application/vnd.apple.mpegurl")&&!t.canPlayType("application/x-mpegURL")||OO.isSmartTV||OO.isRimDevice||OO.isMacOs&&!OO.isMacOsLionOrLater||(e.push(OO.VIDEO.ENCODING.HLS),e.push(OO.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS),e.push(OO.VIDEO.ENCODING.AKAMAI_HD2_HLS)),window.navigator.userAgent.match(/SonyCEBrowser/)&&(e.push(OO.VIDEO.ENCODING.HLS),e.push(OO.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS),e.push(OO.VIDEO.ENCODING.AKAMAI_HD2_HLS))),e};this.encodings=e(),this.create=function(e,n,i,s,l){if(!(this.maxSupportedElements>0&&l&&r[l]>=this.maxSupportedElements)){var u=t("<video>");u.attr("class","video"),u.attr("id",n),u.attr("playsinline",!0),e.attr("data-autoplay")&&(u[0].autoplay=!0,u[0].muted=!0),OO.isSafari&&!OO.isIos?u.attr("preload","metadata"):u.attr("preload","none"),u.css(s),OO.isIos&&u.attr("x-webkit-airplay","allow");var c={width:e.width(),height:e.height()};l||(l=o());var d=new a(n,u[0],c,l);return r[l]&&r[l]>=0?r[l]++:r[l]=1,d.controller=i,i.notify(i.EVENTS.CAN_PLAY),d.subscribeAllEvents(),e.append(u),d}},this.destroy=function(){this.encodings=[],this.create=function(){}},this.maxSupportedElements=function(){var e=OO.isIos,t=OO.isAndroid&&(!OO.isAndroid4Plus||OO.chromeMajorVersion<40);return e||t?1:-1}()},a=function(n,i,a,s){this.controller={},this.disableNativeSeek=!1;var l=i,u=s,c="",d=!1,f={},h=!1,E=!1,_=!1,m=null,p=!1,O=!1,g=0,A=!1,S="track_cc",v=!0,T=a,I={height:0,width:0},y={value:0,reached:!0},D=!0,N=!1,C=!1,L=null,b={},P={},R=null,w=!1,k=-1,x={width:"",height:"",left:"50%",top:"50%","-webkit-transform":"translate(-50%,-50%)",visibility:"visible"};if(OO.isAndroid&&OO.isChrome){var V=e.bind(function(){document.hidden&&(D=!1)},this);document.addEventListener("visibilitychange",V)}this.sharedElementGive=function(){M(),c=""},this.sharedElementTake=function(){this.subscribeAllEvents()},this.subscribeAllEvents=function(){f={loadstart:H,loadedmetadata:U,progress:q,error:X,stalled:J,canplay:Z,canplaythrough:$,playing:Q,waiting:et,seeking:tt,seeked:nt,ended:rt,durationchange:it,timeupdate:at,play:ot,pause:st,ratechange:lt,volumechange:ut,volumechangeNew:ut,webkitbeginfullscreen:ct,webkitendfullscreen:dt},e.each(f,function(e,n){t(l).on(n,e)},this)};var M=function(){e.each(f,function(e,n){t(l).off(n,e)},this)};this.setVideoUrl=function(e,t,n){var r=!1;return c.replace(/[\?&]_=[^&]+$/,"")!=e&&(c=e||"",c.length>0&&OO.isChrome&&(c=c+(/\?/.test(c)?"&":"?")+"_="+o()),A=t==OO.VIDEO.ENCODING.HLS||t==OO.VIDEO.ENCODING.AKAMAI_HD2_VOD_HLS||t==OO.VIDEO.ENCODING.AKAMAI_HD2_HLS,C=n,r=!0,F(),l.src=""===c?null:c),r};var F=e.bind(function(){p=!1,E=!1,_=!1,m=null,h=!1,O=!1,v=!0,g=0,d=!1,I={height:0,width:0},y={value:0,reached:!0},D=!0,N=!1,Nt(),L=null,P={},t(l).find("."+S).remove(),b={}},this);this.onAdsPlayed=function(){},this.load=function(n){if(!h||n){if(n)if(OO.isEdge)g=0;else try{OO.isIos&&8==OO.iosMajorVersion?t(l).on("durationchange",e.bind(function(){l.currentTime=0,g=0},this)):(l.currentTime=0,g=0),l.pause()}catch(r){OO.log("VTC_OO: Failed to rewind video, probably ok; continuing")}E=!1,l.load(),h=!0}},this.setInitialTime=function(e){var t=(!_||d)&&0!==e,n=OO.isSafari&&d&&0===e;(t||n)&&(y.value=e,y.reached=!1,OO.isAndroid||n&&!OO.isIos?gt(y.value):this.seek(y.value))},this.play=function(){l.seeking?p=!0:Et(!1)},this.pause=function(){p=!1,l.pause()},this.seek=function(e){if(C)return!1;var t=Ot(l,e);return null!==t?(l.currentTime=t,O=!0,!0):(gt(e),!1)},this.setVolume=function(e){var t=e;0>t?t=0:t>1&&(t=1),l.volume=t,(""===l.currentSrc||null===l.currentSrc)&&ut({target:{volume:t}})},this.getCurrentTime=function(){return l.currentTime},this.primeVideoElement=function(){Et(!0),l.pause()},this.applyCss=function(e){t(l).css(e),ft()},this.destroy=function(){l.pause(),Nt(),OO.isIE||OO.isEdge||(l.src=""),M(),t(l).remove(),u&&r[u]&&r[u]>0&&r[u]--,V&&document.removeEventListener("visibilitychange",V)},this.setClosedCaptions=e.bind(function(n,r,i){var a=OO.iosMajorVersion,o=OO.macOsSafariVersion,s=a&&10>a||o&&10>o;if(s){if(t(l).find("."+S).remove(),P={},null==n)return}else{if(null==n)return t(l).find("."+S).remove(),void(P={});r&&t(l).children("."+S).each(function(){(t(this).label!=r.locale[n]||t(this).srclang!=n||"subtitles"!=t(this).kind)&&t(this).remove()})}var u="closed_captions_vtt";r&&r[u]&&e.each(r[u],function(e,t){var n={label:e.name,src:e.url,language:t,inStream:!1};W(n)});var c=OO.getRandomString(),d=i&&i.mode||OO.CONSTANTS.CLOSED_CAPTIONS.SHOWING;if(b[n]){var f=b[n];if(1==f.inStream&&l.textTracks)for(var h=0;h<l.textTracks.length;h++)(OO.isSafari||OO.isEdge)&&C||"captions"===l.textTracks[h].kind?(l.textTracks[h].mode=d,l.textTracks[h].oncuechange=j):l.textTracks[h].mode=OO.CONSTANTS.CLOSED_CAPTIONS.DISABLED,c=l.textTracks[h].id||l.textTracks[h].trackId||OO.getRandomString(),l.textTracks[h].trackId=c,P[c]=l.textTracks[h].mode;else if(!f.inStream){if(this.setClosedCaptionsMode(OO.CONSTANTS.CLOSED_CAPTIONS.DISABLED),s)t(l).append("<track id='"+c+"' class='"+S+"' kind='subtitles' label='"+f.label+"' src='"+f.src+"' srclang='"+f.language+"' default>"),l.textTracks&&l.textTracks[0]&&(l.textTracks[0].mode=d,d==OO.CONSTANTS.CLOSED_CAPTIONS.HIDDEN&&(l.textTracks[0].oncuechange=j));else if(0==t(l).children("."+S).length&&t(l).append("<track id='"+c+"' class='"+S+"' kind='subtitles' label='"+f.label+"' src='"+f.src+"' srclang='"+f.language+"' default>"),l.textTracks&&l.textTracks.length>0)for(var h=0;h<l.textTracks.length;h++)l.textTracks[h].mode=d,d==OO.CONSTANTS.CLOSED_CAPTIONS.HIDDEN&&(l.textTracks[h].oncuechange=j);P[c]=d,e.delay(function(e){if(l.textTracks&&l.textTracks[0]&&(l.textTracks[0].mode=e,OO.isFirefox))for(var t=0;t<l.textTracks[0].cues.length;t++)l.textTracks[0].cues[t].line=15},100,d)}}},this),this.setClosedCaptionsMode=e.bind(function(e){if(l.textTracks)for(var t=0;t<l.textTracks.length;t++){l.textTracks[t].mode=e;var n=l.textTracks[t].id||l.textTracks[t].trackId;P[n]=e}e==OO.CONSTANTS.CLOSED_CAPTIONS.DISABLED&&z("")},this),this.setCrossorigin=function(e){e?t(l).attr("crossorigin",e):t(l).removeAttr("crossorigin")};var H=e.bind(function(){Nt(),c=l.src,v=!0,d=!1,O=!1},this),U=e.bind(function(){OO.isSafari&&l&&l.textTracks&&(l.textTracks.onchange=G),At(),h=!0},this),G=e.bind(function(){for(var e=0;e<l.textTracks.length;e++){var t=l.textTracks[e].id||l.textTracks[e].trackId;"undefined"!=typeof P[t]&&l.textTracks[e].mode!==P[t]&&(OO.log("main_html5: Forcing text track mode for track "+t+". Expected: '"+P[t]+"', received: '"+l.textTracks[e].mode+"'"),l.textTracks[e].mode=P[t])}},this),j=e.bind(function(e){var t="";if(e&&e.currentTarget&&e.currentTarget.activeCues)for(var n=0;n<e.currentTarget.activeCues.length;n++)e.currentTarget.activeCues[n].text&&(t+=e.currentTarget.activeCues[n].text+"\n");z(t)},this),Y=e.bind(function(){var e="";if(l.textTracks)for(var t=0;t<l.textTracks.length;t++)if(l.textTracks[t].activeCues){for(var n=0;n<l.textTracks[t].activeCues.length;n++)l.textTracks[t].activeCues[n].text&&(e+=l.textTracks[t].activeCues[n].text+"\n");break}z(e)},this),B=e.bind(function(){if(l.textTracks&&l.textTracks.length>0)for(var e=0;e<l.textTracks.length;e++)if((OO.isSafari||OO.isEdge)&&C||"captions"===l.textTracks[e].kind){var t={language:"CC",inStream:!0,label:"In-Stream"};null==b[t.language]&&W(t)}},this),W=e.bind(function(e){null==e||null==e.language||b[e.language]&&b[e.language].src==e.src||(b[e.language]=e,K())},this),K=e.bind(function(){var t={languages:[],locale:{}};e.each(b,function(e,n){t.languages.push(n),t.locale[n]=e.label}),this.controller.notify(this.controller.EVENTS.CAPTIONS_FOUND_ON_PLAYING,t)},this),z=e.bind(function(e){e=e.trim(),e!=L&&(L=e,this.controller.notify(this.controller.EVENTS.CLOSED_CAPTION_CUE_CHANGED,e))},this),q=e.bind(function(e){var t=0;e.target.buffered&&e.target.buffered.length>0&&(t=e.target.buffered.end(0)),this.controller.notify(this.controller.EVENTS.PROGRESS,{currentTime:e.target.currentTime,duration:vt(e.target.duration),buffer:t,seekRange:_t(e.target.seekable)})},this),X=e.bind(function(e){Nt();var n=e.target.error?e.target.error.code:-1;(4!==n||"null"!==t(e.target).attr("src")&&""!==t(e.target).attr("src"))&&this.controller.notify(this.controller.EVENTS.ERROR,{errorcode:n})},this),J=e.bind(function(e){OO.isIpad&&0===e.target.currentTime&&l.pause(),this.controller.notify(this.controller.EVENTS.STALLED,{url:l.currentSrc})},this),Z=e.bind(function(){(OO.isFirefox||OO.isIos)&&w&&$(),E=!0,v&&this.controller.notify(this.controller.EVENTS.ASSET_DIMENSION,{width:l.videoWidth,height:l.videoHeight})},this),$=e.bind(function(){w=!1,this.controller.notify(this.controller.EVENTS.BUFFERED,{url:l.currentSrc})},this),Q=e.bind(function(){N||(this.controller.notify(this.controller.EVENTS.PLAYING),yt(),B(),v=!1,D=!0,O=!1,ft())},this),et=e.bind(function(){e.isEmpty(l.currentSrc)||(w=!0,this.controller.notify(this.controller.EVENTS.WAITING,{url:l.currentSrc}))},this),tt=e.bind(function(){O=!0,!N&&y.reached&&this.controller.notify(this.controller.EVENTS.SEEKING)},this),nt=e.bind(function(e){if(O=!1,ht(),this.disableNativeSeek){var t=Math.floor(l.currentTime),n=Math.floor(g);t!==n&&(l.currentTime=g)}y.reached?(this.controller.notify(this.controller.EVENTS.SEEKED),St(this.controller.EVENTS.TIME_UPDATE,e)):y.reached=!0},this),rt=e.bind(function(){Nt(),(l.ended||!OO.isSafari)&&(d||(d=!0,y.value=0,this.controller.notify(this.controller.EVENTS.ENDED)))},this),it=e.bind(function(e){St(this.controller.EVENTS.DURATION_CHANGE,e)},this),at=e.bind(function(e){O||(g=l.currentTime),y.value>0&&e.target.currentTime>=y.value&&(y.value=0),St(this.controller.EVENTS.TIME_UPDATE,e),At(),ft(),OO.isFirefox&&Y(),It(e)},this),ot=e.bind(function(e){N||this.controller.notify(this.controller.EVENTS.PLAY,{url:e.target.src})},this),st=e.bind(function(){N||(OO.isIpad&&0===l.currentTime||this.controller.notify(this.controller.EVENTS.PAUSED),Tt())},this),lt=e.bind(function(){this.controller.notify(this.controller.EVENTS.RATE_CHANGE)},this),ut=e.bind(function(e){var t=e.target.volume;e.target.muted&&(t=0),this.controller.notify(this.controller.EVENTS.VOLUME_CHANGE,{volume:t})},this),ct=e.bind(function(e){this.controller.notify(this.controller.EVENTS.FULLSCREEN_CHANGED,{isFullScreen:!0,paused:e.target.paused})},this),dt=e.bind(function(e){this.controller.notify(this.controller.EVENTS.FULLSCREEN_CHANGED,{isFullScreen:!1,paused:e.target.paused})},this),ft=function(){if(OO.isIpad){var e=l.videoWidth,n=l.videoHeight,r=T.width,i=T.height;if(e!=I.width||n!=I.height){var a=x;n/e>i/r?(a.width="",a.height="100%"):(a.width="100%",a.height=""),t(l).css(a),I.width=e,I.height=n}}},ht=e.bind(function(){p&&(p=!1,Et(!1))},this),Et=e.bind(function(e){N=e,h||this.load(!0),l.play(),N||(_=!0,d=!1)},this),_t=function(e){return e&&e.length&&"function"==typeof e.start&&"function"==typeof e.end?{start:e.length>0?e.start(0):0,end:e.length>0?e.end(0):0}:{start:0,end:0}},mt=function(){return OO.isSafari&&!E?null:l.seekable},pt=function(e,t){t-e<OO.CONSTANTS.SEEK_TO_END_LIMIT&&(e=t);var n=e>=t?t-.01:0>e?0:e;return OO.isIpad&&.1>n&&(n=.1),n},Ot=function(e,t){if("number"!=typeof t||!D)return null;var n=_t(mt());if(0===n.start&&0===n.end)return null;var r=pt(t,e.duration);return n.start<=r&&n.end>=r?r:null},gt=function(e){m=e},At=e.bind(function(){null!==m&&this.seek(m)&&(m=null)},this),St=e.bind(function(e,t){if(!N&&!(O||y.value>0)){var n=0;t.target.buffered&&t.target.buffered.length>0&&(n=t.target.buffered.end(0));var r=t&&t.target?t.target.currentTime:null;r&&"number"!=typeof r&&(r=Number(r));var i=_t(mt());this.controller.notify(e,{currentTime:r,duration:vt(t.target.duration),buffer:n,seekRange:i})}},this),vt=function(e){return 1/0===e||isNaN(e)?0:e},Tt=e.bind(function(){OO.isSafari&&!OO.isIos&&l.ended&&(console.log("VTC_OO: Force through the end of stream for Safari",l.currentSrc,l.duration,l.currentTime),rt())},this),It=e.bind(function(t){if(A){var n=vt(t.target.duration),r=Math.floor(n);l.currentTime==n&&n>r?(console.log("VTC_OO: manually triggering end of stream for m3u8",c,n,l.currentTime),e.defer(rt)):!OO.isSafari||OO.isIos||O!==!0||l.ended||Math.round(l.currentTime)!==Math.round(l.duration)||(this.controller.notify(this.controller.EVENTS.SEEKED),d=!0,y.value=0,this.controller.notify(this.controller.EVENTS.ENDED))}},this),yt=e.bind(function(){if((OO.isChrome||OO.isIos||OO.isIE11Plus||OO.isEdge)&&!R){var e=300;R=setInterval(Dt,e)}},this),Dt=e.bind(function(){return _?l.ended?Nt():void(l.paused||l.currentTime!=k?(k=l.currentTime,w&&$()):w||et()):void 0},this),Nt=e.bind(function(){clearInterval(R),R=null,w=!1,k=-1},this)},o=function(){return Math.random().toString(36).substring(7)};OO.Video.plugin(new i)}(OO._,OO.$)},{"../../../html5-common/js/utils/InitModules/InitOO.js":1,"../../../html5-common/js/utils/InitModules/InitOOHazmat.js":2,"../../../html5-common/js/utils/InitModules/InitOOUnderscore.js":3,"../../../html5-common/js/utils/constants.js":4,"../../../html5-common/js/utils/environment.js":5,"../../../html5-common/js/utils/utils.js":6}]},{},[9]);