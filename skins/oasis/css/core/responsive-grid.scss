@import "layout";
@import "../mixins/box-sizing";
@import "../mixins/clearfix";

$columns: 12 !default;

// Functions should be vendor prefixed so they don't collide
// width standard CSS3 function names.
@function -wikia-gutter-width( $span: 1 ) {
	@return $span * $width-gutter;
}

@function -wikia-column-width( $span: 1, $columns: $columns ) {
	@return $span * ( 100% / $columns );
}

// This should be applied on the containing element
@mixin grid( $columns: $columns ) {
	margin-left: -wikia-gutter-width( -1 );

	@for $span from 1 through $columns {
		.span-#{ $span } {
			width: -wikia-column-width( $span, $columns );
		}
	}
}

// This should be applied to a generic selector ONLY
// DO NOT apply this to every column.
@mixin grid-column() {
	@include box-sizing( border-box );
	float: left;
	padding-left: -wikia-gutter-width();
	overflow: hidden;
}

// This should be applied to a generic selector ONLY
// DO NOT apply this to every row.
@mixin grid-row() {
	@include clearfix;
	padding-bottom: -wikia-gutter-width();

	&.last,
	&:last-of-type {
		padding-bottom: 0;
	}
}

.grid {
	// Convenience classes for the most commonly used grid layout
	&.columns-12 {
		@include grid;
	}

	// Generic row using standard gutter width
	.row {
		@include grid-row;
	}

	// Generic column using standard gutter width
	.column {
		@include grid-column;
	}
}

